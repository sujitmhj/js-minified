!function(e){function t(t){for(var o,s,i=t[0],l=t[1],c=t[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);d.length;)d.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],o=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(o=!1)}o&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var o={},a={1:0},n=[];function s(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=o,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(r,o,function(t){return e[t]}.bind(null,o));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/static/compiled/";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([489,0]),r()}({1:function(e,t,r){"use strict";r.d(t,"a",function(){return v});var o=r(0),a=r.n(o),n=r(23),s=r.n(n),i=r(48),l=r.n(i);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=!1,f=function e(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";o.match&&(r=o.match(/\<(\w+)\s?\/?\>/))&&(o=r[1]);var n=function(e,r){return"[object Object]"===Object.prototype.toString.call(r)?Object.keys(r).forEach(function(o){r[o]&&(e["".concat(t,"--").concat(o)]=!0)}):r&&(e["".concat(t,"--").concat(r)]=!0),e},i=function(e){p(i,a.a.Component);var r=d(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r.apply(this,arguments)}return function(e,t,r){t&&u(e.prototype,t),r&&u(e,r)}(i,[{key:"render",value:function(){var e=l()({},this.props),r=[].concat(this.props.m||this.props.modifier).reduce(n,{});return delete e.m,delete e.modifier,e.className=s()(t,r,this.props.classNames,this.props.className),delete e.classNames,a.a.createElement(o,e)}}]),i}();return i.displayName="BEM.".concat(t),i.__createBemChildElement=i.__=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";return e("".concat(t,"__").concat(r),o)},_&&(_._klasses[t]=i),i},h={};f.init=function(){return(_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h[e]?h[e]:e?(h[e]=f(e),h[e].modifiers=t,h[e]):void 0===e?h:void 0})._klasses=h,_},f.stop=function(){_=!1,h=!1};var b=l()(function(){if(!b.on)return!1;if(b.group||(console.log(console.group("bem")),b.group=!0),window.setTimeout(function(){console.groupEnd("bem"),b.group=!1},0),b.on){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log.apply(console,t)}},{on:!1,group:!1});f.logClassNames=function(e){return b.on=void 0===e||!!e,f};var g=f,v=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"bemClasses","/home/sujit/projects/ndrrma/survey/source/jsapp/js/libs/react-create-bem-element.es6"),__REACT_HOT_LOADER__.register(f,"reactCreateBemElement","/home/sujit/projects/ndrrma/survey/source/jsapp/js/libs/react-create-bem-element.es6"),__REACT_HOT_LOADER__.register(h,"klasses","/home/sujit/projects/ndrrma/survey/source/jsapp/js/libs/react-create-bem-element.es6"),__REACT_HOT_LOADER__.register(b,"logClassNames","/home/sujit/projects/ndrrma/survey/source/jsapp/js/libs/react-create-bem-element.es6"),__REACT_HOT_LOADER__.register(g,"BEM","/home/sujit/projects/ndrrma/survey/source/jsapp/js/libs/react-create-bem-element.es6")),g.init());v.Button=g("mdl-button","<button>"),v.KoboButton=g("kobo-button","<button>"),v.KoboLightButton=g("kobo-light-button","<button>"),v.KoboTextButton=g("kobo-text-button","<button>"),v.KoboLightBadge=g("kobo-light-badge","<span>"),v.PageWrapper=g("page-wrapper"),v.PageWrapper__content=v.PageWrapper.__("content"),v.Loading=g("loading"),v.Loading__inner=v.Loading.__("inner"),v.Loading__msg=v.Loading.__("msg"),v.EmptyContent=g("empty-content","<section>"),v.EmptyContent__icon=v.EmptyContent.__("icon","<i>"),v.EmptyContent__title=v.EmptyContent.__("title","<h1>"),v.EmptyContent__message=v.EmptyContent.__("message","<p>"),v.EmptyContent__button=v.EmptyContent.__("button","<button>"),v.AssetRow=g("asset-row","<li>"),v.AssetRow__cell=v.AssetRow.__("cell"),v.AssetRow__cellmeta=v.AssetRow.__("cellmeta"),v.AssetRow__description=v.AssetRow.__("description","<span>"),v.AssetRow__tags=v.AssetRow.__("tags"),v.AssetRow__tags__tag=v.AssetRow.__("tags__tag","<span>"),v.AssetRow__tags__notags=v.AssetRow.__("tags__notags","<span>"),v.AssetRow__actionIcon=v.AssetRow.__("action-icon","<a>"),v.AssetRow__buttons=v.AssetRow.__("buttons"),v.AssetRow__typeIcon=v.AssetRow.__("type-icon","<span>"),v.ServiceRow=g("service-row"),v.ServiceRow__column=v.ServiceRow.__("column"),v.ServiceRow__actionButton=v.ServiceRow.__("action-button","<button>"),v.ServiceRow__linkOverlay=v.ServiceRow.__("link-overlay","<a>"),v.ServiceRowButton=g("service-row-button","<button>"),v.FormBuilder=g("formBuilder"),v.FormBuilder__row=v.FormBuilder.__("row"),v.FormBuilder__contents=v.FormBuilder.__("contents"),v.FormBuilderMeta=v("form-builder-meta"),v.FormBuilderMeta__columns=v.FormBuilderMeta.__("columns"),v.FormBuilderMeta__column=v.FormBuilderMeta.__("column"),v.FormBuilderMeta__row=v.FormBuilderMeta.__("row"),v.FormBuilderAside=g("form-builder-aside"),v.FormBuilderAside__content=v.FormBuilderAside.__("content"),v.FormBuilderAside__header=v.FormBuilderAside.__("header","<h2>"),v.FormBuilderAside__row=v.FormBuilderAside.__("row","<section>"),v.FormBuilderHeader=g("formBuilder-header"),v.FormBuilderHeader__row=v.FormBuilderHeader.__("row"),v.FormBuilderHeader__cell=v.FormBuilderHeader.__("cell"),v.FormBuilderHeader__item=v.FormBuilderHeader.__("item","<span>"),v.FormBuilderHeader__button=v.FormBuilderHeader.__("button","<button>"),v.FormBuilderHeader__close=v.FormBuilderHeader.__("close","<button>"),v.Search=g("search"),v.Search__icon=v.Search.__("icon","<i>"),v.Search__cancel=v.Search.__("cancel","<i>"),v.Search__summary=v.Search.__("summary"),v.LibNav=g("lib-nav"),v.LibNav__content=v.LibNav.__("content"),v.LibNav__header=v.LibNav.__("header"),v.LibNav__footer=v.LibNav.__("footer"),v.LibNav__search=v.LibNav.__("search"),v.LibNav__expanded=v.LibNav.__("expanded"),v.LibNav__count=v.LibNav.__("count"),v.LibNav__expandedToggle=v.LibNav.__("expandedToggle"),v.TemplatesList=g("templates-list"),v.TemplatesList__header=v.TemplatesList.__("header"),v.TemplatesList__column=v.TemplatesList.__("column"),v.TemplatesList__template=v.TemplatesList.__("template","<label>"),v.TemplatesList__templateRadio=v.TemplatesList.__("template-radio","<input>"),v.LibList=g("lib-list","<ul>"),v.LibList__item=v.LibList.__("item","<li>"),v.LibList__tags=v.LibList.__("tags"),v.LibList__tag=v.LibList.__("tag","<span>"),v.LibList__label=v.LibList.__("label"),v.LibList__dragbox=v.LibList.__("dragbox"),v.LibList__qtype=v.LibList.__("qtype"),v.SubmissionDataTable=v("submission-data-table"),v.SubmissionDataTable__row=v.SubmissionDataTable.__("row"),v.SubmissionDataTable__column=v.SubmissionDataTable.__("column"),v.SubmissionDataTable__XMLName=v.SubmissionDataTable.__("xml-name"),v.SubmissionDataTable__value=v.SubmissionDataTable.__("value"),v.TableMeta=v("table-meta"),v.TableMeta__counter=v.TableMeta.__("counter"),v.TableMeta__additionalText=v.TableMeta.__("additional-text"),v.TableMeta__bulkOptions=v.TableMeta.__("bulk-options"),v.CollectionsWrapper=v("collections-wrapper"),v.CollectionNav=v("collection-nav"),v.CollectionNav__search=v.CollectionNav.__("search"),v.CollectionNav__searchcriteria=v.CollectionNav.__("searchcriteria","<ul>"),v.CollectionNav__searchcriterion=v.CollectionNav.__("searchcriterion","<li>"),v.CollectionNav__actions=v.CollectionNav.__("actions"),v.CollectionNav__button=v.CollectionNav.__("button","<button>"),v.CollectionNav__link=v.CollectionNav.__("link","<a>"),v.CollectionNav__searchcancel=v.CollectionNav.__("searchcancel","<i>"),v.CollectionNav__searchicon=v.CollectionNav.__("searchicon","<i>"),v.Library=g("library"),v.Library__typeFilter=v.Library.__("type-filter","<label>"),v.List=g("list"),v.List__heading=v.List.__("heading"),v.List__subheading=v.List.__("subheading"),v.AssetList=g("asset-list"),v.AssetItems=g("asset-items","<ul>"),v.AssetListSorts=g("asset-list-sorts","<div>"),v.AssetListSorts__item=v.AssetListSorts.__("item"),v.Message=g("message"),v.FormView=g("form-view"),v.FormView__title=v.FormView.__("title"),v.FormView__name=v.FormView.__("name"),v.FormView__description=v.FormView.__("description"),v.FormView__subs=v.FormView.__("subs"),v.FormView__toptabs=v.FormView.__("toptabs"),v.FormView__sidetabs=v.FormView.__("sidetabs"),v.FormView__tab=v.FormView.__("tab","<a>"),v.FormView__label=v.FormView.__("label"),v.FormView__group=v.FormView.__("group"),v.FormView__item=v.FormView.__("item"),v.FormView__iconButton=v.FormView.__("icon-button","<button>"),v.FormView__row=v.FormView.__("row"),v.FormView__cell=v.FormView.__("cell"),v.FormView__cellLabel=v.FormView.__("cell-label"),v.FormView__column=v.FormView.__("column"),v.FormView__banner=v.FormView.__("banner"),v.FormView__link=v.FormView.__("link","<a>"),v.FormView__secondaryButtons=v.FormView.__("secondaryButtons"),v.FormView__secondaryButton=v.FormView.__("secondaryButton","<button>"),v.FormView__reportButtons=v.FormView.__("reportButtons"),v.FormView__form=v.FormView.__("form","<form>"),v.FormView__map=v.FormView.__("map"),v.FormView__mapButton=v.FormView.__("map-button"),v.FormView__mapList=v.FormView.__("map-list"),v.MainHeader=g("main-header","<header>"),v.MainHeader__icon=v.MainHeader.__("icon","<i>"),v.MainHeader__title=v.MainHeader.__("title"),v.MainHeader__counter=v.MainHeader.__("counter"),v.ReportView=g("report-view"),v.ReportView__wrap=v.ReportView.__("wrap"),v.ReportView__item=v.ReportView.__("item"),v.ReportView__itemHeading=v.ReportView.__("itemHeading"),v.ReportView__headingMeta=v.ReportView.__("headingMeta"),v.ReportView__itemContent=v.ReportView.__("itemContent"),v.ReportView__headingButton=v.ReportView.__("headingButton","<button>"),v.ReportView__chart=v.ReportView.__("chart"),v.GraphSettings=g("graph-settings"),v.GraphSettings__buttons=v.GraphSettings.__("buttons"),v.GraphSettings__charttype=v.GraphSettings.__("charttype"),v.GraphSettings__colors=v.GraphSettings.__("colors"),v.GraphSettings__radio=v.GraphSettings.__("radio"),v.FormModal=g("form-modal"),v.FormModal__form=v.FormModal.__("form","<form>"),v.FormModal__item=v.FormModal.__("item"),v.FormModal__group=v.FormModal.__("group"),v.Modal=g("modal"),v.Modal__backdrop=v.Modal.__("backdrop"),v.Modal__body=v.Modal.__("body"),v.Modal__content=v.Modal.__("content"),v.Modal__header=v.Modal.__("header","<header>"),v.Modal__title=v.Modal.__("title","<h4>"),v.Modal__subheader=v.Modal.__("subheader","<header>"),v.Modal__footer=v.Modal.__("footer","<footer>"),v.Modal__tabs=v.Modal.__("tabs"),v.Modal__hr=v.Modal.__("hr","<hr>"),v.PopoverMenu=g("popover-menu"),v.PopoverMenu__content=v.PopoverMenu.__("content"),v.PopoverMenu__toggle=v.PopoverMenu.__("toggle","<a>"),v.PopoverMenu__link=v.PopoverMenu.__("link","<a>"),v.PopoverMenu__item=v.PopoverMenu.__("item"),v.PopoverMenu__heading=v.PopoverMenu.__("heading"),v.PopoverMenu__moveTo=v.PopoverMenu.__("moveTo"),v.Header=g("header"),v.Header__logo=v.Header.__("logo","<span>"),v.AccountBox=g("account-box"),v.AccountBox__name=v.AccountBox.__("name","<div>"),v.AccountBox__initials=v.AccountBox.__("initials","<span>"),v.AccountBox__menu=v.AccountBox.__("menu","<ul>"),v.AccountBox__menuLI=v.AccountBox.__("menu-li","<li>"),v.AccountBox__menuItem=v.AccountBox.__("menu-item","<div>"),v.AccountBox__menuLink=v.AccountBox.__("menu-link","<a>"),v.AccountSettings=g("account-settings"),v.AccountSettings__left=v.AccountSettings.__("left"),v.AccountSettings__right=v.AccountSettings.__("right"),v.AccountSettings__item=v.FormModal.__("item"),v.AccountSettings__desc=v.AccountSettings.__("desc"),v.AccountSettings__actions=v.AccountSettings.__("actions"),v.UserRow=g("user-row"),v.UserRow__info=v.UserRow.__("info"),v.UserRow__avatar=v.UserRow.__("avatar"),v.UserRow__name=v.UserRow.__("name"),v.UserRow__email=v.UserRow.__("email"),v.UserRow__perms=v.UserRow.__("perms"),v.UserRow__perm=v.UserRow.__("perm"),v.UserRow__editor=v.UserRow.__("editor"),v.uiPanel=g("ui-panel"),v.uiPanel__body=v.uiPanel.__("body"),v.FormSidebar=g("form-sidebar"),v.FormSidebar__item=v.FormSidebar.__("item","<a>"),v.FormSidebar__itemText=v.FormSidebar.__("item-text"),v.FormSidebar__label=v.FormSidebar.__("label","<a>"),v.FormSidebar__labelText=v.FormSidebar.__("label-text"),v.FormSidebar__labelCount=v.FormSidebar.__("label-count"),v.FormSidebar__grouping=v.FormSidebar.__("grouping"),v.KDrawer=g("k-drawer"),v.KDrawer__primaryIcons=v.KDrawer.__("primary-icons","nav"),v.KDrawer__secondaryIcons=v.KDrawer.__("secondary-icons","nav"),v.KDrawer__sidebar=v.KDrawer.__("sidebar","aside"),v.HelpBubble=g("help-bubble"),v.HelpBubble__close=v.HelpBubble.__("close","button"),v.HelpBubble__back=v.HelpBubble.__("back","button"),v.HelpBubble__trigger=v.HelpBubble.__("trigger","button"),v.HelpBubble__triggerCounter=v.HelpBubble.__("trigger-counter","span"),v.HelpBubble__popup=v.HelpBubble.__("popup"),v.HelpBubble__popupContent=v.HelpBubble.__("popup-content"),v.HelpBubble__row=v.HelpBubble.__("row"),v.HelpBubble__rowAnchor=v.HelpBubble.__("row","a"),v.HelpBubble__rowWrapper=v.HelpBubble.__("row-wrapper"),v.SimpleTable=g("simple-table","table"),v.SimpleTable__header=v.SimpleTable.__("header","thead"),v.SimpleTable__body=v.SimpleTable.__("body","tbody"),v.SimpleTable__footer=v.SimpleTable.__("footer","tfoot"),v.SimpleTable__row=v.SimpleTable.__("row","tr"),v.SimpleTable__cell=v.SimpleTable.__("cell","td"),v.AssetsTable=g("assets-table"),v.AssetsTable__header=v.AssetsTable.__("header"),v.AssetsTable__body=v.AssetsTable.__("body"),v.AssetsTable__footer=v.AssetsTable.__("footer"),v.AssetsTableRow=g("assets-table-row"),v.AssetsTableRow__link=v.AssetsTableRow.__("link","<a>"),v.AssetsTableRow__buttons=v.AssetsTableRow.__("buttons"),v.AssetsTableRow__column=v.AssetsTableRow.__("column"),v.AssetsTableRow__headerLabel=v.AssetsTableRow.__("header-label","span"),v.AssetsTableRow__tags=v.AssetsTableRow.__("tags","<div>"),v.AssetsTableRow__tag=v.AssetsTableRow.__("tag","<span>"),v.AssetsTablePagination=g("assets-table-pagination"),v.AssetsTablePagination__button=v.AssetsTablePagination.__("button","<button>"),v.AssetsTablePagination__index=v.AssetsTablePagination.__("index"),v.AssetActionButtons=g("asset-action-buttons","<menu>"),v.AssetActionButtons__button=v.AssetActionButtons.__("button","<a>"),v.AssetActionButtons__iconButton=v.AssetActionButtons.__("icon-button","<a>"),v.tagSelect=g("tag-select"),v.collectionFilter=g("collection-filter"),v.TextBox=g("text-box","<label>"),v.TextBox__label=v.TextBox.__("label"),v.TextBox__labelLink=v.TextBox.__("label-link","<a>"),v.TextBox__input=v.TextBox.__("input","<input>"),v.TextBox__description=v.TextBox.__("description"),v.TextBox__error=v.TextBox.__("error"),v.Checkbox=g("checkbox"),v.Checkbox__wrapper=v.Checkbox.__("wrapper","<label>"),v.Checkbox__input=v.Checkbox.__("input","<input>"),v.Checkbox__label=v.Checkbox.__("label","<span>"),v.MultiCheckbox=g("multi-checkbox","ul"),v.MultiCheckbox__item=v.MultiCheckbox.__("item","<li>"),v.ToggleSwitch=g("toggle-switch"),v.ToggleSwitch__wrapper=v.ToggleSwitch.__("wrapper","<label>"),v.ToggleSwitch__input=v.ToggleSwitch.__("input","<input>"),v.ToggleSwitch__slider=v.ToggleSwitch.__("slider","<span>"),v.ToggleSwitch__label=v.ToggleSwitch.__("label","<span>"),v.Radio=g("radio"),v.Radio__row=v.Radio.__("row","<label>"),v.Radio__input=v.Radio.__("input","<input>"),v.Radio__label=v.Radio.__("label","<span>"),v.PasswordStrength=g("password-strength"),v.PasswordStrength__title=v.PasswordStrength.__("title"),v.PasswordStrength__bar=v.PasswordStrength.__("bar"),v.PasswordStrength__indicator=v.PasswordStrength.__("indicator"),v.PasswordStrength__messages=v.PasswordStrength.__("messages","<ul>"),v.PasswordStrength__message=v.PasswordStrength.__("message","<li>"),v.Breadcrumbs=g("breadcrumbs"),v.Breadcrumbs__crumb=v.Breadcrumbs.__("crumb","<a>"),v.Breadcrumbs__divider=v.Breadcrumbs.__("divider","<i>"),v.AssetInfoBox=g("asset-info-box"),v.AssetInfoBox__column=v.AssetInfoBox.__("column"),v.AssetInfoBox__cell=v.AssetInfoBox.__("cell"),v.AssetInfoBox__toggle=v.AssetInfoBox.__("toggle","<button>"),v.PrintOnly=g("print-only"),v.GitRev=g("git-rev"),v.GitRev__item=v.GitRev.__("item","<div>"),v.create=g,"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(v,"bem","/home/sujit/projects/ndrrma/survey/source/jsapp/js/bem.es6")},113:function(e,t,r){"use strict";var o=r(15),a=r(7),n=r.n(a),s=r(13),i=r(6),l=r(5),c=r(39),u=r(2),p=n.a.createStore({isVirgin:!0,data:{isFetchingData:!1,collections:[]},init:function(){s.f.listen(this.startupStore),i.a.session.listen(this.startupStore),l.a.library.getCollections.completed.listen(this.onGetCollectionsCompleted),l.a.library.getCollections.failed.listen(this.onGetCollectionsFailed),l.a.resources.loadAsset.completed.listen(this.onAssetChangedOrCreated),l.a.resources.updateAsset.completed.listen(this.onAssetChangedOrCreated),l.a.resources.cloneAsset.completed.listen(this.onAssetChangedOrCreated),l.a.resources.createResource.completed.listen(this.onAssetChangedOrCreated),l.a.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted),this.startupStore()},startupStore:function(){this.isVirgin&&Object(c.c)()&&void 0!==i.a.session.currentAccount&&!this.data.isFetchingData&&this.fetchData()},onGetCollectionsCompleted:function(e){this.data.collections=e.results,this.data.isFetchingData=!1,this.isVirgin=!1,this.trigger(this.data)},onGetCollectionsFailed:function(){this.data.isFetchingData=!1,this.trigger(this.data)},onAssetChangedOrCreated:function(e){if(e.asset_type===u.ASSET_TYPES.collection.id&&e.owner__username===i.a.session.currentAccount.username){for(var t=!1,r=0;r<this.data.collections.length;r++)if(this.data.collections[r].uid===e.uid){this.data.collections[r]=e,t=!0;break}t||this.data.collections.push(e),this.trigger(this.data)}},onDeleteAssetCompleted:function(e){var t=e.uid;if(e.assetType===u.ASSET_TYPES.collection.id){var r=o.default.findIndex(this.data.collections,{uid:t});-1!==r&&(this.data.collections.splice(r,1),this.trigger(this.data))}},fetchData:function(){this.data.isFetchingData=!0,this.trigger(this.data),l.a.library.getCollections({owner:i.a.session.currentAccount.username,pageSize:0})},find:function(e){return this.data.collections.find(function(t){return t.uid===e})}}),d=p;t.a=d,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"ownedCollectionsStore","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/ownedCollectionsStore.es6"),__REACT_HOT_LOADER__.register(d,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/ownedCollectionsStore.es6"))},114:function(e,t,r){"use strict";var o=r(0),a=r.n(o),n=r(9),s=r.n(n),i=r(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,r)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,a.a.Component);var t,r,o=p(n);function n(e){var t;if(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),"function"!=typeof e.onChange)throw new Error("onChange callback missing!");return t=o.call(this,e),s()(d(t)),t}return t=n,(r=[{key:"onChange",value:function(e){this.props.onChange(e.currentTarget.name,e.currentTarget.value)}},{key:"render",value:function(){var e=this;return a.a.createElement(i.a.Radio,null,this.props.title&&a.a.createElement(i.a.Radio__row,{m:"title"},this.props.title),this.props.options.map(function(t){return a.a.createElement(i.a.Radio__row,{key:t.value},a.a.createElement(i.a.Radio__input,{type:"radio",value:t.value,name:e.props.name,onChange:e.onChange,checked:e.props.selected===t.value}),a.a.createElement(i.a.Radio__label,null,t.label))}))}}])&&c(t.prototype,r),n}(),f=_;t.a=f,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"Radio","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/common/radio.es6"),__REACT_HOT_LOADER__.register(f,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/common/radio.es6"))},115:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(14),f=o.n(_),h=o(27),b=o(84),g=o(26),v=o(22),y=o(1),w=o(12),k=o(83),E=o.n(k),x=o(6),S=o(13),T=o(17),O=o(8),C=o(3);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=D(e);if(t){var a=D(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?P(e):t}(this,r)}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(s,n.a.Component);var r,o,a=L(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={isLoading:!1,templates:[],templatesCount:0,selectedTemplateUid:null,currentAccountUsername:x.a.session.currentAccount?x.a.session.currentAccount.username:null},p()(P(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.fetchTemplates()}},{key:"fetchTemplates",value:function(){var e=this;this.setState({isLoading:!0}),O.a.listTemplates().then(function(t){e.setState({templates:t.results,templatesCount:t.count,isLoading:!1})})}},{key:"onSelectedTemplateChange",value:function(e){this.setState({selectedTemplateUid:e.target.value}),"function"==typeof this.props.onSelectTemplate&&this.props.onSelectTemplate(e.target.value)}},{key:"render",value:function(){var e=this;return this.state.isLoading?n.a.createElement(y.a.Loading,null,n.a.createElement(y.a.Loading__inner,null,n.a.createElement("i",null),t("loading..."))):0===this.state.templatesCount?n.a.createElement(y.a.FormView__cell,null,t("You have no templates. Go to Library and create some.")):n.a.createElement(y.a.TemplatesList,null,n.a.createElement(y.a.TemplatesList__header,{className:["templates-list__row"]},n.a.createElement(y.a.TemplatesList__column,{m:"name"},t("Template name")),n.a.createElement(y.a.TemplatesList__column,{m:"owner"},t("Owner")),n.a.createElement(y.a.TemplatesList__column,{m:"date"},t("Last modified")),n.a.createElement(y.a.TemplatesList__column,{m:"questions"},t("Questions"))),this.state.templates.map(function(t){var r="selected_template_".concat(t.uid);return n.a.createElement(y.a.TemplatesList__template,{key:t.uid,htmlFor:r,className:["templates-list__row",e.state.selectedTemplateUid===t.uid?"selected":""]},n.a.createElement(y.a.TemplatesList__column,{m:"name"},t.name),n.a.createElement(y.a.TemplatesList__column,{m:"owner"},Object(w.e)(t.owner__username)),n.a.createElement(y.a.TemplatesList__column,{m:"date"},Object(C.formatTime)(t.date_modified)),n.a.createElement(y.a.TemplatesList__column,{m:"questions"},t.summary.row_count),n.a.createElement(y.a.TemplatesList__templateRadio,{type:"radio",name:"selected_template",id:r,value:t.uid,checked:e.state.selectedTemplateUid===t.uid,onChange:e.onSelectedTemplateChange}))}))}}])&&R(r.prototype,o),s}();c()(F.prototype,m.a.ListenerMixin);var M=F,N=M,B=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(F,"TemplatesList","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/templatesList.es6"),__REACT_HOT_LOADER__.register(M,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/templatesList.es6")),o(5)),I=o(2);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=Y(e);if(t){var a=Y(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?q(e):t}(this,r)}}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(s,n.a.Component);var r,o,a=z(s);function s(e){var r;!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(r=a.call(this,e)).STEPS={FORM_SOURCE:"form-source",CHOOSE_TEMPLATE:"choose-template",UPLOAD_FILE:"upload-file",IMPORT_URL:"import-url",PROJECT_DETAILS:"project-details"},r.unlisteners=[];var o=r.props.formAsset;return r.state={isSessionLoaded:!!x.a.session.currentAccount,isSubmitPending:!1,formAsset:o,name:o?o.name:"",description:o?o.settings.description:"",sector:o?o.settings.sector:null,country:o?o.settings.country:null,"share-metadata":!!o&&o.settings["share-metadata"],currentStep:null,previousStep:null,isImportFromURLPending:!1,importUrl:"",importUrlButtonEnabled:!1,importUrlButton:t("Import"),isApplyTemplatePending:!1,applyTemplateButton:t("Next"),chosenTemplateUid:null,isUploadFilePending:!1,isAwaitingArchiveCompleted:!1,isAwaitingUnarchiveCompleted:!1},p()(q(r)),r}return r=s,(o=[{key:"componentDidMount",value:function(){var e=this;this.setInitialStep(),this.listenTo(x.a.session,function(){e.setState({isSessionLoaded:!0})}),this.unlisteners.push(B.a.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this)),B.a.resources.updateAsset.failed.listen(this.onUpdateAssetFailed.bind(this)),B.a.resources.cloneAsset.completed.listen(this.onCloneAssetCompleted.bind(this)),B.a.resources.cloneAsset.failed.listen(this.onCloneAssetFailed.bind(this)),B.a.resources.setDeploymentActive.failed.listen(this.onSetDeploymentActiveFailed.bind(this)),B.a.resources.setDeploymentActive.completed.listen(this.onSetDeploymentActiveCompleted.bind(this)),S.f.listen(this.onRouteChange.bind(this)))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"setInitialStep",value:function(){switch(this.props.context){case I.PROJECT_SETTINGS_CONTEXTS.NEW:case I.PROJECT_SETTINGS_CONTEXTS.REPLACE:return this.displayStep(this.STEPS.FORM_SOURCE);case I.PROJECT_SETTINGS_CONTEXTS.EXISTING:case I.PROJECT_SETTINGS_CONTEXTS.BUILDER:return this.displayStep(this.STEPS.PROJECT_DETAILS);default:throw new Error("Unknown context: ".concat(this.props.context,"!"))}}},{key:"getBaseTitle",value:function(){switch(this.props.context){case I.PROJECT_SETTINGS_CONTEXTS.NEW:return t("Create project");case I.PROJECT_SETTINGS_CONTEXTS.REPLACE:return t("Replace form");case I.PROJECT_SETTINGS_CONTEXTS.EXISTING:case I.PROJECT_SETTINGS_CONTEXTS.BUILDER:default:return t("Project settings")}}},{key:"getStepTitle",value:function(e){switch(e){case this.STEPS.FORM_SOURCE:return t("Choose a source");case this.STEPS.CHOOSE_TEMPLATE:return t("Choose template");case this.STEPS.UPLOAD_FILE:return t("Upload XLSForm");case this.STEPS.IMPORT_URL:return t("Import XLSForm");case this.STEPS.PROJECT_DETAILS:return t("Project details");default:return""}}},{key:"getFilenameFromURI",value:function(e){return decodeURIComponent(new URL(e).pathname.split("/").pop().split(".")[0])}},{key:"onAnyDataChange",value:function(e,t){"function"==typeof this.props.onProjectDetailsChange&&this.props.onProjectDetailsChange({fieldName:e,fieldValue:t})}},{key:"onNameChange",value:function(e){this.setState({name:Object(w.l)(e.target.value)}),this.onAnyDataChange("name",Object(w.l)(e.target.value))}},{key:"onDescriptionChange",value:function(e){this.setState({description:Object(w.l)(e.target.value)}),this.onAnyDataChange("description",Object(w.l)(e.target.value))}},{key:"onCountryChange",value:function(e){this.setState({country:e}),this.onAnyDataChange("country",e)}},{key:"onSectorChange",value:function(e){this.setState({sector:e}),this.onAnyDataChange("sector",e)}},{key:"onShareMetadataChange",value:function(e){this.setState({"share-metadata":e}),this.onAnyDataChange("share-metadata",e)}},{key:"onImportUrlChange",value:function(e){this.setState({importUrl:e,importUrlButtonEnabled:Object(C.isAValidUrl)(e),importUrlButton:t("Import")})}},{key:"onTemplateChange",value:function(e){this.setState({chosenTemplateUid:e})}},{key:"resetApplyTemplateButton",value:function(){this.setState({isApplyTemplatePending:!1,applyTemplateButton:t("Choose")})}},{key:"resetImportUrlButton",value:function(){this.setState({isImportFromURLPending:!1,importUrlButtonEnabled:!1,importUrlButton:t("Import")})}},{key:"deleteProject",value:function(){this.deleteAsset(this.state.formAsset.uid,this.state.formAsset.name,this.goToProjectsList.bind(this))}},{key:"isArchived",value:function(){return this.state.formAsset.has_deployment&&!this.state.formAsset.deployment__active}},{key:"archiveProject",value:function(){this.archiveAsset(this.state.formAsset.uid,this.onArchiveProjectStarted.bind(this))}},{key:"onArchiveProjectStarted",value:function(){this.setState({isAwaitingArchiveCompleted:!0})}},{key:"unarchiveProject",value:function(){this.unarchiveAsset(this.state.formAsset.uid,this.onUnarchiveProjectStarted.bind(this))}},{key:"onUnarchiveProjectStarted",value:function(){this.setState({isAwaitingUnarchiveCompleted:!0})}},{key:"onSetDeploymentActiveFailed",value:function(){this.setState({isAwaitingArchiveCompleted:!1,isAwaitingUnarchiveCompleted:!1})}},{key:"onSetDeploymentActiveCompleted",value:function(){this.state.isAwaitingArchiveCompleted&&this.goToProjectsList(),this.state.isAwaitingUnarchiveCompleted&&this.goToFormLanding(),this.setState({isAwaitingArchiveCompleted:!1,isAwaitingUnarchiveCompleted:!1})}},{key:"onRouteChange",value:function(){this.setState({isAwaitingArchiveCompleted:!1,isAwaitingUnarchiveCompleted:!1})}},{key:"goToFormBuilder",value:function(e){x.a.pageState.hideModal(),S.f.push("/forms/".concat(e,"/edit"))}},{key:"goToFormLanding",value:function(){var e;if(x.a.pageState.hideModal(),this.state.formAsset?e=this.state.formAsset.uid:this.context.router&&this.context.router.params.assetid?e=this.context.router.params.assetid:this.context.router&&this.context.router.params.uid&&(e=this.context.router.params.uid),!e)throw new Error("Unknown uid!");S.f.push(I.ROUTES.FORM_LANDING.replace(":uid",e))}},{key:"goToProjectsList",value:function(){x.a.pageState.hideModal(),S.f.push(I.ROUTES.FORMS)}},{key:"displayStep",value:function(e){var t=this.state.currentStep,r=this.state.previousStep;if(e!==t&&(e===r?this.setState({currentStep:r,previousStep:null}):this.setState({currentStep:e,previousStep:t}),this.props.onSetModalTitle)){var o=this.getStepTitle(e),a=this.getBaseTitle();this.props.onSetModalTitle("".concat(a,": ").concat(o))}}},{key:"displayPreviousStep",value:function(){this.state.previousStep&&this.displayStep(this.state.previousStep)}},{key:"onUpdateAssetCompleted",value:function(){this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.REPLACE&&this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.NEW||this.goToFormLanding()}},{key:"onUpdateAssetFailed",value:function(){this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.REPLACE&&this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.NEW||this.resetApplyTemplateButton()}},{key:"onCloneAssetCompleted",value:function(e){this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.REPLACE&&this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.NEW||this.state.currentStep!==this.STEPS.CHOOSE_TEMPLATE||(this.setState({formAsset:e,name:e.name,description:e.settings.description,sector:e.settings.sector,country:e.settings.country,"share-metadata":e.settings["share-metadata"]||!1}),this.resetApplyTemplateButton(),this.displayStep(this.STEPS.PROJECT_DETAILS))}},{key:"onCloneAssetFailed",value:function(){this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.REPLACE&&this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.NEW||this.resetApplyTemplateButton()}},{key:"getOrCreateFormAsset",value:function(){var e=this;return new Promise(function(r,o){e.state.formAsset?r(e.state.formAsset):O.a.createResource({name:"Untitled",asset_type:"survey",settings:JSON.stringify({description:"",sector:null,country:null,"share-metadata":!1})}).done(function(e){r(e)}).fail(function(e){o(t("Error: asset could not be created.")+" (code: ".concat(e.statusText,")"))})})}},{key:"createAssetAndOpenInBuilder",value:function(){var e=this;O.a.createResource({name:this.state.name,settings:JSON.stringify({description:this.state.description,sector:this.state.sector,country:this.state.country,"share-metadata":this.state["share-metadata"]}),asset_type:"survey"}).done(function(t){e.goToFormBuilder(t.uid)}).fail(function(e){f.a.error(t("Error: new project could not be created.")+" (code: ".concat(e.statusText,")"))})}},{key:"updateAndOpenAsset",value:function(){B.a.resources.updateAsset(this.state.formAsset.uid,{name:this.state.name,settings:JSON.stringify({description:this.state.description,sector:this.state.sector,country:this.state.country,"share-metadata":this.state["share-metadata"]})})}},{key:"applyTemplate",value:function(e){e.preventDefault(),this.setState({isApplyTemplatePending:!0,applyTemplateButton:t("Please wait…")}),this.props.context===I.PROJECT_SETTINGS_CONTEXTS.REPLACE?B.a.resources.updateAsset(this.state.formAsset.uid,{clone_from:this.state.chosenTemplateUid,name:this.state.formAsset.name}):B.a.resources.cloneAsset({uid:this.state.chosenTemplateUid,new_asset_type:"survey"})}},{key:"importFromURL",value:function(e){var r=this;e.preventDefault(),Object(C.isAValidUrl)(this.state.importUrl)&&(this.setState({isImportFromURLPending:!0,importUrlButtonEnabled:!1,importUrlButton:t("Retrieving form, please wait...")}),this.getOrCreateFormAsset().then(function(e){r.setState({formAsset:e});var o=r.state.importUrl;r.applyUrlToAsset(o,e).then(function(e){O.a.getAsset({id:e.uid}).done(function(e){if(r.props.context===I.PROJECT_SETTINGS_CONTEXTS.REPLACE)r.goToFormLanding();else{var t=e.name;"Untitled"===t&&(t=r.getFilenameFromURI(o)),r.setState({formAsset:e,name:t,description:e.settings.description,sector:e.settings.sector,country:e.settings.country,"share-metadata":e.settings["share-metadata"],isImportFromURLPending:!1}),r.displayStep(r.STEPS.PROJECT_DETAILS)}}).fail(function(){r.resetImportUrlButton(),f.a.error(t("Failed to reload project after import!"))})},function(e){r.resetImportUrlButton();var a=[];a.push(t("Import Failed!")),o&&a.push("<code>Name: ".concat(r.getFilenameFromURI(o),"</code>")),e.messages.error&&a.push("<code>".concat(e.messages.error_type,": ").concat(Object(C.escapeHtml)(e.messages.error),"</code>")),f.a.error(a.join("<br/>"))})},function(){f.a.error(t("Could not initialize XLSForm import!"))}))}},{key:"onFileDrop",value:function(e){var r=this;e.length>=1&&(this.setState({isUploadFilePending:!0}),this.getOrCreateFormAsset().then(function(o){r.applyFileToAsset(e[0],o).then(function(o){O.a.getAsset({id:o.uid}).done(function(t){if(B.a.resources.loadAsset.completed(t),r.props.context===I.PROJECT_SETTINGS_CONTEXTS.REPLACE)r.goToFormLanding();else{var o=t.name;"Untitled"===o&&(o=e[0].name.split(".xlsx")[0]),r.setState({formAsset:t,name:o,description:t.settings.description,sector:t.settings.sector,country:t.settings.country,"share-metadata":t.settings["share-metadata"],isUploadFilePending:!1}),r.displayStep(r.STEPS.PROJECT_DETAILS)}}).fail(function(){r.setState({isUploadFilePending:!1}),f.a.error(t("Failed to reload project after upload!"))})},function(o){r.setState({isUploadFilePending:!1});var a=[];a.push(t("Import Failed!")),e[0].name&&a.push("<code>Name: ".concat(e[0].name,"</code>")),o.messages.error&&a.push("<code>".concat(o.messages.error_type,": ").concat(Object(C.escapeHtml)(o.messages.error),"</code>")),f.a.error(a.join("<br/>"))})},function(){r.setState({isUploadFilePending:!1}),f.a.error(t("Could not import XLSForm!"))}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.name.trim()?(this.setState({isSubmitPending:!0}),this.state.formAsset?this.updateAndOpenAsset():this.createAssetAndOpenInBuilder()):f.a.error(t("Please enter a title for your project!"))}},{key:"getNameInputLabel",value:function(e){var r=t("Project Name");return e.length>=I.NAME_MAX_LENGTH-99&&(r+=" (".concat(t("##count## characters left").replace("##count##",I.NAME_MAX_LENGTH-e.length),")")),r}},{key:"renderChooseTemplateButton",value:function(){return n.a.createElement("button",{onClick:this.displayStep.bind(this,this.STEPS.CHOOSE_TEMPLATE)},n.a.createElement("i",{className:"k-icon-template-new"}),t("Use a template"))}},{key:"renderStepFormSource",value:function(){return n.a.createElement(y.a.FormModal__form,{className:"project-settings project-settings--form-source"},this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.REPLACE&&n.a.createElement(y.a.Modal__subheader,null,t("Choose one of the options below to continue. You will be prompted to enter name and other details in further steps.")),n.a.createElement(y.a.FormModal__item,{m:"form-source-buttons"},this.props.context===I.PROJECT_SETTINGS_CONTEXTS.NEW&&n.a.createElement("button",{onClick:this.displayStep.bind(this,this.STEPS.PROJECT_DETAILS)},n.a.createElement("i",{className:"k-icon-edit"}),t("Build from scratch")),this.props.context===I.PROJECT_SETTINGS_CONTEXTS.NEW&&this.renderChooseTemplateButton(),n.a.createElement("button",{onClick:this.displayStep.bind(this,this.STEPS.UPLOAD_FILE)},n.a.createElement("i",{className:"k-icon-upload"}),t("Upload an XLSForm")),n.a.createElement("button",{onClick:this.displayStep.bind(this,this.STEPS.IMPORT_URL)},n.a.createElement("i",{className:"k-icon-link"}),t("Import an XLSForm via URL")),this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.NEW&&this.renderChooseTemplateButton()))}},{key:"renderStepChooseTemplate",value:function(){return n.a.createElement(y.a.FormModal__form,{className:"project-settings project-settings--choose-template"},n.a.createElement(N,{onSelectTemplate:this.onTemplateChange}),n.a.createElement(y.a.Modal__footer,null,this.renderBackButton(),n.a.createElement(y.a.KoboButton,{m:"blue",type:"submit",onClick:this.applyTemplate,disabled:!this.state.chosenTemplateUid||this.state.isApplyTemplatePending},this.state.applyTemplateButton)))}},{key:"renderStepUploadFile",value:function(){return n.a.createElement(y.a.FormModal__form,{className:"project-settings project-settings--upload-file"},n.a.createElement(y.a.Modal__subheader,null,t("Import an XLSForm from your computer.")),!this.state.isUploadFilePending&&n.a.createElement(b.a,{onDrop:this.onFileDrop.bind(this),multiple:!1,className:"dropzone",activeClassName:"dropzone-active",rejectClassName:"dropzone-reject",accept:Object(C.validFileTypes)()},n.a.createElement("i",{className:"k-icon-xls-file"}),t(" Drag and drop the XLSForm file here or click to browse")),this.state.isUploadFilePending&&n.a.createElement("div",{className:"dropzone"},this.renderLoading(t("Uploading file…"))),n.a.createElement(y.a.Modal__footer,null,this.renderBackButton()))}},{key:"renderStepImportUrl",value:function(){return n.a.createElement(y.a.FormModal__form,{className:"project-settings project-settings--import-url"},n.a.createElement("div",{className:"intro"},t("Enter a valid XLSForm URL in the field below."),n.a.createElement("br",null),x.a.serverEnvironment&&x.a.serverEnvironment.state.support_url&&n.a.createElement("a",{href:x.a.serverEnvironment.state.support_url+"xls_url.html",target:"_blank"},t("Having issues? See this help article."))),n.a.createElement(y.a.FormModal__item,null,n.a.createElement(g.a,{type:"url",label:t("URL"),placeholder:"https://",value:this.state.importUrl,onChange:this.onImportUrlChange})),n.a.createElement(y.a.Modal__footer,null,this.renderBackButton(),n.a.createElement(y.a.KoboButton,{m:"blue",type:"submit",onClick:this.importFromURL,disabled:!this.state.importUrlButtonEnabled},this.state.importUrlButton)))}},{key:"renderStepProjectDetails",value:function(){var e=x.a.session.environment.available_sectors,r=x.a.session.environment.available_countries,o=w.b.isSelfOwned(this.state.formAsset);return n.a.createElement(y.a.FormModal__form,{onSubmit:this.handleSubmit,onChange:this.onProjectDetailsFormChange,className:["project-settings","project-settings--project-details",this.props.context===I.PROJECT_SETTINGS_CONTEXTS.BUILDER?"project-settings--narrow":null].join(" ")},this.props.context===I.PROJECT_SETTINGS_CONTEXTS.EXISTING&&n.a.createElement(y.a.Modal__footer,null,n.a.createElement(y.a.KoboButton,{type:"submit",m:"blue",onClick:this.handleSubmit},t("Save Changes"))),n.a.createElement(y.a.FormModal__item,{m:"wrapper"},this.props.context!==I.PROJECT_SETTINGS_CONTEXTS.BUILDER&&n.a.createElement(y.a.FormModal__item,null,n.a.createElement("label",{htmlFor:"name"},this.getNameInputLabel(this.state.name)),n.a.createElement("input",{type:"text",maxLength:I.NAME_MAX_LENGTH,id:"name",placeholder:t("Enter title of project here"),value:this.state.name,onChange:this.onNameChange})),n.a.createElement(y.a.FormModal__item,null,n.a.createElement("label",{htmlFor:"description"},t("Description")),n.a.createElement(E.a,{onChange:this.onDescriptionChange,value:this.state.description,placeholder:t("Enter short description here")})),n.a.createElement(y.a.FormModal__item,null,n.a.createElement("label",{className:"long"},t("Please specify the country and the sector where this project will be deployed. "))),n.a.createElement(y.a.FormModal__item,{m:"sector"},n.a.createElement("label",{htmlFor:"sector"},t("Sector")),n.a.createElement(h.a,{id:"sector",value:this.state.sector,onChange:this.onSectorChange,options:e,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isClearable:!0})),n.a.createElement(y.a.FormModal__item,{m:"country"},n.a.createElement("label",{htmlFor:"country"},t("Country")),n.a.createElement(h.a,{id:"country",value:this.state.country,onChange:this.onCountryChange,options:r,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isClearable:!0})),n.a.createElement(y.a.FormModal__item,{m:"metadata-share"},n.a.createElement(v.a,{checked:this.state["share-metadata"],onChange:this.onShareMetadataChange,label:t("Help KoboToolbox improve this product by sharing the sector and country where this project will be deployed.")+" "+t("All the information is submitted anonymously, and will not include the project name or description listed above.")})),(this.props.context===I.PROJECT_SETTINGS_CONTEXTS.NEW||this.props.context===I.PROJECT_SETTINGS_CONTEXTS.REPLACE)&&n.a.createElement(y.a.Modal__footer,null,!this.state.formAsset&&this.renderBackButton(),n.a.createElement(y.a.KoboButton,{m:"blue",type:"submit",onClick:this.handleSubmit,disabled:this.state.isSubmitPending},this.state.isSubmitPending&&t("Please wait…"),!this.state.isSubmitPending&&this.props.context===I.PROJECT_SETTINGS_CONTEXTS.NEW&&t("Create project"),!this.state.isSubmitPending&&this.props.context===I.PROJECT_SETTINGS_CONTEXTS.REPLACE&&t("Save"))),this.props.context===I.PROJECT_SETTINGS_CONTEXTS.EXISTING&&n.a.createElement(y.a.FormModal__item,null,n.a.createElement(y.a.FormModal__item,{m:"inline"},this.isArchived()&&n.a.createElement(y.a.KoboButton,{m:"blue",onClick:this.unarchiveProject},t("Unarchive Project")),!this.isArchived()&&n.a.createElement(y.a.KoboButton,{m:"orange",onClick:this.archiveProject},t("Archive Project"))),n.a.createElement(y.a.FormModal__item,{m:"inline"},this.isArchived()?t("Unarchive project to resume accepting submissions."):t("Archive project to stop accepting submissions."))),o&&this.props.context===I.PROJECT_SETTINGS_CONTEXTS.EXISTING&&n.a.createElement(y.a.FormModal__item,null,n.a.createElement(y.a.KoboButton,{m:"red",onClick:this.deleteProject},t("Delete Project and Data")))))}},{key:"renderBackButton",value:function(){if(this.state.previousStep){var e=this.state.isSubmitPending||this.state.isApplyTemplatePending||this.state.isImportFromURLPending||this.state.isUploadFilePending;return n.a.createElement(y.a.KoboButton,{m:"whitegray",type:"button",onClick:this.displayPreviousStep,disabled:e},t("Back"))}return!1}},{key:"renderLoading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t("loading…");return n.a.createElement(y.a.Loading,null,n.a.createElement(y.a.Loading__inner,null,n.a.createElement("i",null),e))}},{key:"render",value:function(){if(!this.state.isSessionLoaded||!this.state.currentStep)return this.renderLoading();switch(this.state.currentStep){case this.STEPS.FORM_SOURCE:return this.renderStepFormSource();case this.STEPS.CHOOSE_TEMPLATE:return this.renderStepChooseTemplate();case this.STEPS.UPLOAD_FILE:return this.renderStepUploadFile();case this.STEPS.IMPORT_URL:return this.renderStepImportUrl();case this.STEPS.PROJECT_DETAILS:return this.renderStepProjectDetails();default:throw new Error("Unknown step: ".concat(this.state.currentStep,"!"))}}}])&&V(r.prototype,o),s}();c()(G.prototype,m.a.ListenerMixin),c()(G.prototype,T.a.permissions),c()(G.prototype,T.a.droppable),c()(G.prototype,T.a.dmix),G.contextTypes={router:i.a.object};var $=G;r.a=$,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("xls_url.html","VIA_URL_SUPPORT_URL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/projectSettings.es6"),__REACT_HOT_LOADER__.register(G,"ProjectSettings","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/projectSettings.es6"),__REACT_HOT_LOADER__.register($,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/projectSettings.es6"))},116:function(e,r,o){"use strict";o.d(r,"c",function(){return A}),o.d(r,"d",function(){return R}),o.d(r,"a",function(){return j}),o.d(r,"b",function(){return L}),o(15);var a=o(0),n=o.n(a),s=o(11),i=o.n(s),l=o(9),c=o.n(l),u=o(7),p=o.n(u),d=o(27),m=o(22),_=o(18),f=o(1),h=o(5),b=o(8),g=o(40),v=o(6),y=o(2);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t,r){return t&&E(e.prototype,t),r&&E(e,r),e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=C(e);if(t){var a=C(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?O(e):t}(this,r)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){S(r,n.a.Component);var t=T(r);function r(e){var o;return k(this,r),(o=t.call(this,e)).state={},c()(O(o)),o}return x(r,[{key:"componentDidMount",value:function(){this.listenTo(this.searchStore,this.searchStoreChanged)}},{key:"searchStoreChanged",value:function(e){e.cleared&&this.refs["formlist-search"].setValue(""),this.setState(e)}},{key:"getValue",value:function(){return this.refs["formlist-search"].getValue()}},{key:"render",value:function(){return n.a.createElement(f.a.Search,{m:[this.state.searchState]},n.a.createElement(f.a.Search__icon,null),n.a.createElement(_.a.SearchBox,{ref:"formlist-search",placeholder:this.props.placeholderText,onChange:this.searchChangeEvent}),n.a.createElement(f.a.Search__cancel,{m:{active:"none"!==this.state.searchState},onClick:this.searchClear}))}}]),r}();A.defaultProps={searchContext:"default",placeholderText:t("Search...")},i()(A.prototype,g.a.common),i()(A.prototype,p.a.ListenerMixin);var R=function(e){S(o,n.a.Component);var r=T(o);function o(e){var t;return k(this,o),(t=r.call(this,e)).state={availableTags:[],tagsLoaded:!1},c()(O(t)),t}return x(o,[{key:"componentDidMount",value:function(){this.listenTo(v.a.tags,this.tagsLoaded),this.listenTo(this.searchStore,this.searchStoreChanged),h.a.resources.listTags(this.searchStore.filterTagQueryData)}},{key:"searchStoreChanged",value:function(e){if(e.cleared)this.setState(e);else if(e.searchTags){var t=null;0!==e.searchTags.length&&(t=e.searchTags),this.setState({selectedTags:t})}}},{key:"tagsLoaded",value:function(e){this.setState({tagsLoaded:!0,availableTags:e.map(function(e){return{label:e.name,value:e.name.replace(/\s/g,"-")}}),selectedTags:null})}},{key:"onTagsChange",value:function(e){this.searchTagsChange(e)}},{key:"render",value:function(){return n.a.createElement(f.a.tagSelect,null,n.a.createElement("i",{className:"fa fa-search"}),n.a.createElement(d.a,{name:"tags",isMulti:!0,isLoading:!this.state.tagsLoaded,loadingMessage:function(){return t("Tags are loading...")},placeholder:t("Search Tags"),noOptionsMessage:function(){return t("No results found")},options:this.state.availableTags,onChange:this.onTagsChange,className:[this.props.hidden?"hidden":null,"kobo-select"].join(" "),classNamePrefix:"kobo-select",value:this.state.selectedTags,menuPlacement:"auto"}))}}]),o}();R.defaultProps={searchContext:"default",hidden:!1},i()(R.prototype,g.a.common),i()(R.prototype,p.a.ListenerMixin);var j=function(e){S(o,n.a.Component);var r=T(o);function o(e){var t;return k(this,o),(t=r.call(this,e)).state={availableCollections:[],collectionsLoaded:!1},c()(O(t)),t}return x(o,[{key:"componentDidMount",value:function(){this.queryCollections()}},{key:"queryCollections",value:function(){var e=this;b.a.getCollections().then(function(t){var r=t.results.filter(function(e){return e.access_types&&!e.access_types.includes(y.ACCESS_TYPES.public)});e.setState({collectionsLoaded:!0,availableCollections:r.map(function(e){return{label:e.name,value:e.uid}}),selectedCollection:!1})})}},{key:"onCollectionChange",value:function(e){e?(this.searchCollectionChange(e.value),this.setState({selectedCollection:e})):(this.searchClear(),this.setState({selectedCollection:!1}))}},{key:"render",value:function(){return n.a.createElement(f.a.collectionFilter,null,n.a.createElement(d.a,{name:"collections",placeholder:t("Select Collection Name"),isClearable:!0,isLoading:!this.state.collectionsLoaded,loadingMessage:function(){return t("Collections are loading...")},options:this.state.availableCollections,onChange:this.onCollectionChange,value:this.state.selectedCollection,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}))}}]),o}();j.defaultProps={searchContext:"default"},i()(j.prototype,g.a.common),i()(j.prototype,p.a.ListenerMixin);var L=function(e){S(o,n.a.Component);var r=T(o);function o(e){var t;return k(this,o),(t=r.call(this,e)).state={assetNavExpanded:v.a.pageState.state.assetNavExpanded},c()(O(t)),t}return x(o,[{key:"componentDidMount",value:function(){this.listenTo(this.searchStore,this.searchStoreChanged)}},{key:"searchStoreChanged",value:function(e){this.setState(e)}},{key:"onExpandedToggleChange",value:function(e){v.a.pageState.setState({assetNavExpanded:e}),this.setState({assetNavExpanded:e})}},{key:"render",value:function(){var e=this.state.defaultQueryCount;return this.state.searchResultsDisplayed&&(e=this.state.searchResultsCount),n.a.createElement(f.a.LibNav__expanded,{className:{hidden:this.props.hidden}},n.a.createElement(f.a.LibNav__count,null,e," ",t("assets found")),n.a.createElement(f.a.LibNav__expandedToggle,null,n.a.createElement(m.a,{checked:this.state.assetNavExpanded,onChange:this.onExpandedToggleChange,label:t("expand details")})))}}]),o}();L.defaultProps={searchContext:"default",hidden:!1},i()(L.prototype,g.a.common),i()(L.prototype,p.a.ListenerMixin);var P=function(e){S(o,n.a.Component);var r=T(o);function o(e){var t;return k(this,o),(t=r.call(this,e)).state={},c()(O(t)),t}return x(o,[{key:"componentDidMount",value:function(){this.listenTo(this.searchStore,this.searchStoreChanged)}},{key:"searchStoreChanged",value:function(e){this.setState(e)}},{key:"render",value:function(){var e=this.state.searchResultsSuccess,r=this.state.searchDebugQuery;return n.a.createElement(f.a.CollectionNav__searchcriteria,null,n.a.createElement(f.a.CollectionNav__searchcriterion,{m:{success:e}},t("success"),this.state.searchResultsSuccess?t("yes"):t("no")),n.a.createElement(f.a.CollectionNav__searchcriterion,null,t("count"),this.state.searchResultsCount),r?n.a.createElement(f.a.CollectionNav__searchcriterion,{m:"code"},r):null)}}]),o}();P.defaultProps={searchContext:"default"},i()(P.prototype,g.a.common),i()(P.prototype,p.a.ListenerMixin);var D={ListSearch:A,ListSearchDebug:P,ListTagFilter:R,ListCollectionFilter:j,ListExpandToggle:L};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(A,"ListSearch","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/list.es6"),__REACT_HOT_LOADER__.register(R,"ListTagFilter","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/list.es6"),__REACT_HOT_LOADER__.register(j,"ListCollectionFilter","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/list.es6"),__REACT_HOT_LOADER__.register(L,"ListExpandToggle","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/list.es6"),__REACT_HOT_LOADER__.register(P,"ListSearchDebug","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/list.es6"),__REACT_HOT_LOADER__.register(D,"list","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/list.es6"))},12:function(e,r,o){"use strict";o.d(r,"a",function(){return u}),o.d(r,"e",function(){return p}),o.d(r,"c",function(){return h}),o.d(r,"d",function(){return v}),o.d(r,"h",function(){return S}),o.d(r,"g",function(){return T}),o.d(r,"i",function(){return O}),o.d(r,"j",function(){return C}),o.d(r,"m",function(){return R}),o.d(r,"f",function(){return j}),o.d(r,"k",function(){return D}),o.d(r,"l",function(){return M});var a=o(0),n=o.n(a),s=o(6),i=o(20),l=o(3),c=o(2);function u(e){return e.map(function(e){return e.trim().replace(/ /g,"-")})}function p(e){return s.a.session.currentAccount&&s.a.session.currentAccount.username&&s.a.session.currentAccount.username===e?t("me"):e}function d(e){return e.settings.organization?e.settings.organization:"-"}function m(e){return e.summary&&e.summary.languages&&e.summary.languages.length>=1?e.summary.languages.join(", "):"-"}function _(e){return e.settings.sector?e.settings.sector.label:"-"}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.settings.country?t?e.settings.country.label:e.settings.country.value:"-"}function h(e){var r={};return e.name&&(r.original=e.name),e.summary&&e.summary.labels&&e.summary.labels.length>0&&(r.question=e.summary.labels[0]),r.original||r.question||(r.empty=t("untitled")),r.final=r.original||r.question||r.empty,r}function b(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.label&&Array.isArray(e.label)?e.label[r]:e.label&&!Array.isArray(e.label)?e.label:e.name?e.name:e.$autoname?e.$autoname:void t("Unlabelled")}function g(e){return e===c.ASSET_TYPES.question.id||e===c.ASSET_TYPES.block.id||e===c.ASSET_TYPES.template.id||e===c.ASSET_TYPES.collection.id}function v(e){return e.asset_type===c.ASSET_TYPES.template.id?"k-icon-template-new":e.asset_type===c.ASSET_TYPES.question.id?"k-icon-question-new":e.asset_type===c.ASSET_TYPES.block.id?"k-icon-block-new":e.asset_type===c.ASSET_TYPES.survey.id?e.has_deployment?"k-icon-deploy":"k-icon-drafts":e.asset_type===c.ASSET_TYPES.collection.id?e.access_types&&e.access_types.includes(c.ACCESS_TYPES.subscribed)?"k-icon-folder-subscribed":P(e.permissions)?"k-icon-folder-public":e.access_types&&e.access_types.includes(c.ACCESS_TYPES.shared)?"k-icon-folder-shared":"k-icon-folder":void 0}function y(e){var t;e.asset_type===c.ASSET_TYPES.template.id?t=c.MODAL_TYPES.LIBRARY_TEMPLATE:e.asset_type===c.ASSET_TYPES.collection.id&&(t=c.MODAL_TYPES.LIBRARY_COLLECTION),s.a.pageState.showModal({type:t,asset:e})}function w(e){s.a.pageState.showModal({type:c.MODAL_TYPES.SHARING,assetid:e.uid})}function k(e){s.a.pageState.showModal({type:c.MODAL_TYPES.FORM_LANGUAGES,asset:e})}function E(e){s.a.pageState.showModal({type:c.MODAL_TYPES.ASSET_TAGS,asset:e})}function x(e){s.a.pageState.showModal({type:c.MODAL_TYPES.REPLACE_PROJECT,asset:e})}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={},o=[];return e.forEach(function(e){var a=T(e);if(void 0!==c.GROUP_TYPES_BEGIN[e.type])o.push(a),t&&(r[a]=o.join("/"));else if(void 0!==c.GROUP_TYPES_END[e.type])o.pop();else if(c.QUESTION_TYPES[e.type]||e.type===c.SCORE_ROW_TYPE||e.type===c.RANK_LEVEL_TYPE){var n="";o.length>=1&&(n=o.join("/")+"/"),r[a]="".concat(n).concat(a)}}),r}function T(e){return e.name||e.$autoname||e.$kuid}function O(e,t,r){var o,a;if(t.forEach(function(t,r){T(t)===e&&(a=t,o=r)}),Object.prototype.hasOwnProperty.call(a,"label"))return A(a,r);var n=t[o+1];return C(a,n)?A(n,r):null}function C(e,t){if(e&&t&&Object.prototype.hasOwnProperty.call(t,"label")){var r=T(e),o=T(t);return o==="".concat(r,"_label")&&t.type===c.QUESTION_TYPES.note.id||o==="".concat(r,"_note")&&t.type===c.QUESTION_TYPES.note.id||o==="".concat(r,"_header")&&t.type===c.QUESTION_TYPES.select_one.id}return!1}function A(e,t){return Array.isArray(e.label)?e.label[t]:e.label}function R(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t=e===c.SCORE_ROW_TYPE?c.QUESTION_TYPES.score:e===c.RANK_LEVEL_TYPE?c.QUESTION_TYPES.rank:c.QUESTION_TYPES[e]){var o=r;return o.push("fa"),o.push(t.faIcon),n.a.createElement("i",{className:o.join(" "),title:e})}return n.a.createElement("small",null,n.a.createElement("code",null,e))}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],o=[],a=0;return e.forEach(function(e){"begin_group"!==e.type&&"begin_repeat"!==e.type||o.push(b(e,t)),"end_group"!==e.type&&"end_repeat"!==e.type||o.pop(),"begin_repeat"===e.type?a++:"end_repeat"===e.type&&a--,c.QUESTION_TYPES[e.type]&&r.push({type:e.type,name:T(e),isRequired:e.required,label:b(e,t),parents:o.slice(0),hasRepatParent:a>=1})}),r}function L(e){var r=[];return e.asset_type===c.ASSET_TYPES.collection.id?(e.name&&e.settings.organization&&e.settings.sector||r.push(t("Name, organization and sector are required to make collection public.")),0===e.children.count&&r.push(t("Empty collection is not allowed to be made public."))):r.push(t("Only collections are allowed to be made public!")),r}function P(e){var t=!1;return e.forEach(function(e){e.user===Object(l.buildUserUrl)(c.ANON_USERNAME)&&e.permission===i.a.getPermissionByCodename(c.PERMISSIONS_CODENAMES.discover_asset).url&&(t=!0)}),t}function D(e){return e&&s.a.session.currentAccount&&e.owner__username===s.a.session.currentAccount.username}function F(e){return"".concat(c.ROOT_URL,"/api/v2/assets/").concat(e,"/")}function M(e){return String(e||"").replace(/((?:[\0-\x08\x0B\f\x0E-\x1F\uFFFD\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/g,"")}var N={buildAssetUrl:F,cleanupTags:u,editLanguages:k,editTags:E,getAssetDisplayName:h,getAssetIcon:v,getAssetOwnerDisplayName:p,getCountryDisplayString:f,getFlatQuestionsList:j,getLanguagesDisplayString:m,getOrganizationDisplayString:d,getQuestionDisplayName:b,getRowName:T,getSectorDisplayString:_,getSurveyFlatPaths:S,getTranslatedRowLabel:O,isAssetPublic:P,isAssetPublicReady:L,isLibraryAsset:g,isRowSpecialLabelHolder:C,isSelfOwned:D,modifyDetails:y,renderTypeIcon:R,replaceForm:x,share:w,removeInvalidChars:M};r.b=N,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"cleanupTags","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(p,"getAssetOwnerDisplayName","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(d,"getOrganizationDisplayString","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(m,"getLanguagesDisplayString","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(_,"getSectorDisplayString","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(f,"getCountryDisplayString","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(h,"getAssetDisplayName","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(b,"getQuestionDisplayName","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(g,"isLibraryAsset","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(v,"getAssetIcon","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(y,"modifyDetails","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(w,"share","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(k,"editLanguages","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(E,"editTags","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(x,"replaceForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(S,"getSurveyFlatPaths","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(T,"getRowName","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(O,"getTranslatedRowLabel","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(C,"isRowSpecialLabelHolder","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(A,"getRowLabelAtIndex","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(R,"renderTypeIcon","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(j,"getFlatQuestionsList","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(L,"isAssetPublicReady","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(P,"isAssetPublic","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(D,"isSelfOwned","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(F,"buildAssetUrl","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(M,"removeInvalidChars","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"),__REACT_HOT_LOADER__.register(N,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetUtils.es6"))},129:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(9),i=o.n(s),l=o(306),c=o.n(l),u=o(12);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?f(e):t}(this,r)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=t("Type and confirm with ENTER"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,n.a.Component);var t,r,o=_(a);function a(e){var t;return function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),t=o.call(this,e),i()(f(t)),t}return t=a,(r=[{key:"onChange",value:function(e){var t=e.join(",").split(",");t=Array.from(new Set(Object(u.a)(t))),this.props.onChange(t.join(","))}},{key:"pasteSplit",value:function(e){return e.split(",").map(function(e){return e.trim()})}},{key:"render",value:function(){var e={placeholder:this.props.placeholder||b};this.props.label&&(e.id=String(encodeURI(this.props.label)+"_"+Date.now()).toLowerCase());var t=[];return"string"==typeof this.props.tags&&this.props.tags.length>=1&&(t=this.props.tags.split(",")),n.a.createElement("div",null,this.props.label&&n.a.createElement("label",{htmlFor:e.id},this.props.label),n.a.createElement(c.a,{value:t,onChange:this.onChange,inputProps:e,onlyUnique:!0,addOnBlur:!0,addOnPaste:!0,pasteSplit:this.pasteSplit}))}}])&&d(t.prototype,r),a}(),v=g;r.a=v,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"DEFAULT_PLACEHOLDER","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/common/koboTagsInput.es6"),__REACT_HOT_LOADER__.register(",","TAGS_SEPARATOR","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/common/koboTagsInput.es6"),__REACT_HOT_LOADER__.register(g,"KoboTagsInput","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/common/koboTagsInput.es6"),__REACT_HOT_LOADER__.register(v,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/common/koboTagsInput.es6"))},130:function(e,r,o){"use strict";o.d(r,"a",function(){return P});var a=o(0),n=o.n(a),s=o(33),i=o.n(s),l=o(9),c=o.n(l),u=o(18),p=o(1),d=o(3),m=o(304),_=o(2),f=o(12),h=o(21);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=k(e);if(t){var a=k(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?w(e):t}(this,r)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,n.a.Component);var t,r,o=y(a);function a(e){var t;return function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),t=o.call(this,e),c()(w(t)),t}return t=a,(r=[{key:"render",value:function(){var e,t="";this.props.asset&&(t=f.b.getAssetIcon(this.props.asset));var r=null;return this.props.asset.asset_type!==_.ASSET_TYPES.collection.id&&(null===(e=this.props.asset.summary)||void 0===e?void 0:e.row_count)?r=this.props.asset.summary.row_count:this.props.asset.asset_type===_.ASSET_TYPES.collection.id&&this.props.asset.children&&(r=this.props.asset.children.count),n.a.createElement(p.a.AssetsTableRow,{m:["asset","type-".concat(this.props.asset.asset_type)]},n.a.createElement(p.a.AssetsTableRow__link,{href:"#/library/asset/".concat(this.props.asset.uid)}),n.a.createElement(p.a.AssetsTableRow__buttons,null,n.a.createElement(m.a,{asset:this.props.asset})),n.a.createElement(p.a.AssetsTableRow__column,{m:"icon-status"},n.a.createElement("i",{className:"k-icon ".concat(t)})),n.a.createElement(p.a.AssetsTableRow__column,{m:"name"},n.a.createElement(u.a.AssetName,this.props.asset),this.props.asset.settings&&this.props.asset.tag_string&&this.props.asset.tag_string.length>0&&n.a.createElement(p.a.AssetsTableRow__tags,null,this.props.asset.tag_string.split(",").map(function(e){return[" ",n.a.createElement(p.a.AssetsTableRow__tag,{key:e},e)]}))),n.a.createElement(p.a.AssetsTableRow__column,{m:"item-count"},null!==r&&n.a.createElement(p.a.AssetsTableRow__tag,{m:"gray-circle"},r)),n.a.createElement(p.a.AssetsTableRow__column,{m:"owner"},f.b.getAssetOwnerDisplayName(this.props.asset.owner__username)),this.props.context===h.b.PUBLIC_COLLECTIONS&&n.a.createElement(p.a.AssetsTableRow__column,{m:"subscribers-count"},this.props.asset.subscribers_count),n.a.createElement(p.a.AssetsTableRow__column,{m:"languages"},f.b.getLanguagesDisplayString(this.props.asset)),this.props.context===h.b.PUBLIC_COLLECTIONS&&n.a.createElement(p.a.AssetsTableRow__column,{m:"primary-sector"},f.b.getSectorDisplayString(this.props.asset)),n.a.createElement(p.a.AssetsTableRow__column,{m:"date-modified"},Object(d.formatTime)(this.props.asset.date_modified)))}}])&&g(t.prototype,r),a}(),x=E,S=x,T=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(E,"AssetsTableRow","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetsTableRow.es6"),__REACT_HOT_LOADER__.register(x,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetsTableRow.es6")),o(52));function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=L(e);if(t){var a=L(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?j(e):t}(this,r)}}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(s,n.a.Component);var r,o,a=R(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={shouldHidePopover:!1,isPopoverVisible:!1,scrollbarWidth:null,isFullscreen:!1},t.bodyRef=n.a.createRef(),c()(j(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.updateScrollbarWidth(),window.addEventListener("resize",this.updateScrollbarWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateScrollbarWidth)}},{key:"componentDidUpdate",value:function(e){e.isLoading!==this.props.isLoading&&this.updateScrollbarWidth()}},{key:"toggleFullscreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen})}},{key:"updateScrollbarWidth",value:function(){this.bodyRef&&this.bodyRef.current&&Object(d.hasVerticalScrollbar)(i.a.findDOMNode(this.bodyRef.current))?this.setState({scrollbarWidth:Object(d.getScrollbarWidth)()}):this.setState({scrollbarWidth:null})}},{key:"switchPage",value:function(e){this.props.onSwitchPage(e)}},{key:"onChangeOrder",value:function(e){var t;this.props.orderColumnId===e?(this.props.orderValue===h.c.ascending?t=h.c.descending:this.props.orderValue===h.c.descending&&(t=h.c.ascending),this.props.onOrderChange(this.props.orderColumnId,t)):this.props.onOrderChange(e,h.a[e].defaultValue)}},{key:"onChangeFilter",value:function(e,t){this.props.filterColumnId===e&&this.props.filterValue===t?this.props.onFilterChange(null,null):this.props.onFilterChange(e,t)}},{key:"onClearFilter",value:function(e){e.stopPropagation(),this.props.onFilterChange(null,null)}},{key:"renderHeader",value:function(e,r){if(e.orderBy)return this.renderOrderableHeader(e,r);if(e.filterBy)return this.renderFilterableHeader(e,r);var o=e.label;return e.id===h.a["items-count"].id&&this.props.context===h.b.COLLECTION_CONTENT&&(o=t("Questions")),n.a.createElement(p.a.AssetsTableRow__column,{m:e.id,disabled:!0},o)}},{key:"onMouseLeave",value:function(){this.state.isPopoverVisible&&this.setState({shouldHidePopover:!0})}},{key:"onPopoverSetVisible",value:function(){this.setState({isPopoverVisible:!0})}},{key:"renderFilterableHeader",value:function(e){var t=this,r=[];if(this.props.metadata[e.filterByMetadataName]&&(r=this.props.metadata[e.filterByMetadataName]),0===r.length)return n.a.createElement(p.a.AssetsTableRow__column,{m:e.id,disabled:!0},e.label);var o=n.a.createElement("i",{className:"k-icon k-icon-filter-arrows"});return this.props.filterColumnId===e.id&&(o=n.a.createElement("i",{className:"k-icon k-icon-close",onClick:this.onClearFilter})),n.a.createElement(p.a.AssetsTableRow__column,{m:e.id},n.a.createElement(u.a.PopoverMenu,{type:"assets-table",triggerLabel:n.a.createElement("span",null,e.label," ",o),clearPopover:this.state.shouldHidePopover,popoverSetVisible:this.onPopoverSetVisible},r.map(function(r,o){var a,s;return"string"==typeof r&&(a=r,s=r),Array.isArray(r)&&(a=r[0],s=r[1]),n.a.createElement(p.a.PopoverMenu__link,{onClick:t.onChangeFilter.bind(t,e.id,a),key:"option-".concat(o)},s,a===t.props.filterValue&&n.a.createElement("i",{className:"k-icon k-icon-check"}))})))}},{key:"renderOrderableHeader",value:function(e){var t=!1,r=!1;e.id===h.a["icon-status"].id&&(t=this.props.orderColumnId!==e.id,r=this.props.orderColumnId===e.id);var o=n.a.createElement("i",{className:"k-icon"});return this.props.orderColumnId===e.id&&(this.props.orderValue===h.c.ascending&&(o=n.a.createElement("i",{className:"k-icon k-icon-up"})),this.props.orderValue===h.c.descending&&(o=n.a.createElement("i",{className:"k-icon k-icon-down"}))),n.a.createElement(p.a.AssetsTableRow__column,{m:e.id,onClick:this.onChangeOrder.bind(this,e.id),classNames:[]},!r&&n.a.createElement(p.a.AssetsTableRow__headerLabel,null,e.label),!t&&o)}},{key:"renderPagination",value:function(){var e="number"==typeof this.props.currentPage&&"number"==typeof this.props.totalPages&&"function"==typeof this.props.onSwitchPage,r=this.props.currentPage+1;return e?n.a.createElement(p.a.AssetsTablePagination,null,n.a.createElement(p.a.AssetsTablePagination__button,{disabled:0===this.props.currentPage,onClick:this.switchPage.bind(this,this.props.currentPage-1)},n.a.createElement("i",{className:"k-icon k-icon-prev"}),t("Previous")),n.a.createElement(p.a.AssetsTablePagination__index,null,r,"/",this.props.totalPages||1),n.a.createElement(p.a.AssetsTablePagination__button,{disabled:r>=this.props.totalPages,onClick:this.switchPage.bind(this,this.props.currentPage+1)},t("Next"),n.a.createElement("i",{className:"k-icon k-icon-next"}))):null}},{key:"renderFooter",value:function(){return n.a.createElement(p.a.AssetsTable__footer,null,null!==this.props.totalAssets&&n.a.createElement("span",null,t("##count## items").replace("##count##",this.props.totalAssets)),this.renderPagination(),null!==this.props.totalAssets&&n.a.createElement("button",{className:"mdl-button",onClick:this.toggleFullscreen},t("Toggle fullscreen"),n.a.createElement("i",{className:"k-icon k-icon-expand"})))}},{key:"render",value:function(){var e=this,r=[this.props.context];return this.state.isFullscreen&&r.push("fullscreen"),n.a.createElement(p.a.AssetsTable,{m:r},n.a.createElement(p.a.AssetsTable__header,null,n.a.createElement(p.a.AssetsTableRow,{m:"header"},this.renderHeader(h.a["icon-status"],"first"),this.renderHeader(h.a.name),this.renderHeader(h.a["items-count"]),this.renderHeader(h.a.owner),this.props.context===h.b.PUBLIC_COLLECTIONS&&this.renderHeader(h.a["subscribers-count"]),this.renderHeader(h.a.languages),this.props.context===h.b.PUBLIC_COLLECTIONS&&this.renderHeader(h.a["primary-sector"]),this.renderHeader(h.a["date-modified"],"last"),0!==this.state.scrollbarWidth&&null!==this.state.scrollbarWidth&&n.a.createElement("div",{className:"assets-table__scrollbar-padding",style:{width:"".concat(this.state.scrollbarWidth,"px")}}))),n.a.createElement(p.a.AssetsTable__body,{ref:this.bodyRef},this.props.isLoading&&Object(T.b)(),!this.props.isLoading&&0===this.props.assets.length&&n.a.createElement(p.a.AssetsTableRow,{m:"empty-message"},this.props.emptyMessage||t("There are no assets to display.")),!this.props.isLoading&&this.props.assets.map(function(t){return n.a.createElement(S,{asset:t,key:t.uid,context:e.props.context})})),this.renderFooter())}}])&&C(r.prototype,o),s}();"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(P,"AssetsTable","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetsTable.es6")},133:function(e,t,r){var o,a,n,s,i,l,c;l=r(15),s=r(93),i=r(24),a=r(98),n=r(85),o=r(37),e.exports=(c={},l.extend(c,s,a),c._keys=l.keys(c),c.rowDetailsSkipLogic=n,c.utils=i,c.configs=o,c)},134:function(e,t,r){var o;o=r(135),e.exports=o(/^\${(\w+)}\s*(!=|<=|>=|=|<|>)\s*((?:date\(\'\d{4}-\d{2}-\d{2}\'\))|(?:-?(?:\d+\.\d+|\.\d+|\d+.?))|(?:\'[^']+\'))/,/\${(\w+)}\s*((?:=|!=)\s*(?:NULL|''))/i,RegExp(" and | or ","gi"),/selected\(\$\{(\w+)\},\s*\'(\w+)\'\)/)},135:function(e,t,r){var o=r(15);e.exports=function(e,t,r,a){function n(r){var o=r.match(t);if(null===o&&(o=r.match(e)),!o)return function(e){var t=e.match(a);if(!t)throw new Error('criterion not recognized: "'+e+'"');return{name:t[1],operator:-1==e.indexOf("not(")?"multiplechoice_selected":"multiplechoice_notselected",response_value:t[2]}}(r);o[2]=o[2].replace(/\s+/,"").replace(/null/i,"NULL");var n={name:o[1],operator:{"=":"resp_equals","!=":"resp_notequals",">":"resp_greater","<":"resp_less",">=":"resp_greaterequals","<=":"resp_lessequals","!=''":"ans_notnull","=''":"ans_null"}[o[2]]};if(o[3]){var s=o[3].replace(/^'([^']*)'$/,"$1");s=s.replace(/date\('(\d{4}-\d{2}-\d{2})'\)/,"$1"),n.response_value=s}return n}return function(e){var t=e.split(r),a=t.length,s=e.match(r);if(s&&o.uniq(s).length>1)throw new Error("multiple criteria join operators are not supported at the moment");return 1===a?{criteria:[n(e)]}:{criteria:o.map(t,function(e){return n(e)}),operator:s[0].replace(/ /g,"").toUpperCase()}}}},136:function(e,t,r){var o;o=r(135),e.exports=o(/(\.)\s*(!=|<=|>=|=|<|>)\s*((?:date\(\'\d{4}-\d{2}-\d{2}\'\))|(?:-?(?:\d+\.\d+|\.\d+|\d+.?))|(?:\'[^']+\'))/,/(\.)\s*((?:=|!=)\s*(?:NULL|''))/i,RegExp(" and | or ","gi"),/selected\((\.)\s*,\s*\'(\w+)\'\)/)},137:function(e,t,r){var o,a,n,s=function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},i={}.hasOwnProperty,l=function(e,t){return function(){return e.apply(t,arguments)}};a=r(15),o=r(25),e.exports=((n={}).Base=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.attach_to=function(e){return e instanceof n.Base&&(e=e.$el),e.append(this.el)},t.prototype.bind_event=function(e,t){return this.$el.off(e,t),this.$el.on(e,t)},t.prototype.detach=function(){return this.$el.remove()},t.prototype.val=function(e){return e?(this.$el.val(e),null==this.$el.val()?this.$el.prop("selectedIndex",0):void 0):this.$el.val()},t}(o.View),n.Label=function(e){function t(e,r,o){this.text=e,this.className=r,this.input=o,t.__super__.constructor.call(this)}return s(t,e),t.prototype.tagName="label",t.prototype.val=function(){},t.prototype.bind_event=function(){},t.prototype.render=function(){return this.text&&this.$el.text(this.text),this.className&&this.$el.addClass(this.className),this.input&&this.$el.attr("for",this.input.cid),this},t}(n.Base),n.EmptyView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.attach_to=function(){},t.prototype.val=function(){},t.prototype.bind_event=function(){},t.prototype.render=function(){return this},t.prototype.val=function(){return null},t}(n.Base),n.TextArea=function(e){function t(e,r){this.text=e,this.className=r,t.__super__.constructor.call(this)}return s(t,e),t.prototype.tagName="textarea",t.prototype.render=function(){return this.$el.val(this.text),this.$el.addClass(this.className),this.$el.on("paste",function(e){return e.stopPropagation()}),this},t}(n.Base),n.TextBox=function(e){function t(e,r,o){this.text=e,this.className=r,this.placeholder=o,t.__super__.constructor.call(this)}return s(t,e),t.prototype.tagName="input",t.prototype.render=function(){return this.$el.attr("type","text"),this.$el.val(this.text),this.$el.addClass(this.className),this.$el.attr("placeholder",this.placeholder),this.$el.on("paste",function(e){return e.stopPropagation()}),this},t}(n.Base),n.Button=function(e){function t(e,r){this.text=e,this.className=r,t.__super__.constructor.call(this)}return s(t,e),t.prototype.tagName="button",t.prototype.render=function(){return this.$el.html(this.text),this.$el.addClass(this.className),this},t}(n.Base),n.DropDownModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t}(o.Model),n.DropDown=function(e){function t(e){var r;this.options=e,this.render=l(this.render,this),t.__super__.constructor.apply(this,arguments),r=this.options,this.options instanceof n.DropDownModel||(this.options=new n.DropDownModel,this.options.set("options",r)),this.options.on("change:options",this.render.bind(this))}return s(t,e),t.prototype.tagName="select",t.prototype.render=function(){var e;return e="",a.each(this.options.get("options"),function(t){return e+='<option value="'+t.value+'">'+t.text+"</option>"}),this.$el.html(e),this},t.prototype.attach_to=function(e){return t.__super__.attach_to.call(this,e),this.$el.select2({minimumResultsForSearch:-1})},t}(n.Base),n)},138:function(e,t,r){var o,a,n,s,i,l,c,u,p,d=[].slice;a=r(15),n=r(94),o=r(71),e.exports=(i=function(e,t){var r;return null==t&&(t={}),r=s(e,t),!t.error&&t.validate&&l(r,t),r},c=function(e){var t,r,o;return t=n.sheeted(e),(r={}).survey=(o=t.sheet("survey"))?o.toObjects():[],r.choices=(o=t.sheet("choices"))?o.toObjects():[],(o=t.sheet("settings"))&&(r.settings=o.toObjects()[0]),r},u=function(e){var t,r,o,n,s,i,l,c,u,p,m,_,f,h;for(h in e)if(f=e[h],a.isArray(f)&&f.length>0&&a.isArray(f[0])){for(p=[],r=f[0],s=0,l=(o=2<=f.length?d.call(f,1):[]).length;s<l;s++)if(_=o[s],a.isArray(_)){for(u={},n=i=0,c=r.length;i<c;n=++i)t=r[n],n<_.length&&void 0!==(m=_[n])&&null!==m&&(u[t]=_[n]);p.push(u)}else p.push(_);e[h]=p}return e},s=function(e,t){return null==t&&(t={}),a.isString(e)?c(e):a.isObject(e)?u(e):void 0},p=o.q.requiredSheetNameList(),i.validateParse=l=function(e,t){var r,o,a,n,s;for(null==t&&(t={}),s=!1,r=0,o=p.length;r<o;r++)e[a=p[r]]&&(t.surveyType=a,s=!0);return e.settings&&(t.settings=!0),e.choices&&(t.choices=!0),s||(n=p.join(", "),t.error="Missing a survey sheet ["+n+"]"),!t.error},i.deserialize=s,i)},139:function(e,t,r){var o,a,n,s,i,l,c,u,p,d,m,_=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};n=r(15),s=r(57),o=r(71),a=r(37),i=r(3),e.exports=(p={},l=function(){function e(e,t){this.type=e,this.atts=null!=t?t:{},this.contents=[]}return e.prototype.push=function(e){this.contents.push(e)},e.prototype.export=function(){var t,r,o,a,s;for(t=[],o=0,a=(s=this.contents).length;o<a;o++)(r=s[o])instanceof e&&(r=r.export()),t.push(r);return n.extend({},this.atts,{type:this.type,__rows:t})},e}(),u=function(e){var t,r,a;for(t=0,r=e.length;t<r;t++){if((a=e[t]).__rows)return!0;if(o.q.testGroupable(a.type))return!1}return!0},p.hasBeenParsed=u,c=function(e,t){var r,o;for(r in e)o=e[r],n.isArray(o)&&"tags"!==r&&(delete e[r],n.map(t,function(t,a){var n;return n=o[a],e[t?r+"::"+t:r]=n}));return e},m=function(e,t,r){var a,n,s,i,u,p,d,m,_,f;for(null==e&&(e="survey"),null==r&&(r=!1),p={open:{},close:{}},u=function(e,t){var r;null==(r=p[e])[t]&&(r[t]=0),p[e][t]++},d=[new l(e)],i=function(e,t){var r;return null==e&&(e="group"),u("open",e),r=new l(e,t),a().push(r),d.push(r)},s=function(e,t){if(u("close",t),d.pop().type!==e.type)throw new Error("mismatched group/repeat tags")},a=function(){var e;if(0===(e=d.length))throw new Error("unmatched group/repeat");return d[e-1]},_=0,f=t.length;_<f;_++)m=t[_],n=o.q.testGroupable(m.type),r&&r.length>0&&(m=c(m,r)),n?n.begin?i(n.type,m):s(n,m.type):a().push(m);if(1!==d.length)throw new Error(JSON.stringify({message:"unclosed groupable set",counts:p}));return a().export().__rows},d=function(e){var t,r,o,n,i,l,c;for(t=0,r=(o=s(e)).length;t<r;t++)n=(c=o[t]).required,_.call(a.truthyValues,n)>=0?c.required=!0:(i=c.required,(_.call(a.falsyValues,i)>=0||void 0===(l=c.required)||""===l)&&(c.required=!1));return o},p.parseArr=m,p.parse=function(e,t){var r;return e.translations,r=i.nullifyTranslations(e.translations,e.translated,e.survey,t),e.survey=r.survey,e.translations=r.translations,e.translations_0=r.translations_0,e.survey&&(e.survey=d(e.survey)),e.survey&&(e.survey=m("survey",e.survey,e.translations)),e.choices&&(e.choices=m("choices",e.choices,e.translations)),e.settings&&n.isArray(e.settings)&&1===e.settings.length&&(e.settings=e.settings[0]),e},p.loadChoiceLists=function(e,t){var r,o,a,n,s,i,l,c,u,p;for(p={},r=[],n=0,l=e.length;n<l;n++)p[i=(o=e[n])["list name"]||o.list_name]||(p[i]=[],r.push(i)),p[i].push(o);for(u=[],s=0,c=r.length;s<c;s++)a=r[s],u.push(t.add({name:a,options:p[a]}));return u},p)},140:function(e,t,r){(function(t){var o,a,n,s,i,l,c={}.hasOwnProperty;i=r(15),r(25),o=r(61),s=r(45),n=r(141),a=r(37),e.exports=((l={}).RowSelector=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(r,o),r.prototype.events={"click .js-close-row-selector":"shrink"},r.prototype.initialize=function(e){this.options=e,this.ngScope=e.ngScope,this.reversible=e.reversible,this.button=this.$el.find(".btn").eq(0),this.line=this.$el.find(".line"),"click-add-row"===e.action&&this.expand()},r.prototype.expand=function(){var e;this.$el.parents(".survey-editor__null-top-row--hidden").removeClass("survey-editor__null-top-row--hidden"),this.show_namer(),(e=this.$el.find(".row__questiontypes__form")).on("submit",i.bind(this.show_picker,this)),e.find("button").on("click",function(t){return t.preventDefault(),e.submit()}),this.$("input").eq(0).focus()},r.prototype.show_namer=function(){var e,r;(e=this.options.surveyView.$el).find(".line.expanded").removeClass("expanded").empty(),e.find(".btn--hidden").removeClass("btn--hidden"),this.button.addClass("btn--hidden"),this.line.addClass("expanded"),this.line.parents(".survey-editor__null-top-row").addClass("expanded"),this.line.css("height","inherit"),this.line.html(s.$$render("xlfRowSelector.namer")),this.scrollFormBuilder("+=50"),this.options.surveyView.features.multipleQuestions?t(window).on("keydown.cancel_add_question",(r=this,function(e){if(27===e.which)return r.shrink()})):(t(window).on("keydown.cancel_add_question",function(e){return function(t){if(27===t.which)return t.preventDefault(),e.$("input").eq(0).focus()}}(this)),t("body").on("mousedown.cancel_add_question",function(e){return function(r){if(0===t(r.target).closest(".line.expanded").length)return r.preventDefault(),e.$("input").eq(0).focus()}}(this)))},r.prototype.show_picker=function(e){var r,o,a,l,c,u,p,d,m,_,f,h,b;for(e.preventDefault(),this.question_name=this.line.find("input").val(),this.line.empty(),this.line.html(s.$$render("xlfRowSelector.line","")),this.line.find(".row__questiontypes__new-question-name").val(this.question_name),r=this.line.find(".row__questiontypes__list"),c=0,p=(h=n.grouped()).length;c<p;c++)for(f=h[c],m=t("<div>",{class:"questiontypelist__row"}).appendTo(r),l=u=0,d=f.length;u<d;l=++u)(_=f[l])&&m.append(s.$$render("xlfRowSelector.cell",_.attributes));this.scrollFormBuilder("+=220"),this.$(".questiontypelist__item").click(i.bind(this.onSelectNewQuestionType,this)),o=0,b=0,(a=t("div.questiontypelist__row")).eq(o).children().eq(0).toggleClass("questiontypelist__item-force-hover"),t(window).on("keydown",function(e){if(a.eq(o).children().eq(b).toggleClass("questiontypelist__item-force-hover"),40===e.which&&(b>=a.eq(o).children().length-1?b=0:b++),39===e.which&&(o>=a.length-1||a.eq(o+1).children().length<a.eq(o).children().length&&b>a.length?o=0:o++),38===e.which&&(0===b?b=a.eq(o).children().length-1:b--),37===e.which&&(0===o?o=a.eq(a.length-1).children().length<a.eq(o).children().length&&b>a.length?a.length-2:a.length-1:a.eq(o-1).children().length<a.eq(o).children().length&&b>a.eq(o-1).length?o=a.length-1:o--),a.eq(o).children().eq(b).toggleClass("questiontypelist__item-force-hover"),13===e.which)return a.eq(o).children().eq(b).trigger("click")})},r.prototype.shrink=function(){var e;t(window).off("keydown.cancel_add_question"),t("body").off("mousedown.cancel_add_question"),this.line.find("div").eq(0).fadeOut(250,(e=this,function(){return e.line.empty()})),this.line.parents(".survey-editor__null-top-row").removeClass("expanded"),this.line.parents(".survey-editor").find(".survey__row").length&&this.line.parents(".survey-editor__null-top-row").addClass("survey-editor__null-top-row--hidden"),this.line.removeClass("expanded"),this.line.animate({height:"0"}),this.reversible&&this.button.removeClass("btn--hidden")},r.prototype.hide=function(){this.button.removeClass("btn--hidden"),this.line.empty().removeClass("expanded").css({height:0}),this.line.parents(".survey-editor__null-top-row").removeClass("expanded").addClass("survey-editor__null-top-row--hidden")},r.prototype.onSelectNewQuestionType=function(e){var r,o,n,s,i,l,c,u;this.question_name=this.line.find("input").val(),(r=t("select.skiplogic__rowselect")).data("select2")&&r.select2("destroy"),c=t(e.target).closest(".questiontypelist__item").data("menuItem"),n=this.question_name?this.question_name.replace(/\t/g," "):c in a.defaultsForType?a.defaultsForType[c].label.value:a.defaultsGeneral.label.value,l={type:c},"calculate"===c?l.calculation=n:l.label=n,o={},(i=null!=(s=this.options.spawnedFromView)?s.model:void 0)?(o.after=i,u=i.getSurvey()):(u=this.options.survey,o.at=0),u.addRow(l,o).linkUp({warnings:[],errors:[]}),this.hide()},r.prototype.scrollFormBuilder=function(e){var t,r;(r=this.$el.parents(".survey__row")).length&&(t=this.$el.parents(".formBuilder__contents"),r.height()+r.position().top+50>t.height()+t.prop("scrollTop")&&t.animate({scrollTop:e}))},r}(),l)}).call(this,r(19))},141:function(e,t,r){var o,a,n,s,i,l,c=function(e,t){for(var r in t)u.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty,p=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};a=r(15),o=r(25),n=r(2),e.exports=(r(3).t,i=function(e,t){l.push({label:e.label,faClass:e.faIcon.replace("fa-",""),grouping:t,id:e.id})},l=[],i(n.QUESTION_TYPES.select_one,"r1"),i(n.QUESTION_TYPES.select_multiple,"r1"),i(n.QUESTION_TYPES.text,"r1"),i(n.QUESTION_TYPES.integer,"r1"),i(n.QUESTION_TYPES.decimal,"r2"),i(n.QUESTION_TYPES.date,"r2"),i(n.QUESTION_TYPES.time,"r2"),i(n.QUESTION_TYPES.datetime,"r2"),i(n.QUESTION_TYPES.geopoint,"r3"),i(n.QUESTION_TYPES.image,"r3"),i(n.QUESTION_TYPES.audio,"r3"),i(n.QUESTION_TYPES.video,"r3"),i(n.QUESTION_TYPES.geotrace,"r4"),i(n.QUESTION_TYPES.note,"r4"),i(n.QUESTION_TYPES.barcode,"r4"),i(n.QUESTION_TYPES.acknowledge,"r4"),i(n.QUESTION_TYPES.geoshape,"r5"),i(n.QUESTION_TYPES.score,"r5"),i(n.QUESTION_TYPES.kobomatrix,"r5"),i(n.QUESTION_TYPES.rank,"r5"),i(n.QUESTION_TYPES.calculate,"r6"),i(n.QUESTION_TYPES.hidden,"r6"),i(n.QUESTION_TYPES.file,"r6"),i(n.QUESTION_TYPES.range,"r6"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.defaults={faClass:"question-circle"},t}(o.Model),new(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.model=s,t.prototype.grouped=function(){var e,t;return this._groups||(this._groups=[],e=[],this.each((t=this,function(r){var o,a;return o=r.get("grouping"),p.call(e,o)<0&&e.push(o),a=e.indexOf(o),t._groups[a]||(t._groups[a]=[]),t._groups[a].push(r)}))),a.zip.apply(null,this._groups)},t}(o.Collection))(l))},147:function(e,r,o){"use strict";(function(e){o.d(r,"a",function(){return U});var a=o(0),n=o.n(a),s=o(9),i=o.n(s),l=o(7),c=o.n(l),u=o(11),p=o.n(u),d=o(15),m=o(305),_=o(8),f=o(22),h=o(5),b=o(1),g=o(18),v=o(6),y=o(17),w=(o(14),o(308)),k=o(27),E=o(465),x=o(2),S=o(3),T=o(12),O=o(54),C=o(466),A=o(467);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function P(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=N(e);if(t){var a=N(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?M(e):t}(this,r)}}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B="validation_status_not_assigned",I=["_xform_id_string","_attachments","_notes","_bamboo_dataset_id","_status","formhub/uuid","_tags","_geolocation","meta/instanceID","meta/deprecatedID","_validation_status"],U="__SubmissionLinks",V=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(l,n.a.Component);var o,a,s=F(l);function l(e){var t;return function(e,t){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this,e)).state={loading:!0,tableData:[],columns:[],selectedColumns:!1,frozenColumn:!1,sids:[],isFullscreen:!1,defaultPageSize:30,pageSize:30,currentPage:0,error:!1,showLabels:!0,translationIndex:0,showGroupName:!0,showHXLTags:!1,resultsTotal:0,selectedRows:{},selectAll:!1,fetchState:!1,submissionPager:!1,overrideLabelsAndGroups:null},t.tableScrollTop=0,i()(M(t)),t}return o=l,(a=[{key:"requestData",value:function(e){var r=this,o=e.state.pageSize,a=e.state.page*e.state.pageSize,n=e.state.sorted,s=e.state.filtered,i="";s.length&&(i="&query={",s.forEach(function(e,t){"_id"===e.id?i+='"'.concat(e.id,'":{"$in":[').concat(e.value,"]}"):"_validation_status.uid"===e.id?e.value===B?i+='"'.concat(e.id,'":null'):i+='"'.concat(e.id,'":"').concat(e.value,'"'):i+='"'.concat(e.id,'":{"$regex":"').concat(e.value,'","$options":"i"}'),t<s.length-1&&(i+=",")}),i+="}"),_.a.getSubmissions(this.props.asset.uid,o,a,n,[],i).done(function(e){var o=e.results;o&&o.length>0?("next"==r.state.submissionPager&&r.submissionModalProcessing(o[0]._id,o),"prev"==r.state.submissionPager&&r.submissionModalProcessing(o[o.length-1]._id,o),r.setState({loading:!1,selectedRows:{},selectAll:!1,tableData:o,submissionPager:!1,resultsTotal:e.count}),r._prepColumns(o)):i.length?r.setState({loading:!1,selectedRows:{},tableData:o,resultsTotal:0}):r.setState({error:t("This project has no submitted data. Please collect some and try again."),loading:!1})}).fail(function(e){e.responseText?r.setState({error:e.responseText,loading:!1}):e.statusText?r.setState({error:e.statusText,loading:!1}):r.setState({error:t("Error: could not load data."),loading:!1})})}},{key:"getValidationStatusOption",value:function(e){return e._validation_status&&e._validation_status.uid?x.VALIDATION_STATUSES[e._validation_status.uid]:x.VALIDATION_STATUSES.no_status}},{key:"onValidationStatusChange",value:function(e,t,r){var o=this;null===r.value?_.a.removeSubmissionValidationStatus(o.props.asset.uid,e).done(function(e){o.state.tableData[t]._validation_status={},o.setState({tableData:o.state.tableData})}).fail(console.error):_.a.updateSubmissionValidationStatus(o.props.asset.uid,e,{"validation_status.uid":r.value}).done(function(e){e.uid?(o.state.tableData[t]._validation_status=e,o.setState({tableData:o.state.tableData})):console.error("error updating validation status")}).fail(console.error)}},{key:"getDisplayedColumns",value:function(e){var t=this,r=Object(T.h)(this.props.asset.content.survey),o=Object.values(r),a=Object.keys(e.reduce(function(e,t){return Object.assign(e,t)},{}));o=(o=(o=j(new Set([].concat(j(a),j(o))))).filter(function(e){return!1===I.includes(e)})).filter(function(e){var o=Object.keys(r).find(function(t){return r[t]===e});return!o||void 0===t.props.asset.content.survey.find(function(e){return void 0!==o&&(o===e.name||o===e.$autoname)&&e.type===x.QUESTION_TYPES.note.id})});var n=[],s=!1;return this.props.asset.content.survey.forEach(function(e){if(e.type===x.GROUP_TYPES_BEGIN.begin_kobomatrix)s=!0;else if(e.type===x.GROUP_TYPES_END.end_kobomatrix)s=!1;else if(s){var t=r[e.name]||r[e.$autoname];n.push(t)}}),o.filter(function(e){return!1===n.includes(e)})}},{key:"_prepColumns",value:function(e){var r=this,o=this.getDisplayedColumns(e),a=this.state.showLabels,s=this.state.showGroupName,i=this.state.showHXLTags,l=this.props.asset.settings,c=this.state.translationIndex,u=Math.min(this.state.pageSize,this.state.tableData.length),p=this;l["data-table"]&&null!=l["data-table"]["translation-index"]&&(c=l["data-table"]["translation-index"],a=c>-1),l["data-table"]&&null!=l["data-table"]["show-group-name"]&&(s=l["data-table"]["show-group-name"]),l["data-table"]&&null!=l["data-table"]["show-hxl-tags"]&&(i=l["data-table"]["show-hxl-tags"]),null!==this.state.overrideLabelsAndGroups&&(s=this.state.overrideLabelsAndGroups.showGroupName,c=this.state.overrideLabelsAndGroups.translationIndex,a=c>-1);var d=[];(this.userCan("validate_submissions",this.props.asset)||this.userCan("delete_submissions",this.props.asset)||this.userCan("change_submissions",this.props.asset))&&d.push({Header:function(){return n.a.createElement(A.a,{visibleRowsCount:u,selectedRowsCount:Object.keys(r.state.selectedRows).length,totalRowsCount:r.state.resultsTotal,onSelectAllPages:r.bulkSelectAll,onSelectCurrentPage:r.bulkSelectAllRows.bind(r,!0),onClearSelection:r.bulkClearSelection})},accessor:"sub-checkbox",index:"__0",id:"__SubmissionCheckbox",minWidth:50,filterable:!1,sortable:!1,resizable:!1,headerClassName:"table-bulk-checkbox-header",className:"rt-checkbox",Cell:function(e){return n.a.createElement("div",{className:"table-bulk-checkbox"},n.a.createElement(f.a,{checked:!!r.state.selectedRows[e.original._id],onChange:r.bulkUpdateChange.bind(r,e.original._id)}))}});var m=this.props.asset.deployment__active&&this.userCan("change_submissions",this.props.asset);d.push({Header:"",accessor:"sub-link",index:"__1",id:U,minWidth:m?75:45,filterable:!1,sortable:!1,className:"rt-link",Cell:function(e){return n.a.createElement("div",null,n.a.createElement("span",{onClick:r.launchSubmissionModal,"data-sid":e.original._id,className:"table-link","data-tip":t("Open")},n.a.createElement("i",{className:"k-icon k-icon-view"})),m&&n.a.createElement("span",{onClick:r.launchEditSubmission.bind(r),"data-sid":e.original._id,className:"table-link","data-tip":t("Edit")},n.a.createElement("i",{className:"k-icon k-icon-edit"})))}}),d.push({Header:function(){return n.a.createElement("span",{className:"column-header-title"},t("Validation status"))},accessor:"_validation_status.uid",index:"__2",id:"_validation_status.uid",minWidth:130,className:"rt-status",Filter:function(e){var t=e.filter,r=e.onChange;return n.a.createElement("select",{onChange:function(e){return r(e.target.value)},style:{width:"100%"},value:t?t.value:""},n.a.createElement("option",{value:""},"Show All"),x.VALIDATION_STATUSES_LIST.map(function(e,t){return n.a.createElement("option",{value:null===e.value?B:e.value,key:t},e.label)}))},Cell:function(e){return n.a.createElement(k.a,{isDisabled:!r.userCan("validate_submissions",r.props.asset),isClearable:!1,value:r.getValidationStatusOption(e.original),options:x.VALIDATION_STATUSES_LIST,onChange:r.onValidationStatusChange.bind(r,e.original._id,e.index),className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"})}});var _=this.props.asset.content.survey,h=this.props.asset.content.choices;o.forEach(function(e){var t=void 0,o=[];if(e.includes("/")?(o=e.split("/"),t=_.find(function(e){return e.name===o[o.length-1]||e.$autoname==o[o.length-1]})):t=_.find(function(t){return t.name===e||t.$autoname==e}),t&&"begin_repeat"===t.type)return!1;var s="y_"+e;switch(e){case"username":s="z1";break;case"simserial":s="z2";break;case"subscriberid":s="z3";break;case"deviceid":s="z4";break;case"phonenumber":s="z5";break;case"today":s="z6";break;case"__version__":case"_version_":s="z7";break;case"_id":s="z8";break;case"_uuid":s="z9";break;case"_submission_time":s="z91";break;case"_submitted_by":s="z92";break;default:_.map(function(t,r){var o=e;if(e.includes("/")){var a=o.split("/");o=a[a.length-1]}t.name!==o&&t.$autoname!==o||(s=r.toString())})}d.push({Header:function(r){var a=p.getColumnLabel(e,t,o),s=p.getColumnHXLTags(e);return n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"column-header-title",title:a},a),s&&n.a.createElement("span",{className:"column-header-hxl-tags",title:s},s))},id:e,accessor:function(t){return t[e]},index:s,question:t,filterable:!1,Cell:function(o){if(a&&t&&t.type&&o.value){if(t.type===x.QUESTION_TYPES.image.id||t.type===x.QUESTION_TYPES.audio.id||t.type===x.QUESTION_TYPES.video.id){var s=r.getMediaDownloadLink(o.value);return n.a.createElement("a",{href:s,target:"_blank"},o.value)}if("select_one"==t.type){var i=h.find(function(e){return e.list_name==t.select_from_list_name&&(e.name===o.value||e.$autoname==o.value)});return i&&i.label&&i.label[c]?i.label[c]:o.value}if("select_multiple"==t.type&&o.value){var l=o.value.split(" "),u=[];return l.forEach(function(e){var r=h.find(function(r){return r.list_name==t.select_from_list_name&&(r.name===e||r.$autoname==e)});r&&r.label&&r.label[c]&&u.push(r.label[c])}),u.join(", ")}if("start"==t.type||"end"==t.type||"_submission_time"==t.type)return Object(S.formatTimeDate)(o.value)}if("object"==R(o.value)||void 0===o.value){var p=Object(O.b)(o.original,e);return p?p.join(", "):""}return o.value}})}),d.sort(function(e,t){return e.index.localeCompare(t.index,"en",{numeric:!0})});var b=!1,g=!1,v=["text","integer","decimal","select_multiple","date","time","datetime","start","end","username","simserial","subscriberid","deviceid","phonenumber","today"],y=["__version__","_id","_uuid","_submission_time","_submitted_by"];if(l["data-table"]&&l["data-table"]["frozen-column"]&&(g=l["data-table"]["frozen-column"]),d.forEach(function(e,r){e.question&&"select_one"===e.question.type&&(e.filterable=!0,e.Filter=function(r){var o=r.filter,a=r.onChange;return n.a.createElement("select",{onChange:function(e){return a(e.target.value)},style:{width:"100%"},value:o?o.value:""},n.a.createElement("option",{value:""},"Show All"),h.filter(function(t){return t.list_name===e.question.select_from_list_name}).map(function(e,r){var o=t("Unlabelled");return e.label?o=e.label[c]:e.name?o=e.name:e.$autoname&&(o=e.$autoname),n.a.createElement("option",{value:e.name,key:r},o)}))}),(e.question&&v.includes(e.question.type)||y.includes(e.id))&&(e.filterable=!0,e.Filter=function(e){var t=e.filter,r=e.onChange;return n.a.createElement(E.DebounceInput,{value:t?t.value:void 0,debounceTimeout:750,onChange:function(e){return r(e.target.value)},style:{width:"100%"}})}),g===e.id&&(e.className=e.className?"frozen ".concat(e.className):"frozen",e.headerClassName="frozen")}),l["data-table"]&&l["data-table"]["selected-columns"]){var w=l["data-table"]["selected-columns"];g&&!w.includes(g)&&w.unshift(g),b=d.filter(function(e){return e.id==U||!("__SubmissionCheckbox"!=e.id||!w.includes("_validation_status.uid"))||!1!==w.includes(e.id)})}this.setState({columns:d,selectedColumns:b,frozenColumn:g,translationIndex:c,showLabels:a,showGroupName:s,showHXLTags:i})}},{key:"getColumnHXLTags",value:function(e){if(this.state.showHXLTags){var t=d.default.find(this.props.asset.content.survey,function(t){return t.$autoname===e});if(!t||!t.tags)return null;var r=[];return t.tags.map(function(e){e.startsWith("hxl:")&&r.push(e.replace("hxl:",""))}),0===r.length?null:r.join("")}return null}},{key:"getColumnLabel",value:function(e,r,o){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch(e){case"__SubmissionCheckbox":return n.a.createElement("span",{className:"column-header-title"},t("Multi-select checkboxes column"));case"_validation_status.uid":return n.a.createElement("span",{className:"column-header-title"},t("Validation status"))}var s=e,i=this.state.showLabels,l=this.state.showGroupName,c=this.state.translationIndex,u=this.props.asset.content.survey;if(a&&(l=a.showGroupName,c=a.translationIndex),e.includes("/")){var p=e.split("/");s=p[p.length-1]}if(r&&r.label&&i&&r.label[c]&&(s=r.label[c]),l&&o&&e.includes("/")){var d=o.join(" / ");if(i)d=o.map(function(e){var t=u.find(function(t){return t.name===e||t.$autoname==e});return t&&t.label&&t.label[c]?t.label[c]:e}).join(" / ");return d}return s}},{key:"overrideLabelsAndGroups",value:function(e){var t=this;v.a.pageState.hideModal(),this.setState({overrideLabelsAndGroups:e},function(){t._prepColumns(t.state.tableData)})}},{key:"toggleFullscreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen})}},{key:"componentDidMount",value:function(){this.listenTo(h.a.resources.updateSubmissionValidationStatus.completed,this.refreshSubmissionValidationStatus),this.listenTo(h.a.resources.removeSubmissionValidationStatus.completed,this.refreshSubmissionValidationStatus),this.listenTo(h.a.table.updateSettings.completed,this.onTableUpdateSettingsCompleted),this.listenTo(v.a.pageState,this.onPageStateUpdated),this.listenTo(h.a.resources.deleteSubmission.completed,this.refreshSubmissions),this.listenTo(h.a.resources.duplicateSubmission.completed,this.refreshSubmissionModal),this.listenTo(h.a.resources.refreshTableSubmissions,this.refreshSubmissions),h.a.submissions.bulkDeleteStatus.completed.listen(this.onBulkChangeCompleted),h.a.submissions.bulkPatchStatus.completed.listen(this.onBulkChangeCompleted),h.a.submissions.bulkPatchValues.completed.listen(this.onBulkChangeCompleted),h.a.submissions.bulkDelete.completed.listen(this.onBulkChangeCompleted)}},{key:"refreshSubmissionValidationStatus",value:function(e,t){if(t){var r=this.state.tableData.findIndex(function(e){return e._id===parseInt(t)});if(void 0!==r&&this.state.tableData[r]){var o=this.state.tableData;o[r]._validation_status=e||{},this.setState({tableData:o}),this._prepColumns(o)}}}},{key:"refreshSubmissions",value:function(){this.requestData(this.state.fetchInstance)}},{key:"refreshSubmissionModal",value:function(e,t,r){this.requestData(this.state.fetchInstance),this.submissionModalProcessing(t,this.state.tableData,!0,r)}},{key:"onTableUpdateSettingsCompleted",value:function(){v.a.pageState.hideModal(),this._prepColumns(this.state.tableData)}},{key:"fetchData",value:function(e,t){this.setState({loading:!0,pageSize:t.state.pageSize,currentPage:t.state.page,fetchState:e,fetchInstance:t}),this.requestData(t)}},{key:"launchSubmissionModal",value:function(t){var r=e(t.target).closest("[data-sid]").get(0).getAttribute("data-sid");this.submissionModalProcessing(r,this.state.tableData)}},{key:"submissionModalProcessing",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=[];t.forEach(function(e){a.push(e._id)}),v.a.pageState.showModal({type:x.MODAL_TYPES.SUBMISSION,sid:e,asset:this.props.asset,ids:a,isDuplicated:r,duplicatedSubmission:o,tableInfo:{currentPage:this.state.currentPage,pageSize:this.state.pageSize,resultsTotal:this.state.resultsTotal}})}},{key:"showTableColumsOptionsModal",value:function(){v.a.pageState.showModal({type:x.MODAL_TYPES.TABLE_COLUMNS,asset:this.props.asset,columns:this.state.columns,getColumnLabel:this.getColumnLabel,overrideLabelsAndGroups:this.overrideLabelsAndGroups})}},{key:"launchEditSubmission",value:function(e){m.a.editSubmission(this.props.asset.uid,e.currentTarget.dataset.sid)}},{key:"onPageStateUpdated",value:function(e){if(!e.modal)return!1;if(e.modal.type===x.MODAL_TYPES.BULK_EDIT_SUBMISSIONS)return!1;var t=e.modal,r=0;if(t.type!==x.MODAL_TYPES.TABLE_COLUMNS&&!t.sid){var o=this.state.fetchInstance;"next"===t.page&&(r=this.state.currentPage+1),"prev"===t.page&&(r=this.state.currentPage-1),o.setState({page:r}),this.setState({fetchInstance:o,submissionPager:t.page},function(){this.fetchData(this.state.fetchState,this.state.fetchInstance)})}}},{key:"bulkUpdateChange",value:function(e,t){var r=this.state.selectedRows;t?r[e]=!0:delete r[e],this.setState({selectedRows:r,selectAll:!1})}},{key:"bulkSelectAllRows",value:function(e){var t=this.state.selectedRows;this.state.tableData.forEach(function(r){e?t[r._id]=!0:delete t[r._id]}),Object.keys(t).length===this.state.resultsTotal?this.setState({selectedRows:t,selectAll:!0}):this.setState({selectedRows:t,selectAll:!1})}},{key:"onBulkChangeCompleted",value:function(){this.fetchData(this.state.fetchState,this.state.fetchInstance)}},{key:"bulkSelectAll",value:function(){var e=this.state.selectedRows;this.state.tableData.forEach(function(t){e[t._id]=!0}),this.setState({selectedRows:e,selectAll:!0})}},{key:"bulkClearSelection",value:function(){this.setState({selectAll:!1,selectedRows:{}})}},{key:"bulkSelectUI",value:function(){if(!this.state.tableData.length)return!1;var e=0===this.state.resultsTotal?0:this.state.currentPage*this.state.pageSize+1,r=Math.min((this.state.currentPage+1)*this.state.pageSize,this.state.resultsTotal);return n.a.createElement(b.a.TableMeta,null,n.a.createElement(b.a.TableMeta__counter,null,e," - ",r," ",t("of")," "," "," ",this.state.resultsTotal,n.a.createElement(b.a.TableMeta__additionalText,null," ",t("results"))),n.a.createElement(C.a,{asset:this.props.asset,data:this.state.tableData,pageSize:this.state.pageSize,totalRowsCount:this.state.resultsTotal,selectedRows:this.state.selectedRows,selectedAllPages:this.state.selectAll,fetchState:this.state.fetchState,onClearSelection:this.bulkClearSelection.bind(this)}))}},{key:"getMediaDownloadLink",value:function(e){this.state.tableData.forEach(function(t){t._attachments.forEach(function(t){t.filename.includes(e)&&(e=t.filename)})});var t=document.createElement("a");t.href=this.props.asset.deployment__identifier;var r=t.pathname.split("/").length>4?"/"+t.pathname.split("/")[1]:"",o="".concat(t.origin).concat(r);return"".concat(o,"/attachment/original?media_file=").concat(encodeURI(e))}},{key:"render",value:function(){var r=this;if(this.state.error)return n.a.createElement(g.a.Panel,null,n.a.createElement(b.a.Loading,null,n.a.createElement(b.a.Loading__inner,null,this.state.error)));var o=this.state,a=o.tableData,s=o.columns,i=o.selectedColumns,l=o.defaultPageSize,c=o.loading,u=o.pageSize,p=(o.currentPage,o.resultsTotal),d=Math.floor((p-1)/u+1),m=(this.props.asset,this.state.frozenColumn?"-striped -highlight has-frozen-column":"-striped -highlight"),_=["table"];return this.state.isFullscreen&&_.push("fullscreen"),n.a.createElement(b.a.FormView,{m:_},n.a.createElement(b.a.FormView__group,{m:["table-header",this.state.loading?"table-loading":"table-loaded"]},this.bulkSelectUI(),n.a.createElement(b.a.FormView__item,{m:"table-buttons"},n.a.createElement(b.a.Button,{m:"icon",className:"report-button__expand right-tooltip",onClick:this.toggleFullscreen,"data-tip":t("Toggle fullscreen")},n.a.createElement("i",{className:"k-icon-expand"})),n.a.createElement(b.a.Button,{m:"icon",className:"report-button__expand right-tooltip",onClick:this.showTableColumsOptionsModal,"data-tip":t("Display options")},n.a.createElement("i",{className:"k-icon-settings"})))),n.a.createElement(w.a,{data:a,columns:i||s,defaultPageSize:l,pageSizeOptions:[10,30,50,100,200,500],minRows:0,className:m,pages:d,manual:!0,onFetchData:this.fetchData,loading:c,previousText:t("Prev"),nextText:t("Next"),loadingText:n.a.createElement("span",null,n.a.createElement("i",{className:"fa k-spin fa-circle-o-notch"}),t("Loading...")),noDataText:t("Your filters returned no submissions."),pageText:t("Page"),ofText:t("of"),rowsText:t("rows"),getTableProps:function(){return{onScroll:function(t){if(r.state.frozenColumn)if(r.tableScrollTop===t.target.scrollTop){var o=t.target.scrollLeft>0?t.target.scrollLeft:0;e(".ReactTable .rt-tr .frozen").css({left:o})}else r.tableScrollTop=t.target.scrollTop}}},filterable:!0}))}}])&&P(o.prototype,a),l}();p()(V.prototype,c.a.ListenerMixin),p()(V.prototype,y.a.permissions);var H=V;r.b=H,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(B,"NOT_ASSIGNED","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/table.es6"),__REACT_HOT_LOADER__.register(I,"EXCLUDED_COLUMNS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/table.es6"),__REACT_HOT_LOADER__.register(U,"SUBMISSION_LINKS_ID","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/table.es6"),__REACT_HOT_LOADER__.register(V,"DataTable","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/table.es6"),__REACT_HOT_LOADER__.register(H,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/table.es6"))}).call(this,o(19))},148:function(e,t,r){"use strict";r.d(t,"a",function(){return k}),r.d(t,"b",function(){return E});var o=r(0),a=r.n(o),n=r(4),s=r.n(n),i=r(11),l=r.n(i),c=r(9),u=r.n(c),p=r(7),d=r.n(p),m=r(384),_=r(2),f=r(17);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=w(e);if(t){var a=w(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?y(e):t}(this,r)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){g(r,a.a.Component);var t=v(r);function r(e){var o;return b(this,r),(o=t.call(this,e)).state={asset_updated:_.update_states.UP_TO_DATE,multioptionsExpanded:!0,surveyAppRendered:!1,name:"",isNewAsset:!1,backRoute:_.ROUTES.FORMS},u()(y(o)),o}return r}();l()(k.prototype,d.a.ListenerMixin),l()(k.prototype,m.a),l()(k.prototype,f.a.permissions),k.contextTypes={router:s.a.object};var E=function(e){g(r,a.a.Component);var t=v(r);function r(e){var o;return b(this,r),(o=t.call(this,e)).state={asset_updated:_.update_states.UP_TO_DATE,multioptionsExpanded:!0,surveyAppRendered:!1,name:"",isNewAsset:!0,backRoute:_.ROUTES.LIBRARY},u()(y(o)),o.props.route.path===_.ROUTES.EDIT_LIBRARY_ITEM&&(o.state.isNewAsset=!1),o.props.route.path===_.ROUTES.NEW_LIBRARY_ITEM&&(o.state.asset=!1),o.props.route.path===_.ROUTES.NEW_LIBRARY_CHILD&&(o.state.asset=!1,o.state.parentAsset=o.props.params.uid,o.state.backRoute=_.ROUTES.LIBRARY_ITEM.replace(":uid",o.props.params.uid)),o.props.location.query.back&&(o.state.backRoute=o.props.location.query.back),o}return r}();l()(E.prototype,d.a.ListenerMixin),l()(E.prototype,m.a),E.contextTypes={router:s.a.object},"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(k,"FormPage","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formEditors.es6"),__REACT_HOT_LOADER__.register(E,"LibraryAssetEditor","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formEditors.es6"))},17:function(e,r,o){"use strict";(function(e){var a=o(15),n=o(0),s=o.n(n),i=o(14),l=o.n(i),c=o(13),u=o(12),p=o(2),d=o(8),m=o(6),_=o(5),f=o(20),h=o(3),b=o(36);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v={};v.dmix={afterCopy:function(){Object(h.notify)(t("copied to clipboard"))},saveCloneAs:function(e){var r=this,o=e.currentTarget.dataset.versionId,a="".concat(t("Clone of")," ").concat(this.state.name),n=l.a.dialog("prompt"),s={title:"".concat(t("Clone")," ").concat(p.ASSET_TYPES.survey.label),message:t("Enter the name of the cloned ##ASSET_TYPE##.").replace("##ASSET_TYPE##",p.ASSET_TYPES.survey.label),value:a,labels:{ok:t("Ok"),cancel:t("Cancel")},onok:function(e,t){var a=r.props.params.assetid||r.props.params.uid;return _.a.resources.cloneAsset({uid:a,name:t,version_id:o},{onComplete:function(e){n.destroy(),c.f.push("/forms/".concat(e.uid))}}),!1},oncancel:function(){n.destroy()}};n.set(s).show()},cloneAsTemplate:function(e){var r=e.currentTarget.dataset.assetUid,o=e.currentTarget.dataset.assetName;v.cloneAssetAsNewType.dialog({sourceUid:r,sourceName:o,targetType:p.ASSET_TYPES.template.id,promptTitle:t("Create new template from this project"),promptMessage:t("Enter the name of the new template.")})},_deployAssetFirstTime:function(e){var r=l.a.warning(t("deploying to kobocat..."),60);_.a.resources.deployAsset(e,!1,{onDone:function(){Object(h.notify)(t("deployed form")),_.a.resources.loadAsset({id:e.uid}),c.f.push("/forms/".concat(e.uid)),r&&"function"==typeof r.dismiss&&r.dismiss()},onFail:function(){r&&"function"==typeof r.dismiss&&r.dismiss()}})},_redeployAsset:function(e){var r=l.a.dialog("confirm"),o={title:t("Overwrite existing deployment"),message:t("This form has already been deployed. Are you sure you want overwrite the existing deployment? <br/><br/><strong>This action cannot be undone.</strong>"),labels:{ok:t("Ok"),cancel:t("Cancel")},onok:function(o,a){var n=r.elements.buttons.primary.firstChild;return n.disabled=!0,n.innerText=t("Deploying..."),_.a.resources.deployAsset(e,!0,{onDone:function(){Object(h.notify)(t("redeployed form")),_.a.resources.loadAsset({id:e.uid}),r&&"function"==typeof r.destroy&&r.destroy()},onFail:function(){r&&"function"==typeof r.destroy&&r.destroy()}}),!1},oncancel:function(){r.destroy()}};r.set(o).show()},deployAsset:function(e){if(!e||e.asset_type!==p.ASSET_TYPES.survey.id){if(!this.state||this.state.asset_type!==p.ASSET_TYPES.survey.id)return void console.error("Neither the arguments nor the state supplied an asset.");e=this.state}e.has_deployment?this._redeployAsset(e):this._deployAssetFirstTime(e)},archiveAsset:function(e,t){v.clickAssets.click.asset.archive(e,t)},unarchiveAsset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;null===e?v.clickAssets.click.asset.unarchive(this.state,t):v.clickAssets.click.asset.unarchive(e,t)},deleteAsset:function(e,t,r){v.clickAssets.click.asset.delete(e,t,r)},toggleDeploymentHistory:function(){this.setState({historyExpanded:!this.state.historyExpanded})},summaryDetails:function(){return s.a.createElement("pre",null,s.a.createElement("code",null,this.state.asset_type,s.a.createElement("br",null),"[".concat(Object.keys(this.state).join(", "),"]"),s.a.createElement("br",null),JSON.stringify(this.state.summary,null,4)))},asJson:function(){return s.a.createElement("pre",null,s.a.createElement("code",null,JSON.stringify(this.state,null,4)))},dmixAssetStoreChange:function(e){var t=this._getAssetUid();e[t]&&this.setState(Object(h.assign)({},e[t]))},_getAssetUid:function(){return this.props.params?this.props.params.assetid||this.props.params.uid:this.props.formAsset?this.props.formAsset.uid:this.props.uid},componentWillUpdate:function(e){var t,r;(null===(t=this.props.params)||void 0===t?void 0:t.uid)!==(null===(r=e.params)||void 0===r?void 0:r.uid)&&_.a.resources.loadAsset({id:e.params.uid})},componentDidMount:function(){this.listenTo(m.a.asset,this.dmixAssetStoreChange);var e=this._getAssetUid();this.props.randdelay&&e?window.setTimeout(function(){_.a.resources.loadAsset({id:e})},3e3*Math.random()):e&&_.a.resources.loadAsset({id:e})}};var y=function(e){return new Promise(function(t,r){_.a.resources.createImport(e,function(e){var o=setInterval(function(){d.a.getImportDetails({uid:e.uid}).done(function(e){switch(e.status){case"complete":var a=e.messages.updated||e.messages.created;a&&a.length>0&&a[0].uid?(clearInterval(o),t(a[0])):(clearInterval(o),r(e));break;case"processing":case"created":break;case"error":default:clearInterval(o),r(e)}}).fail(function(e){clearInterval(o),r(e)})},1e3)})})};v.droppable={applyFileToAsset:function(e,t){return new Promise(function(r,o){var a=new FileReader;a.onload=function(a){var n={destination:t.url,assetUid:t.uid,name:e.name,base64Encoded:a.target.result,lastModified:e.lastModified,totalFiles:1};y(n).then(function(e){r(e)},function(e){o(e)})},a.readAsDataURL(e)})},applyUrlToAsset:function(e,t){return new Promise(function(r,o){var a={destination:t.url,url:e,name:t.name,assetUid:t.uid};y(a).then(function(e){r(e)},function(e){o(e)})})},_forEachDroppedFile:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.context.router,a=this.props.context===p.PROJECT_SETTINGS_CONTEXTS.REPLACE&&o.isActive("forms")&&void 0!==o.params.uid,n=o.isActive("library"),s=r.totalFiles>1;if((r=Object(h.assign)({library:n},r)).base64Encoded&&m.a.pageState.showModal({type:p.MODAL_TYPES.UPLOADING_XLS,filename:s?t("## files").replace("##",r.totalFiles):r.name}),delete r.totalFiles,!n&&r.base64Encoded){var i=r.destination||this.state.url;i&&(r=Object(h.assign)({destination:i},r))}_.a.resources.createImport(r,function(o){window.setTimeout(function(){d.a.getImportDetails({uid:o.uid}).done(function(o){if("complete"===o.status){var i=o.messages.updated||o.messages.created,u=i&&i.length>0&&i[0].uid;!n&&s?e.searchDefault():u?(a?_.a.resources.loadAsset({id:u}):n||c.f.push("/forms/".concat(u)),Object(h.notify)(t("XLS Import completed"))):(l.a.error(t('XLSForm Import failed. Check that the XLSForm and/or the URL are valid, and try again using the "Replace form" icon.')),r.assetUid&&c.f.push("/forms/".concat(r.assetUid)))}else if("processing"===o.status)l.a.warning(t("Your upload is being processed. This may take a few moments."));else if("created"===o.status)l.a.warning(t("Your upload is queued for processing. This may take a few moments."));else if("error"===o.status){var p=[];p.push(t("Import Failed!")),r.name&&p.push("<code>Name: ".concat(r.name,"</code>")),o.messages.error&&p.push("<code>".concat(o.messages.error_type,": ").concat(Object(h.escapeHtml)(o.messages.error),"</code>")),l.a.error(p.join("<br/>"))}else l.a.error(t("Import Failed!"))}).fail(function(e){l.a.error(t("Import Failed!")),Object(h.log)("import failed",e)}),m.a.pageState.hideModal()},2500)},function(e){Object(h.log)("Failed to create import: ",e),l.a.error(t("Failed to create import."))})},dropFiles:function(e,r,o){var a=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.map(function(t){var r=new FileReader;r.onload=function(r){var o=Object(h.assign)({base64Encoded:r.target.result,name:t.name,lastModified:t.lastModified,totalFiles:e.length},n);a._forEachDroppedFile(o)},r.readAsDataURL(t)});for(var s=0;s<r.length;s++){if(!r[s].type||!r[s].name){l.a.error(t("Could not recognize the dropped item(s)."));break}var i=t("Upload error: could not recognize Excel file.");i+=" (".concat(t("Uploaded file name: ")," ").concat(r[s].name,")"),l.a.error(i)}}},v.clickAssets={onActionButtonClick:function(e,t,r){this.click.asset[e].call(this,t,r)},click:{asset:{clone:function(e){var r;r="object"===g(e)?e:m.a.selectedAsset.asset||m.a.allAssets.byUid[e];var o,a=p.ASSET_TYPES[r.asset_type].label,n=u.b.getAssetDisplayName(r);n.original&&(o="".concat(t("Clone of")," ").concat(n.original));var s=l.a.dialog("prompt"),i=s.elements.buttons.primary.firstChild,d={title:"".concat(t("Clone")," ").concat(a),message:t("Enter the name of the cloned ##ASSET_TYPE##.").replace("##ASSET_TYPE##",a),value:o,labels:{ok:t("Ok"),cancel:t("Cancel")},onok:function(e,o){i.disabled=!0,i.innerText=t("Cloning...");var n=!1;if(r.parent){var l=b.a.findAssetByUrl(r.parent);n=void 0!==l&&v.permissions.userCan(p.PERMISSIONS_CODENAMES.change_asset,l)}return _.a.resources.cloneAsset({uid:r.uid,name:o,parent:n?r.parent:void 0},{onComplete:function(e){var r;i.disabled=!1,s.destroy(),r=e.asset_type===p.ASSET_TYPES.survey.id?"/forms/".concat(e.uid,"/data"):"/library/asset/".concat(e.uid),c.f.push(r),Object(h.notify)(t("cloned ##ASSET_TYPE## created").replace("##ASSET_TYPE##",a))}}),!1},oncancel:function(){s.destroy()}};s.set(d).show()},cloneAsTemplate:function(e,r){v.cloneAssetAsNewType.dialog({sourceUid:e,sourceName:r,targetType:p.ASSET_TYPES.template.id,promptTitle:t("Create new template from this project"),promptMessage:t("Enter the name of the new template.")})},cloneAsSurvey:function(e,r){v.cloneAssetAsNewType.dialog({sourceUid:e,sourceName:r,targetType:p.ASSET_TYPES.survey.id,promptTitle:t("Create new project from this template"),promptMessage:t("Enter the name of the new project.")})},edit:function(e){this.context.router.isActive("library")?c.f.push("/library/asset/".concat(e,"/edit")):c.f.push("/forms/".concat(e,"/edit"))},delete:function(r,o,n){var s;s="object"===g(r)?r:m.a.selectedAsset.asset||m.a.allAssets.byUid[r];var i,c,u=p.ASSET_TYPES[s.asset_type].label,d=a.default.escape(o),f=l.a.dialog("confirm");s.has_deployment?(i="".concat(t("You are about to permanently delete this form.")),0!==s.deployment__submission_count&&(i+="".concat(Object(h.renderCheckbox)("dt1",t("All data gathered for this form will be deleted.")))),i+="".concat(Object(h.renderCheckbox)("dt2",t("The form associated with this project will be deleted.")),"\n            ").concat(Object(h.renderCheckbox)("dt3",t("I understand that if I delete this project I will not be able to recover it."),!0),"\n          "),c=function(t){var r=f.elements.buttons.primary.firstChild,o=e(".alertify-toggle input");r.disabled=!0,o.each(function(){e(this).prop("checked",!1)}),o.change(function(){r.disabled=!1,o.each(function(){e(this).prop("checked")||(r.disabled=!0)})})}):i=s.asset_type!==p.ASSET_TYPES.survey.id?t("You are about to permanently delete this item from your library."):t("You are about to permanently delete this draft.");var b={title:"".concat(t("Delete")," ").concat(u,' "').concat(d,'"'),message:i,labels:{ok:t("Delete"),cancel:t("Cancel")},onshow:c,onok:function(e,r){_.a.resources.deleteAsset({uid:s.uid,assetType:s.asset_type},{onComplete:function(){Object(h.notify)(t("##ASSET_TYPE## deleted permanently").replace("##ASSET_TYPE##",u)),"function"==typeof n&&n()}})},oncancel:function(){f.destroy(),e(".alertify-toggle input").prop("checked",!1)}};f.set(b).show()},deploy:function(e){var t=m.a.selectedAsset.asset;v.dmix.deployAsset(t)},archive:function(e,r){var o;o="object"===g(e)?e:m.a.selectedAsset.asset||m.a.allAssets.byUid[e];var a=l.a.dialog("confirm"),n={title:t("Archive Project"),message:"".concat(t("Are you sure you want to archive this project?")," <br/><br/>\n            <strong>").concat(t("Your form will not accept submissions while it is archived."),"</strong>"),labels:{ok:t("Archive"),cancel:t("Cancel")},onok:function(e,t){_.a.resources.setDeploymentActive({asset:o,active:!1}),"function"==typeof r&&r()},oncancel:function(){a.destroy()}};a.set(n).show()},unarchive:function(e,r){var o;o="object"===g(e)?e:m.a.selectedAsset.asset||m.a.allAssets.byUid[e];var a=l.a.dialog("confirm"),n={title:t("Unarchive Project"),message:"".concat(t("Are you sure you want to unarchive this project?")),labels:{ok:t("Unarchive"),cancel:t("Cancel")},onok:function(e,t){_.a.resources.setDeploymentActive({asset:o,active:!0}),"function"==typeof r&&r()},oncancel:function(){a.destroy()}};a.set(n).show()},sharing:function(e){m.a.pageState.showModal({type:p.MODAL_TYPES.SHARING,assetid:e})},refresh:function(e){m.a.pageState.showModal({type:p.MODAL_TYPES.REPLACE_PROJECT,asset:m.a.selectedAsset.asset})},translations:function(e){m.a.pageState.showModal({type:p.MODAL_TYPES.FORM_LANGUAGES,assetUid:e})},encryption:function(e){m.a.pageState.showModal({type:p.MODAL_TYPES.ENCRYPT_FORM,assetUid:e})}}}},v.permissions={userCan:function(e,t){if(!t.permissions)return!1;if(!m.a.session.currentAccount)return!1;var r=m.a.session.currentAccount.username;return t.owner__username===r||!!t.permissions.some(function(t){return t.user===Object(h.buildUserUrl)(p.ANON_USERNAME)&&t.permission===f.a.getPermissionByCodename(e).url})||t.permissions.some(function(t){return t.user===Object(h.buildUserUrl)(r)&&t.permission===f.a.getPermissionByCodename(e).url})}},v.contextRouter={isFormList:function(){return this.context.router.isActive(p.ROUTES.FORMS)&&void 0===this.currentAssetID()},isLibrary:function(){return this.context.router.isActive(p.ROUTES.LIBRARY)},isMyLibrary:function(){return this.context.router.isActive(p.ROUTES.MY_LIBRARY)},isPublicCollections:function(){return this.context.router.isActive(p.ROUTES.PUBLIC_COLLECTIONS)},isLibraryList:function(){return this.context.router.isActive(p.ROUTES.LIBRARY)&&void 0===this.currentAssetID()},isLibrarySingle:function(){return this.context.router.isActive(p.ROUTES.LIBRARY)&&void 0!==this.currentAssetID()},isFormSingle:function(){return this.context.router.isActive(p.ROUTES.FORMS)&&void 0!==this.currentAssetID()},currentAssetID:function(){return this.context.router.params.assetid||this.context.router.params.uid},currentAsset:function(){return m.a.asset.data[this.currentAssetID()]},isActiveRoute:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.context.router.isActive(e,t)},isFormBuilder:function(){if(this.context.router.isActive(p.ROUTES.NEW_LIBRARY_ITEM))return!0;var e=this.currentAssetID();return void 0!==e&&this.context.router.isActive(p.ROUTES.EDIT_LIBRARY_ITEM.replace(":uid",e))||this.context.router.isActive(p.ROUTES.NEW_LIBRARY_ITEM.replace(":uid",e))||this.context.router.isActive(p.ROUTES.FORM_EDIT.replace(":uid",e))}},v.cloneAssetAsNewType={dialog:function(e){var r=l.a.dialog("prompt"),o={title:e.promptTitle,message:e.promptMessage,value:a.default.escape(e.sourceName),labels:{ok:t("Create"),cancel:t("Cancel")},onok:function(o,a){return r.elements.buttons.primary.children[0].setAttribute("disabled",!0),r.elements.buttons.primary.children[0].innerText=t("Please wait…"),r.elements.buttons.primary.children[1].setAttribute("disabled",!0),_.a.resources.cloneAsset({uid:e.sourceUid,name:a,new_asset_type:e.targetType},{onComplete:function(e){switch(r.destroy(),e.asset_type){case p.ASSET_TYPES.survey.id:c.f.push(p.ROUTES.FORM_LANDING.replace(":uid",e.uid));break;case p.ASSET_TYPES.template.id:case p.ASSET_TYPES.block.id:case p.ASSET_TYPES.question.id:c.f.push(p.ROUTES.LIBRARY)}},onFailed:function(e){r.destroy(),l.a.error(t("Failed to create new asset!"))}}),!1},oncancel:function(e,t){r.destroy()}};r.set(o).show()}};var w=v;r.a=w,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(1e3,"IMPORT_CHECK_INTERVAL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/mixins.es6"),__REACT_HOT_LOADER__.register(v,"mixins","/home/sujit/projects/ndrrma/survey/source/jsapp/js/mixins.es6"),__REACT_HOT_LOADER__.register(y,"applyImport","/home/sujit/projects/ndrrma/survey/source/jsapp/js/mixins.es6"),__REACT_HOT_LOADER__.register(w,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/mixins.es6"))}).call(this,o(19))},18:function(e,r,o){"use strict";(function(e){var a=o(0),n=o.n(a),s=o(33),i=o.n(s),l=o(9),c=o.n(l),u=o(15),p=o(12),d=o(2),m=o(1),_=o(3),f=o(23),h=o.n(f);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=x(e);if(t){var a=x(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?E(e):t}(this,r)}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){w(r,n.a.Component);var t=k(r);function r(e){var o;return g(this,r),o=t.call(this,e),c()(E(o)),o}return y(r,[{key:"getValue",value:function(){return i.a.findDOMNode(this.refs.inp).value}},{key:"setValue",value:function(e){i.a.findDOMNode(this.refs.inp).value=e}},{key:"render",value:function(){var e=u.default.uniqueId("elem"),t=this.props.value;return n.a.createElement("input",{type:"text",ref:"inp",className:"k-search__input",value:t,onKeyUp:this.props.onKeyUp,onChange:this.props.onChange,id:e,placeholder:this.props.placeholder,disabled:this.props.disabled})}}]),r}(),T=function(e){w(r,n.a.Component);var t=k(r);function r(e){return g(this,r),t.call(this,e)}return y(r,[{key:"render",value:function(){return n.a.createElement(m.a.uiPanel,{className:this.props.className,m:this.props.m},n.a.createElement(m.a.uiPanel__body,null,this.props.children))}}]),r}(),O=function(e){w(o,n.a.Component);var r=k(o);function o(e){var t;return g(this,o),t=r.call(this,e),c()(E(t)),t}return y(o,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction)}},{key:"escFunction",value:function(e){e.keyCode!==d.KEY_CODES.ESC&&"Escape"!==e.key||this.props.onClose.call(e)}},{key:"backdropClick",value:function(e){e.currentTarget===e.target&&this.props.onClose.call(e)}},{key:"renderTitle",value:function(){return this.props.title?this.props.small?n.a.createElement("div",null,n.a.createElement(m.a.Modal__title,null,this.props.title),n.a.createElement("h6",null,this.props.small)):n.a.createElement(m.a.Modal__title,null,this.props.title):null}},{key:"renderClose",value:function(){return this.props.isDuplicated?n.a.createElement("a",{className:"modal__done",type:"button",onClick:this.props.onClose},t("DONE")):n.a.createElement("a",{className:"modal__x",type:"button",onClick:this.props.onClose},n.a.createElement("i",{className:"k-icon-close"}))}},{key:"render",value:function(){return n.a.createElement(m.a.Modal__backdrop,{onClick:this.backdropClick},n.a.createElement("div",{className:h()("modal",this.props.className,this.props.open?"modal--open":null,this.props.large?"modal--large":null,this.props.icon?"modal--withicon":null)},this.props.icon&&n.a.createElement("i",{className:h()("modal_icon","modal_icon--".concat(this.props.icon))}),n.a.createElement(m.a.Modal__content,null,n.a.createElement(m.a.Modal__header,null,this.renderTitle(),this.renderClose()),this.props.children)))}}]),o}(),C=function(e){w(r,n.a.Component);var t=k(r);function r(e){return g(this,r),t.call(this,e)}return y(r,[{key:"render",value:function(){return n.a.createElement(m.a.Modal__footer,null,this.props.children)}}]),r}();O.Footer=C;var A=function(e){w(r,n.a.Component);var t=k(r);function r(e){return g(this,r),t.call(this,e)}return y(r,[{key:"render",value:function(){return n.a.createElement(m.a.Modal__body,null,this.props.children)}}]),r}();O.Body=A;var R=function(e){w(r,n.a.Component);var t=k(r);function r(e){return g(this,r),t.call(this,e)}return y(r,[{key:"render",value:function(){return n.a.createElement(m.a.Modal__tabs,null,this.props.children)}}]),r}();O.Tabs=R;var j=m.a.create("sidebar-asset-name","<span>"),L=function(e){w(o,n.a.Component);var r=k(o);function o(e){return g(this,o),r.call(this,e)}return y(o,[{key:"render",value:function(){return n.a.createElement(j,{m:{noname:!this.props.name}},this.props.name||t("No name"))}}]),o}(),P=function(e){w(o,n.a.Component);var r=k(o);function o(e){return g(this,o),r.call(this,e)}return y(o,[{key:"render",value:function(){var e=Object(p.c)(this.props),r=null,o=["asset-name"],a=this.props.summary;return!e.original&&e.question&&a.row_count&&(2===a.row_count?r=n.a.createElement("small",null,t("and one other question")):a.row_count>2&&(r=n.a.createElement("small",null,t("and ## other questions").replace("##",a.row_count-1)))),e.empty&&o.push("asset-name--empty"),Object(_.hasLongWords)(e.final)&&o.push("asset-name--has-long-words"),n.a.createElement("span",{className:o.join(" ")},e.final," ",r)}}]),o}(),D=function(t){w(o,n.a.Component);var r=k(o);function o(e){var t;return g(this,o),(t=r.call(this,e)).state={popoverVisible:!1,popoverHiding:!1,placement:"below"},t._mounted=!1,c()(E(t)),t}return y(o,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"toggle",value:function(t){var r=this,o="blur"===t.type;if(o&&this.props.blurEventDisabled)return!1;if(o&&t.relatedTarget&&t.relatedTarget.dataset&&t.relatedTarget.dataset.popoverMenuStopBlur)return t.target.focus(),!1;if(this.state.popoverVisible||o?(this.setState({popoverHiding:!0}),window.setTimeout(function(){if(!r._mounted)return!1;r.setState({popoverVisible:!1,popoverHiding:!1})},200)):this.setState({popoverVisible:!0}),"assetrow-menu"===this.props.type&&!this.state.popoverVisible){var a=e(t.target).parents(".asset-row"),n=e(t.target).parents(".popover-menu").find(".popover-menu__content");a.offset().top>n.outerHeight()+a.outerHeight()+20?this.setState({placement:"above"}):this.setState({placement:"below"})}"function"!=typeof this.props.popoverSetVisible||this.state.popoverVisible||this.props.popoverSetVisible()}},{key:"componentWillReceiveProps",value:function(e){this.state.popoverVisible&&e.clearPopover&&this.setState({popoverVisible:!1})}},{key:"render",value:function(){var e=this.props.additionalModifiers||[];return e.push(this.state.placement),this.props.type&&e.push(this.props.type),n.a.createElement(m.a.PopoverMenu,{m:e},n.a.createElement(m.a.PopoverMenu__toggle,{onClick:this.toggle,onBlur:this.toggle,"data-tip":this.props.triggerTip,tabIndex:"1",className:this.props.triggerClassName},this.props.triggerLabel),n.a.createElement(m.a.PopoverMenu__content,{m:[this.state.popoverHiding?"hiding":"",this.state.popoverVisible?"visible":"hidden"]},this.props.children))}}]),o}(),F=function(e){w(o,n.a.Component);var r=k(o);function o(){return g(this,o),r.apply(this,arguments)}return y(o,[{key:"render",value:function(){return n.a.createElement(m.a.FormView,null,n.a.createElement(m.a.Loading,null,n.a.createElement(m.a.Loading__inner,null,n.a.createElement("h3",null,t("Access Denied")),t("You do not have permission to view this page."))))}}]),o}(),M={AccessDeniedMessage:F,SearchBox:S,Panel:T,Modal:O,SidebarAssetName:L,AssetName:P,PopoverMenu:D},N=M;r.a=N,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(S,"SearchBox","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(T,"Panel","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(O,"Modal","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(C,"Footer","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(A,"Body","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(R,"Tabs","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(j,"BemSidebarAssetName","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(L,"SidebarAssetName","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(P,"AssetName","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(D,"PopoverMenu","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(F,"AccessDeniedMessage","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(M,"ui","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"),__REACT_HOT_LOADER__.register(N,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/ui.es6"))}).call(this,o(19))},2:function(e,r,o){"use strict";o.r(r),o.d(r,"ROOT_URL",function(){return n}),o.d(r,"ANON_USERNAME",function(){return s}),o.d(r,"PERMISSIONS_CODENAMES",function(){return i}),o.d(r,"HOOK_LOG_STATUSES",function(){return l}),o.d(r,"KEY_CODES",function(){return c}),o.d(r,"MODAL_TYPES",function(){return u}),o.d(r,"PROJECT_SETTINGS_CONTEXTS",function(){return p}),o.d(r,"update_states",function(){return d}),o.d(r,"AVAILABLE_FORM_STYLES",function(){return m}),o.d(r,"VALIDATION_STATUSES",function(){return _}),o.d(r,"VALIDATION_STATUSES_LIST",function(){return f}),o.d(r,"ASSET_TYPES",function(){return h}),o.d(r,"QUESTION_TYPES",function(){return b}),o.d(r,"META_QUESTION_TYPES",function(){return g}),o.d(r,"NAME_MAX_LENGTH",function(){return v}),o.d(r,"COMMON_QUERIES",function(){return y}),o.d(r,"ACCESS_TYPES",function(){return w}),o.d(r,"GROUP_TYPES_BEGIN",function(){return k}),o.d(r,"GROUP_TYPES_END",function(){return E}),o.d(r,"FORM_VERSION_NAME",function(){return x}),o.d(r,"SCORE_ROW_TYPE",function(){return S}),o.d(r,"RANK_LEVEL_TYPE",function(){return T}),o.d(r,"CHOICE_LISTS",function(){return O}),o.d(r,"MATRIX_PAIR_PROPS",function(){return C}),o.d(r,"DEPLOYMENT_CATEGORIES",function(){return A}),o.d(r,"REPORT_STYLES",function(){return R}),o.d(r,"QUERY_LIMIT_DEFAULT",function(){return j}),o.d(r,"ROUTES",function(){return L});var a,n=(null===(a=document.head.querySelector("meta[name=kpi-root-path]"))?(console.error('no kpi-root-path meta tag set. defaulting to ""'),a=""):a=a.content.replace(/\/*$/,""),"".concat(window.location.protocol,"//").concat(window.location.host).concat(a)),s="AnonymousUser",i={};new Set(["view_asset","change_asset","discover_asset","manage_asset","add_submissions","view_submissions","partial_submissions","change_submissions","delete_submissions","validate_submissions"]).forEach(function(e){i[e]=e}),Object.freeze(i);var l={SUCCESS:2,PENDING:1,FAILED:0},c=Object.freeze({TAB:9,ENTER:13,ESC:27,SPACE:32,NBSP:160}),u={SHARING:"sharing",UPLOADING_XLS:"uploading-xls",NEW_FORM:"new-form",LIBRARY_NEW_ITEM:"library-new-item",LIBRARY_TEMPLATE:"library-template",LIBRARY_COLLECTION:"library-collection",LIBRARY_UPLOAD:"library-upload",ENKETO_PREVIEW:"enketo-preview",SUBMISSION:"submission",REPLACE_PROJECT:"replace-project",TABLE_COLUMNS:"table-columns",REST_SERVICES:"rest-services",FORM_LANGUAGES:"form-languages",FORM_TRANSLATIONS_TABLE:"form-translation-table",ASSET_TAGS:"asset-tags",ENCRYPT_FORM:"encrypt-form",BULK_EDIT_SUBMISSIONS:"bulk-edit-submissions"},p={NEW:"newForm",EXISTING:"existingForm",REPLACE:"replaceProject",BUILDER:"formBuilderAside"},d={UNSAVED_CHANGES:-1,UP_TO_DATE:!0,PENDING_UPDATE:!1,SAVE_FAILED:"SAVE_FAILED"},m=[{value:"",label:t("Default - single page")},{value:"theme-grid no-text-transform",label:t("Grid theme")},{value:"theme-grid",label:t("Grid theme with headings in ALL CAPS")},{value:"pages",label:t("Multiple pages")},{value:"theme-grid pages no-text-transform",label:t("Grid theme + Multiple pages")},{value:"theme-grid pages",label:t("Grid theme + Multiple pages + headings in ALL CAPS")}],_={no_status:{value:null,label:"—"},validation_status_not_approved:{value:"validation_status_not_approved",label:t("Not Approved")},validation_status_approved:{value:"validation_status_approved",label:t("Approved")},validation_status_on_hold:{value:"validation_status_on_hold",label:t("On Hold")}},f=[_.no_status,_.validation_status_not_approved,_.validation_status_approved,_.validation_status_on_hold],h={question:{id:"question",label:t("question")},block:{id:"block",label:t("block")},template:{id:"template",label:t("template")},survey:{id:"survey",label:t("project")},collection:{id:"collection",label:t("collection")}},b=Object.freeze({select_one:{label:t("Select One"),faIcon:"fa-dot-circle-o",id:"select_one"},select_multiple:{label:t("Select Many"),faIcon:"fa-list-ul",id:"select_multiple"},text:{label:t("Text"),faIcon:"fa-lato-text",id:"text"},integer:{label:t("Number"),faIcon:"fa-lato-integer",id:"integer"},decimal:{label:t("Decimal"),faIcon:"fa-lato-decimal",id:"decimal"},date:{label:t("Date"),faIcon:"fa-calendar",id:"date"},time:{label:t("Time"),faIcon:"fa-clock-o",id:"time"},datetime:{label:t("Date & time"),faIcon:"fa-calendar clock-over",id:"datetime"},geopoint:{label:t("Point"),faIcon:"fa-map-marker",id:"geopoint"},image:{label:t("Photo"),faIcon:"fa-picture-o",id:"image"},audio:{label:t("Audio"),faIcon:"fa-volume-up",id:"audio"},video:{label:t("Video"),faIcon:"fa-video-camera",id:"video"},geotrace:{label:t("Line"),faIcon:"fa-share-alt",id:"geotrace"},note:{label:t("Note"),faIcon:"fa-bars",id:"note"},barcode:{label:t("Barcode / QR Code"),faIcon:"fa-qrcode",id:"barcode"},acknowledge:{label:t("Acknowledge"),faIcon:"fa-check-square-o",id:"acknowledge"},geoshape:{label:t("Area"),faIcon:"fa-square",id:"geoshape"},score:{label:t("Rating"),faIcon:"fa-server",id:"score"},kobomatrix:{label:t("Question Matrix"),faIcon:"fa-table",id:"kobomatrix"},rank:{label:t("Ranking"),faIcon:"fa-sort-amount-desc",id:"rank"},calculate:{label:t("Calculate"),faIcon:"fa-lato-calculate",id:"calculate"},hidden:{label:t("Hidden"),faIcon:"fa-eye-slash",id:"hidden"},file:{label:t("File"),faIcon:"fa-file",id:"file"},range:{label:t("Range"),faIcon:"fa-lato-range",id:"range"}}),g={};new Set(["start","end","today","username","simserial","subscriberid","deviceid","phonenumber","audit"]).forEach(function(e){g[e]=e}),Object.freeze(g);var v=255,y=Object.freeze({b:"asset_type:block",q:"asset_type:question",t:"asset_type:template",s:"asset_type:survey",c:"asset_type:collection",qb:"(asset_type:question OR asset_type:block)",qbt:"(asset_type:question OR asset_type:block OR asset_type:template)",qbtc:"(asset_type:question OR asset_type:block OR asset_type:template OR asset_type:collection)"}),w={};new Set(["owned","shared","public","subscribed"]).forEach(function(e){w[e]=e}),Object.freeze(w);var k={};new Set(["begin_group","begin_score","begin_rank","begin_kobomatrix","begin_repeat"]).forEach(function(e){k[e]=e}),Object.freeze(k);var E={};new Set(["end_group","end_score","end_rank","end_kobomatrix","end_repeat"]).forEach(function(e){E[e]=e}),Object.freeze(E);var x="__version__",S="score__row",T="rank__level",O=Object.freeze({SELECT:"select_from_list_name",MATRIX:"kobo--matrix_list",SCORE:"kobo--score-choices",RANK:"kobo--rank-items"}),C={inSurvey:O.MATRIX,inChoices:"list_name"},A=Object.freeze({Deployed:{id:"Deployed",label:t("Deployed")},Draft:{id:"Draft",label:t("Draft")},Archived:{id:"Archived",label:t("Archived")}}),R=Object.freeze({vertical:{value:"vertical",label:t("Vertical")},donut:{value:"donut",label:t("Donut")},area:{value:"area",label:t("Area")},horizontal:{value:"horizontal",label:t("Horizontal")},pie:{value:"pie",label:t("Pie")},line:{value:"line",label:t("Line")}}),j=5e3,L=Object.freeze({ACCOUNT_SETTINGS:"/account-settings",CHANGE_PASSWORD:"/change-password",LIBRARY:"/library",MY_LIBRARY:"/library/my-library",PUBLIC_COLLECTIONS:"/library/public-collections",NEW_LIBRARY_ITEM:"/library/asset/new",LIBRARY_ITEM:"/library/asset/:uid",EDIT_LIBRARY_ITEM:"/library/asset/:uid/edit",NEW_LIBRARY_CHILD:"/library/asset/:uid/new",LIBRARY_ITEM_JSON:"/library/asset/:uid/json",LIBRARY_ITEM_XFORM:"/library/asset/:uid/xform",FORMS:"/forms",FORM:"/forms/:uid",FORM_JSON:"/forms/:uid/json",FORM_XFORM:"/forms/:uid/xform",FORM_EDIT:"/forms/:uid/edit",FORM_SUMMARY:"/forms/:uid/summary",FORM_LANDING:"/forms/:uid/landing",FORM_DATA:"/forms/:uid/data",FORM_REPORT:"/forms/:uid/data/report",FORM_REPORT_OLD:"/forms/:uid/data/report-legacy",FORM_TABLE:"/forms/:uid/data/table",FORM_DOWNLOADS:"/forms/:uid/data/downloads",FORM_GALLERY:"/forms/:uid/data/gallery",FORM_MAP:"/forms/:uid/data/map",FORM_MAP_BY:"/forms/:uid/data/map/:viewby",FORM_SETTINGS:"/forms/:uid/settings",FORM_MEDIA:"/forms/:uid/settings/media",FORM_SHARING:"/forms/:uid/settings/sharing",FORM_REST:"/forms/:uid/settings/rest",FORM_REST_HOOK:"/forms/:uid/settings/rest/:hookUid",FORM_KOBOCAT:"/forms/:uid/settings/kobocat",FORM_RESET:"/forms/:uid/reset",DOWNLOAD_SLIP:"/slip/download/"}),P={ROOT_URL:n,ANON_USERNAME:s,PERMISSIONS_CODENAMES:i,HOOK_LOG_STATUSES:l,KEY_CODES:c,MODAL_TYPES:u,PROJECT_SETTINGS_CONTEXTS:p,update_states:d,AVAILABLE_FORM_STYLES:m,VALIDATION_STATUSES:_,VALIDATION_STATUSES_LIST:f,ASSET_TYPES:h,QUESTION_TYPES:b,META_QUESTION_TYPES:g,NAME_MAX_LENGTH:v,COMMON_QUERIES:y,ACCESS_TYPES:w,GROUP_TYPES_BEGIN:k,GROUP_TYPES_END:E,FORM_VERSION_NAME:x,SCORE_ROW_TYPE:S,RANK_LEVEL_TYPE:T,DEPLOYMENT_CATEGORIES:A,REPORT_STYLES:R,ROUTES:L,QUERY_LIMIT_DEFAULT:j,CHOICE_LISTS:O},D=P;r.default=D,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"ROOT_URL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(s,"ANON_USERNAME","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(i,"PERMISSIONS_CODENAMES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(l,"HOOK_LOG_STATUSES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(c,"KEY_CODES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(u,"MODAL_TYPES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(p,"PROJECT_SETTINGS_CONTEXTS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(d,"update_states","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(m,"AVAILABLE_FORM_STYLES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(_,"VALIDATION_STATUSES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(f,"VALIDATION_STATUSES_LIST","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(h,"ASSET_TYPES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(b,"QUESTION_TYPES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(g,"META_QUESTION_TYPES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(v,"NAME_MAX_LENGTH","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(y,"COMMON_QUERIES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(w,"ACCESS_TYPES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(k,"GROUP_TYPES_BEGIN","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(E,"GROUP_TYPES_END","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(x,"FORM_VERSION_NAME","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(S,"SCORE_ROW_TYPE","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(T,"RANK_LEVEL_TYPE","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(O,"CHOICE_LISTS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(C,"MATRIX_PAIR_PROPS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(A,"DEPLOYMENT_CATEGORIES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(R,"REPORT_STYLES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(j,"QUERY_LIMIT_DEFAULT","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(L,"ROUTES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(P,"constants","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"),__REACT_HOT_LOADER__.register(D,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/constants.es6"))},20:function(e,r,o){"use strict";var a=o(7),n=o.n(a).a.createStore({init:function(){this.permissions=[]},setPermissions:function(e){this.permissions=e},getPermissionByCodename:function(e){return this.verifyReady(),this.permissions.find(function(t){return t.codename===e})},getPermission:function(e){return this.verifyReady(),this.permissions.find(function(t){return t.url===e})},verifyReady:function(){if(0===this.permissions.length)throw new Error(t("Permission config is not ready or failed to initialize!"))}}),s=n;r.a=s,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"permConfig","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permConfig.es6"),__REACT_HOT_LOADER__.register(s,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permConfig.es6"))},21:function(e,r,o){"use strict";o.d(r,"d",function(){return a}),o.d(r,"b",function(){return n}),o.d(r,"c",function(){return s}),o.d(r,"a",function(){return i});var a=Object.freeze({PROJECTS:{label:t("Projects"),href:"#/forms"},MY_LIBRARY:{label:t("My Library"),href:"#/library/my-library"},PUBLIC_COLLECTIONS:{label:t("Public Collections"),href:"#/library/public-collections"}}),n={};new Set(["MY_LIBRARY","COLLECTION_CONTENT","PUBLIC_COLLECTIONS"]).forEach(function(e){n[e]=e}),Object.freeze(n);var s={};new Set(["ascending","descending"]).forEach(function(e){s[e]=e}),Object.freeze(s);var i=Object.freeze({"icon-status":{label:t("Type"),id:"icon-status",orderBy:"asset_type",defaultValue:s.ascending},"date-modified":{label:t("Last Modified"),id:"date-modified",orderBy:"date_modified",defaultValue:s.descending},name:{label:t("Name"),id:"name",orderBy:"name",defaultValue:s.ascending},"items-count":{label:t("Items"),id:"items-count",orderBy:null,defaultValue:null},owner:{label:t("Owner"),id:"owner",orderBy:"owner__username",defaultValue:s.ascending},"subscribers-count":{label:t("Subscribers"),id:"subscribers-count",orderBy:"subscribers_count",defaultValue:s.ascending},languages:{label:t("Languages"),id:"languages",filterBy:"summary__languages__icontains",filterByPath:["summary","languages"],filterByMetadataName:"languages"},"primary-sector":{label:t("Primary Sector"),id:"primary-sector",filterBy:"settings__sector__value",filterByPath:["settings","sector"],filterByMetadataName:"sectors"}});"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"ROOT_BREADCRUMBS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/libraryConstants.es6"),__REACT_HOT_LOADER__.register(n,"ASSETS_TABLE_CONTEXTS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/libraryConstants.es6"),__REACT_HOT_LOADER__.register(s,"ORDER_DIRECTIONS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/libraryConstants.es6"),__REACT_HOT_LOADER__.register(i,"ASSETS_TABLE_COLUMNS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/libraryConstants.es6"))},22:function(e,t,r){"use strict";var o=r(0),a=r.n(o),n=r(9),s=r.n(n),i=r(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,r)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,a.a.Component);var t,r,o=p(n);function n(e){var t;if(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),"function"!=typeof e.onChange)throw new Error("onChange callback missing!");return t=o.call(this,e),s()(d(t)),t}return t=n,(r=[{key:"onChange",value:function(e){this.props.onChange(e.currentTarget.checked)}},{key:"render",value:function(){return a.a.createElement(i.a.Checkbox,null,a.a.createElement(i.a.Checkbox__wrapper,null,a.a.createElement(i.a.Checkbox__input,{type:"checkbox",name:this.props.name,id:this.props.id,onChange:this.onChange,checked:this.props.checked,disabled:this.props.disabled}),this.props.label&&a.a.createElement(i.a.Checkbox__label,{htmlFor:this.props.id},this.props.label)))}}])&&c(t.prototype,r),n}(),f=_;t.a=f,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"Checkbox","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/common/checkbox.es6"),__REACT_HOT_LOADER__.register(f,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/common/checkbox.es6"))},24:function(e,t,r){var o,a,n,s,i,l=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};n=r(15),o=r(134),a=r(136),e.exports=(s=function(e){return e.replace(/^[\s\t\uFEFF\xA0]+|[\s\t\uFEFF\xA0]+$/g,"")},(i={skipLogicParser:o,validationLogicParser:a}).split_paste=function(e){var t,r,o,a,i,l,c,u,p,d,m,_,f,h,b,g;for(p=[],t=0,i=(m=e.split("\n")).length;t<i;t++)h=m[t],(b=s(h)).match(/^\s*$/)||p.push(b.split(/\t/));for(d=[],r=0,l=(_=p.slice(1)).length;r<l;r++){for(u=[],c=o=0,f=(h=_[r]).length;0<=f?o<f:o>f;c=0<=f?++o:--o)a=p[0][c],(g=h[c]).length>0&&u.push([a,g]);d.push(n.object(u))}return d},i.txtid=function(){return"AAnCAnn".replace(/[AaCn]/g,function(e){var t,r,o;return o=function(){var e;return e=Math.floor(52*Math.random()),e+=e<=25?65:71,String.fromCharCode(e)},r=Math.random(),"a"===e?o():"A"===e?String.fromCharCode(65+(26*r|0)):"C"===e?(t=Math.floor(62*r))>52?t-52:o():"n"===e?Math.floor(10*r):void 0}).toLowerCase()},i.parseHelper={parseSkipLogic:function(e,t,r){var a,n,s,i,l,c;e.meta.set("rawValue",t);try{for(l=o(t),e.reset(),e.parseable=!0,c=l.criteria,n=0,s=c.length;n<s;n++)i={name:(a=c[n]).name,expressionCode:a.operator},"multiplechoice_selected"===a.operator?i.criterionOption=e.getSurvey().findRowByName(a.name).getList().options.get(a.response_value):i.criterion=a.response_value,e.add(i,{silent:!0,_parent:r});return void(l.operator&&e.meta.set("delimSelect",l.operator.toLowerCase()))}catch(t){return e.parseable=!1}}},i.sluggifyLabel=function(e,t){return null==t&&(t=[]),i.sluggify(e,{preventDuplicates:t,lowerCase:!1,preventDuplicateUnderscores:!0,stripSpaces:!0,lrstrip:!0,incrementorPadding:3,validXmlTag:!0})},i.isValidXmlTag=function(e){return 0===e.search(/^[a-zA-Z_:]([a-zA-Z0-9_:.])*$/)},i.sluggify=function(e,t){var r;if(null==t&&(t={}),""===e)return"";if((t=n.defaults(t,{lrstrip:!1,lstrip:!1,rstrip:!1,descriptor:"slug",lowerCase:!0,replaceNonWordCharacters:!0,nonWordCharsExceptions:!1,preventDuplicateUnderscores:!1,validXmlTag:!1,underscores:!0,characterLimit:30,preventDuplicates:!1,incrementorPadding:!1})).lrstrip&&(t.lstrip=!0,t.rstrip=!0),t.lstrip&&(e=e.replace(/^\s+/,"")),t.rstrip&&(e=e.replace(/\s+$/,"")),t.lowerCase&&(e=e.toLowerCase()),t.underscores&&(e=e.replace(/\s/g,"_").replace(/[_]+/g,"_")),t.replaceNonWordCharacters&&(r=t.nonWordCharsExceptions?RegExp("\\W^["+t.nonWordCharsExceptions+"]","g"):/\W+/g,(e=e.replace(r,"_")).match(/._$/)&&(e=e.replace(/_$/,""))),n.isNumber(t.characterLimit)&&(e=e.slice(0,t.characterLimit)),t.validXmlTag&&e[0].match(/^\d/)&&(e="_"+e),t.preventDuplicateUnderscores)for(;-1!==e.search(/__/);)e=e.replace(/__/,"_");return n.isArray(t.preventDuplicates)&&(e=function(){var r,o,a,n,s,i,c;if(i=function(){var e,r,o,a;for(a=[],e=0,r=(o=t.preventDuplicates).length;e<r;e++)(s=o[e])&&a.push(s.toLowerCase());return a}(),0===(o=e).length)throw new Error("Renaming Error: "+t.descriptor+" is empty");for(r=o,a=0;c=r.toLowerCase(),l.call(i,c)>=0;)n=""+ ++a,t.incrementorPadding&&a<Math.pow(10,t.incrementorPadding)&&(n=("000000000000"+a).slice(-1*t.incrementorPadding)),r=o+"_"+n;return r}()),e},i)},26:function(e,t,r){"use strict";var o=r(0),a=r.n(o),n=r(9),s=r.n(n),i=r(1),l=r(83),c=r.n(l);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function d(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?f(e):t}(this,r)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,a.a.Component);var t,r,o=_(n);function n(e){var t;return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).AVAILABLE_TYPES=["text-multiline","text","email","password","url"],t.DEFAULT_TYPE="text",s()(f(t)),t}return t=n,(r=[{key:"onChange",value:function(e){this.props.readOnly||this.props.onChange(e.currentTarget.value)}},{key:"onBlur",value:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e.currentTarget.value)}},{key:"onKeyPress",value:function(e){"function"==typeof this.props.onKeyPress&&this.props.onKeyPress(e.key,e)}},{key:"render",value:function(){var e=[];Array.isArray(this.props.customModifiers)&&"string"==typeof this.props.customModifiers[0]?e=this.props.customModifiers:"string"==typeof this.props.customModifiers&&e.push(this.props.customModifiers);var t=[];Array.isArray(this.props.errors)?t=this.props.errors:"string"==typeof this.props.errors&&this.props.errors.length>0&&t.push(this.props.errors),(t.length>0||!0===this.props.errors)&&e.push("error");var r=this.DEFAULT_TYPE;if(this.props.type&&-1!==this.AVAILABLE_TYPES.indexOf(this.props.type))r=this.props.type;else if(this.props.type)throw new Error("Unknown TextBox type: ".concat(this.props.type,"!"));var o={value:this.props.value,placeholder:this.props.placeholder,onChange:this.onChange,onBlur:this.onBlur,onKeyPress:this.onKeyPress,readOnly:this.props.readOnly,disabled:this.props.disabled};return a.a.createElement(i.a.TextBox,{m:e},this.props.label&&a.a.createElement(i.a.TextBox__label,null,this.props.label),"text-multiline"===this.props.type&&a.a.createElement(c.a,p({className:"text-box__input"},o)),"text-multiline"!==this.props.type&&a.a.createElement(i.a.TextBox__input,p({type:r},o)),this.props.description&&a.a.createElement(i.a.TextBox__description,null,this.props.description),t.length>0&&a.a.createElement(i.a.TextBox__error,null,t.join("\n")))}}])&&d(t.prototype,r),n}(),g=b;t.a=g,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"TextBox","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/common/textBox.es6"),__REACT_HOT_LOADER__.register(g,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/common/textBox.es6"))},3:function(e,t,r){"use strict";r.r(t),r.d(t,"LANGUAGE_COOKIE_NAME",function(){return f}),r.d(t,"assign",function(){return h}),r.d(t,"notify",function(){return g}),r.d(t,"formatTime",function(){return v}),r.d(t,"formatTimeDate",function(){return y}),r.d(t,"formatDate",function(){return w}),r.d(t,"getAnonymousUserPermission",function(){return k}),r.d(t,"surveyToValidJson",function(){return E}),r.d(t,"unnullifyTranslations",function(){return x}),r.d(t,"nullifyTranslations",function(){return S}),r.d(t,"redirectTo",function(){return T}),r.d(t,"getUsernameFromUrl",function(){return O}),r.d(t,"buildUserUrl",function(){return C}),r.d(t,"parsePermissions",function(){return A}),r.d(t,"log",function(){return j}),r.d(t,"replaceSupportEmail",function(){return P}),r.d(t,"currentLang",function(){return D}),r.d(t,"getLangAsObject",function(){return F}),r.d(t,"getLangString",function(){return M}),r.d(t,"newId",function(){return B}),r.d(t,"randString",function(){return I}),r.d(t,"stringToColor",function(){return U}),r.d(t,"isAValidUrl",function(){return V}),r.d(t,"checkLatLng",function(){return H}),r.d(t,"validFileTypes",function(){return z}),r.d(t,"koboMatrixParser",function(){return q}),r.d(t,"escapeHtml",function(){return Y}),r.d(t,"readParameters",function(){return G}),r.d(t,"writeParameters",function(){return $}),r.d(t,"renderCheckbox",function(){return Q}),r.d(t,"hasLongWords",function(){return W}),r.d(t,"hasVerticalScrollbar",function(){return K}),r.d(t,"getScrollbarWidth",function(){return J}),r.d(t,"toTitleCase",function(){return X}),r.d(t,"launchPrinting",function(){return Z});var o=r(57),a=r.n(o),n=r(10),s=r.n(n),i=r(14),l=r.n(i),c=r(149),u=r(2);function p(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,n=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw n}}}}function d(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f="django_language",h=r(48);l.a.defaults.notifier.delay=10,l.a.defaults.notifier.position="bottom-left",l.a.defaults.notifier.closeButton=!0;var b=new c.a;function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";l.a.notify(e,t)}function v(e){return s()(e).calendar(null,{sameElse:"LL"})}function y(e){return s()(e).format("LLL")}function w(e){return s()(e).format("ll")}function k(e){return e.filter(function(e){return void 0===e.user__username&&(e.user__username=e.user.match(/\/users\/(.*)\//)[1]),e.user__username===u.default.ANON_USERNAME})[0]}function E(e){return e.toFlatJSON(),JSON.stringify(e.toFlatJSON())}function x(e,t){var r=JSON.parse(e),o=[];t.translated&&(o=t.translated);var a=t.translations_0;return a||(a=null),r.settings[0].default_language||null===a||(r.settings[0].default_language=a),null!==a&&(r.choices&&r.choices.forEach(function(e){o.forEach(function(t){void 0!==e[t]&&(e["".concat(t,"::").concat(a)]=e[t],delete e[t])})}),r.survey&&r.survey.forEach(function(e){o.forEach(function(t){void 0!==e[t]&&(void 0===r.settings[0]||"string"!=typeof r.settings[0].style||!r.settings[0].style.includes("theme-grid")||"begin_group"!==e.type||null!==e[t]&&""!==e[t]||delete e[t],e["".concat(t,"::").concat(a)]=e[t],delete e[t])})})),JSON.stringify(r)}function S(e,t,r,o){var n={survey:a()(r),translations:a()(e)};if(void 0===e)return n.translations=[null],n;if(n.translations.length>1&&-1!==n.translations.indexOf(null))throw new Error('There is an unnamed translation in your form definition.\nPlease give a name to all translations in your form.\nUse "Manage Translations" option from form landing page.');if(o){var s=o._initialParams.translations_0||null;if(n.translations[0]===s);else if(n.translations.includes(s)){var i=n.translations.indexOf(s);n.translations.unshift(n.translations.pop(i)),n.survey.forEach(function(e){t.forEach(function(t){var r=e[t];r&&r.unshift(r.pop(i))})})}n.translations.includes(s)||(n.translations.unshift(s),n.survey.forEach(function(e){t.forEach(function(t){if(e[t]){var r=null;e.name?r=e.name:e.$autoname&&(r=e.$autoname),e[t].unshift(r)}})}))}return null!==n.translations[0]&&(n.translations_0=n.translations[0],n.translations[0]=null),n}function T(e){window.location.href=e}function O(e){return e.match(/\/users\/(.*)\//)[1]}function C(e){return e.startsWith(window.location.protocol)?(console.error("buildUserUrl() called with URL instead of username (incomplete v2 migration)"),e):"".concat(u.default.ROOT_URL,"/api/v2/users/").concat(e,"/")}function A(e,t){var r=[],o={};return t?(t.map(function(e){e.user__username=e.user.match(/\/users\/(.*)\//)[1];var t=e.permission.match(/\/permissions\/(.+)\//);return null!==t&&(console.error("parsePermissions(): converting new-style permission URL to codename (incomplete v2 migration)"),e.permission=t[1]),e}).filter(function(t){return t.user__username!==e&&t.user__username!==u.default.ANON_USERNAME}).forEach(function(e){-1===r.indexOf(e.user__username)&&(r.push(e.user__username),o[e.user__username]=[]),o[e.user__username].push(e)}),r.map(function(e){return{username:e,can:o[e].reduce(function(e,t){return e[t.permission.includes("_submissions")?t.permission:t.permission.split("_")[0]]=t,e},{})}})):[]}var R,j=((R=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.log.apply(console,t),t[0]}).profileSeconds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;console.profile(),window.setTimeout(function(){console.profileEnd()},1e3*e)},R);window.log=j;var L=[];function P(e){return"undefined"!=typeof supportDetails?e.replace("help@kobotoolbox.org",supportDetails.email):e}function D(){return b.get(f)||"en"}function F(e){var t=e.indexOf("("),r=e.indexOf(")"),o=e.substring(t+1,r),a=e.substring(0,t).trim();return o&&a&&a.length+o.length+3===e.length?{code:o,name:a}:void 0}function M(e){return"object"===_(e)&&e.name&&e.code?"".concat(e.name," (").concat(e.code,")"):void 0}j.t=function(){var e={};L.forEach(function(t){e[t]=t}),console.log(JSON.stringify(e,null,4))};var N=0,B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return N++,"".concat(e).concat(N)},I=function(){return Math.random().toString(36).match(/\.(\S{6}).*/)[1]};function U(e,t){return t="number"==typeof t?t:-15,function(e,t){var r=parseInt(e,16),o=Math.round(2.55*t),a=(r>>16)+o,n=(r>>8&255)+o,s=(255&r)+o;return(16777216+65536*(a<255?a<1?0:a:255)+256*(n<255?n<1?0:n:255)+(s<255?s<1?0:s:255)).toString(16).slice(1)}(function(e){return(e>>24&255).toString(16)+(e>>16&255).toString(16)+(e>>8&255).toString(16)+(255&e).toString(16)}(function(e){for(var t=0,r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);return t}(e)),t)}function V(e){try{return new URL(e),!0}catch(e){return!1}}function H(e){return!!(e&&e[0]&&e[1])}function z(){return[".xls",".xlsx","application/xls","application/vnd.ms-excel","application/octet-stream","application/vnd.openxmlformats","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",""].join(",")}function q(e){var t={};if(e.content&&(t=JSON.parse(e.content)),e.source&&(t=JSON.parse(e.source)),!t.survey)return e;for(var r=!1,o=t.survey.length,a=0;a<o;a++)"kobomatrix"===t.survey[a].type&&(t.survey[a].type="begin_kobomatrix",t.survey[a].appearance="field-list",o++,t.survey.splice(a+1,0,{type:"end_kobomatrix",$kuid:"/".concat(t.survey[a].$kuid)}));for(a=0;a<o;a++)if("begin_kobomatrix"===t.survey[a].type){r=!0;var n=localStorage.getItem("koboMatrix.".concat(t.survey[a].$kuid));if(null!=n){var s,i=p((n=JSON.parse(n)).cols);try{for(i.s();!(s=i.n()).done;){var l=s.value;a++,o++,t.survey.splice(a,0,n[l])}}catch(e){i.e(e)}finally{i.f()}for(var c=0,u=Object.keys(n.choices);c<u.length;c++){var d=u[c];t.choices.push(n.choices[d])}}}return r&&(e.content&&(e.content=JSON.stringify(t)),e.source&&(e.source=JSON.stringify(t))),e}function Y(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}function G(e){if("string"!=typeof e)return null;var t={},r=" ";e.includes(";")?r=";":e.includes(",")&&(r=",");var o=";, ".replace(r,"");return e.replace(new RegExp(" *= *","g"),"=").split(new RegExp("[".concat(o,"]*").concat(r,"[").concat(o,"]*"),"g")).forEach(function(e){if(e.includes("=")){var r=e.slice(0,e.indexOf("=")),o=e.slice(r.length+1);t[r]=o}}),Object.keys(t).length<1?null:t}function $(e){var t=[];return Object.keys(e).forEach(function(r){if(void 0!==e[r]&&null!==e[r]){var o=e[r];"object"===_(o)&&(o=JSON.stringify(o)),t.push("".concat(r,"=").concat(o))}}),t.join(";")}function Q(e,t,r){var o="";return r&&(o+="alertify-toggle-important"),'<div class="alertify-toggle checkbox '.concat(o,'"><label class="checkbox__wrapper"><input type="checkbox" class="checkbox__input" id="').concat(e,'"><span class="checkbox__label">').concat(t,"</span></label></div>")}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,r=e.split(" ");return Math.max.apply(Math,function(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.map(function(e){return e.length})))>=t}function K(e){return e.scrollHeight>e.offsetHeight}function J(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var r=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),r}function X(e){return e.replace(/(^|\s)\S/g,function(e){return e.toUpperCase()})}function Z(){window.print()}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"LANGUAGE_COOKIE_NAME","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(b,"cookies","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(g,"notify","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(v,"formatTime","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(y,"formatTimeDate","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(w,"formatDate","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(k,"getAnonymousUserPermission","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(E,"surveyToValidJson","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(x,"unnullifyTranslations","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(S,"nullifyTranslations","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(T,"redirectTo","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(O,"getUsernameFromUrl","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(C,"buildUserUrl","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(A,"parsePermissions","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(j,"log","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(L,"__strings","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register("help@kobotoolbox.org","originalSupportEmail","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(P,"replaceSupportEmail","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(D,"currentLang","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(F,"getLangAsObject","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(M,"getLangString","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(N,"lastId","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(B,"newId","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(I,"randString","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(U,"stringToColor","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(V,"isAValidUrl","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(H,"checkLatLng","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(z,"validFileTypes","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(q,"koboMatrixParser","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(Y,"escapeHtml","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(G,"readParameters","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register($,"writeParameters","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(Q,"renderCheckbox","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(W,"hasLongWords","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(K,"hasVerticalScrollbar","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(J,"getScrollbarWidth","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(X,"toTitleCase","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"),__REACT_HOT_LOADER__.register(Z,"launchPrinting","/home/sujit/projects/ndrrma/survey/source/jsapp/js/utils.es6"))},303:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return v});var o=r(0),a=r.n(o),n=r(11),s=r.n(n),i=r(7),l=r.n(i),c=r(9),u=r.n(c),p=r(15),d=r(5);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?b(e):t}(this,r)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=!1,y=Object.freeze({action_color:"#2095f3",background_color:"#575b70"}),w=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,t);var r,o,a=h(n);function n(e){var t;return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e),u()(b(t)),t.currentSettings=Object.assign({},y),t.updateHorizontalPaddingDebounced=p.default.debounce(t.updateHorizontalPadding,500),t}return r=n,(o=[{key:"componentDidMount",value:function(){window.IntercomAppId?(this.listenTo(d.a.navigation.routeUpdate,this.onRouteUpdate),this.listenTo(d.a.auth.verifyLogin.loggedin,this.onLogIn),this.listenTo(d.a.auth.logout.completed,this.onLogOut)):console.info("Intercom not enabled")}},{key:"componentWillUnmount",value:function(){v&&window.removeEventListener("resize",this.updateHorizontalPaddingDebounced)}},{key:"onRouteUpdate",value:function(){window.Intercom("update")}},{key:"onLogIn",value:function(e){this.isEmailValid(e.email)?(console.info("Intercom enabled and starting…"),this.injectIntercomScripts(),this.bootIntercom(e),v&&(this.currentSettings.custom_launcher_selector="#custom_intercom_launcher",this.currentSettings.hide_default_launcher=!0,this.currentSettings.alignment="left",window.Intercom("update",this.currentSettings),window.addEventListener("resize",this.updateHorizontalPaddingDebounced),this.updateHorizontalPadding())):window.Intercom("shutdown")}},{key:"bootIntercom",value:function(e){var t=e.extra_details.name,r=[e.first_name,e.last_name].filter(function(e){return e}).join(" ");this.currentSettings.app_id=window.IntercomAppId,this.currentSettings.user_id=[e.username,window.location.host].join("@"),this.currentSettings.username=e.username,this.currentSettings.email=e.email,this.currentSettings.name=t||r||e.username,this.currentSettings.created_at=Math.floor(new Date(e.date_joined).getTime()/1e3),window.Intercom("boot",this.currentSettings)}},{key:"onLogOut",value:function(){window.Intercom("shutdown")}},{key:"updateHorizontalPadding",value:function(){var t=e(y.custom_launcher_selector);if(window.Intercom&&t.length){var r=t[0].getBoundingClientRect().left+t.width()+e(window).scrollLeft()-1;this.currentSettings.horizontal_padding=r,window.Intercom("update",this.currentSettings)}}},{key:"injectIntercomScripts",value:function(){var e=window,t=e.Intercom;if("function"==typeof t)t("reattach_activator"),t("update",this.settings);else{var r=function(){var e=o.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/".concat(window.IntercomAppId);var t=o.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},o=document,a=function e(){e.c(arguments)};a.q=[],a.c=function(e){a.q.push(e)},e.Intercom=a,e.attachEvent?e.attachEvent("onload",r):e.addEventListener("load",r,!1)}}},{key:"isEmailValid",value:function(e){return!v||e.endsWith("example.com")}},{key:"render",value:function(){return null}}])&&_(r.prototype,o),n}(a.a.Component);s()(w.prototype,l.a.ListenerMixin);var k=w;t.b=k,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(v,"USE_CUSTOM_INTERCOM_LAUNCHER","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/intercomHandler.es6"),__REACT_HOT_LOADER__.register(y,"DEFAULT_SETTINGS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/intercomHandler.es6"),__REACT_HOT_LOADER__.register(w,"IntercomHandler","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/intercomHandler.es6"),__REACT_HOT_LOADER__.register(k,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/intercomHandler.es6"))}).call(this,r(19))},304:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(7),i=o.n(s),l=o(9),c=o.n(l),u=o(13),p=o(4),d=o.n(p),m=o(11),_=o.n(m),f=o(461),h=o.n(f),b=o(18),g=o(1),v=o(5),y=o(12),w=o(2),k=o(17),E=o(113);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=A(e);if(t){var a=A(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?C(e):t}(this,r)}}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=k.a.clickAssets.click.asset,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(s,n.a.Component);var r,o,a=O(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={ownedCollections:E.a.data.collections,shouldHidePopover:!1,isPopoverVisible:!1,isSubscribePending:!1},t.unlisteners=[],t.hidePopoverDebounced=h.a.debounce(function(){t.state.isPopoverVisible&&t.setState({shouldHidePopover:!0})},500),c()(C(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(E.a,this.onOwnedCollectionsStoreChanged),this.unlisteners.push(v.a.library.subscribeToCollection.completed.listen(this.onSubscribingCompleted),v.a.library.unsubscribeFromCollection.completed.listen(this.onSubscribingCompleted))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"onSubscribingCompleted",value:function(){this.setState({isSubscribePending:!1})}},{key:"onOwnedCollectionsStoreChanged",value:function(e){this.setState({ownedCollections:e.collections})}},{key:"onMouseLeave",value:function(){this.hidePopoverDebounced()}},{key:"onMouseEnter",value:function(){this.hidePopoverDebounced.cancel()}},{key:"onPopoverSetVisible",value:function(){this.setState({isPopoverVisible:!0})}},{key:"modifyDetails",value:function(){y.b.modifyDetails(this.props.asset)}},{key:"editLanguages",value:function(){y.b.editLanguages(this.props.asset)}},{key:"share",value:function(){y.b.share(this.props.asset)}},{key:"showTagsModal",value:function(){y.b.editTags(this.props.asset)}},{key:"replace",value:function(){y.b.replaceForm(this.props.asset)}},{key:"delete",value:function(){R.delete(this.props.asset,y.b.getAssetDisplayName(this.props.asset).final,this.onDeleteComplete.bind(this,this.props.asset.uid))}},{key:"onDeleteComplete",value:function(e){this.isLibrarySingle()&&this.currentAssetID()===e&&u.f.push(w.ROUTES.LIBRARY),this.isFormSingle()&&this.currentAssetID()===e&&u.f.push(w.ROUTES.FORMS)}},{key:"deploy",value:function(){k.a.dmix.deployAsset(this.props.asset)}},{key:"archive",value:function(){R.archive(this.props.asset)}},{key:"unarchive",value:function(){R.unarchive(this.props.asset)}},{key:"clone",value:function(){R.clone(this.props.asset)}},{key:"cloneAsSurvey",value:function(){R.cloneAsSurvey(this.props.asset.uid,y.b.getAssetDisplayName(this.props.asset).final)}},{key:"cloneAsTemplate",value:function(){R.cloneAsTemplate(this.props.asset.uid,y.b.getAssetDisplayName(this.props.asset).final)}},{key:"moveToCollection",value:function(e){v.a.library.moveToCollection(this.props.asset.uid,e)}},{key:"subscribeToCollection",value:function(){this.setState({isSubscribePending:!0}),v.a.library.subscribeToCollection(this.props.asset.url)}},{key:"unsubscribeFromCollection",value:function(){this.setState({isSubscribePending:!0}),v.a.library.unsubscribeFromCollection(this.props.asset.uid)}},{key:"viewContainingCollection",value:function(){var e=this.props.asset.parent.split("/"),t=e[e.length-2];u.f.push("/library/asset/".concat(t)),u.f.push(w.ROUTES.LIBRARY_ITEM.replace(":uid",t))}},{key:"getFormBuilderLink",value:function(){var e="#"+w.ROUTES.EDIT_LIBRARY_ITEM.replace(":uid",this.props.asset.uid),t=this.currentAssetID();if(this.props.asset.asset_type!==w.ASSET_TYPES.collection.id&&null!==this.props.asset.parent&&this.props.asset.parent.includes(t)){var r=w.ROUTES.LIBRARY_ITEM.replace(":uid",t);e+="?back=".concat(r)}return e}},{key:"renderMoreActions",value:function(){var e=this,r=this.props.asset.asset_type,o=[];r!==w.ASSET_TYPES.collection.id&&(o=this.props.asset.downloads);var a=this.userCan("change_asset",this.props.asset),s=r===w.ASSET_TYPES.survey.id&&null===this.props.asset.deployed_version_id;return a||0!==o.length?n.a.createElement(b.a.PopoverMenu,{triggerLabel:n.a.createElement("i",{className:"k-icon k-icon-more"}),triggerTip:t("More Actions"),triggerClassName:"right-tooltip",clearPopover:this.state.shouldHidePopover,popoverSetVisible:this.onPopoverSetVisible},a&&s&&n.a.createElement(g.a.PopoverMenu__link,{onClick:this.deploy},n.a.createElement("i",{className:"k-icon k-icon-deploy"}),t("Deploy")),a&&r===w.ASSET_TYPES.survey.id&&n.a.createElement(g.a.PopoverMenu__link,{onClick:this.replace},n.a.createElement("i",{className:"k-icon k-icon-replace"}),t("Replace form")),a&&r!==w.ASSET_TYPES.collection.id&&n.a.createElement(g.a.PopoverMenu__link,{onClick:this.editLanguages},n.a.createElement("i",{className:"k-icon k-icon-language"}),t("Manage Translations")),a&&r===w.ASSET_TYPES.survey.id&&n.a.createElement(g.a.PopoverMenu__link,{onClick:this.cloneAsTemplate},n.a.createElement("i",{className:"k-icon k-icon-template-new"}),t("Create template")),o.map(function(e){return n.a.createElement(g.a.PopoverMenu__link,{href:e.url,key:"dl-".concat(e.format)},n.a.createElement("i",{className:"k-icon k-icon-".concat(e.format,"-file")}),t("Download")," ",e.format.toString().toUpperCase())}),a&&r!==w.ASSET_TYPES.survey.id&&r!==w.ASSET_TYPES.collection.id&&null!==this.props.asset.parent&&n.a.createElement(g.a.PopoverMenu__link,{onClick:this.moveToCollection.bind(this,null)},n.a.createElement("i",{className:"k-icon k-icon-folder-out"}),t("Remove from collection")),a&&r!==w.ASSET_TYPES.survey.id&&r!==w.ASSET_TYPES.collection.id&&this.state.ownedCollections.length>0&&[n.a.createElement(g.a.PopoverMenu__heading,{key:"heading"},t("Move to")),n.a.createElement(g.a.PopoverMenu__moveTo,{key:"list"},this.state.ownedCollections.map(function(t){var r=["move-coll-item"],o=t.url===e.props.asset.parent;o&&r.push("move-coll-item-parent");var a=y.b.getAssetDisplayName(t).final;return n.a.createElement(g.a.PopoverMenu__item,{onClick:e.moveToCollection.bind(e,t.url),key:t.uid,title:a,m:r},o&&n.a.createElement("i",{className:"k-icon k-icon-check"}),!o&&n.a.createElement("i",{className:"k-icon k-icon-folder-in"}),a)}))],a&&r===w.ASSET_TYPES.survey.id&&this.props.has_deployment&&!this.props.deployment__active&&n.a.createElement(g.a.PopoverMenu__link,{onClick:this.unarchive},n.a.createElement("i",{className:"k-icon k-icon-archived"}),t("Unarchive")),a&&r===w.ASSET_TYPES.survey.id&&this.props.has_deployment&&this.props.deployment__active&&n.a.createElement(g.a.PopoverMenu__link,{onClick:this.archive},n.a.createElement("i",{className:"k-icon k-icon-archived"}),t("Archive")),a&&n.a.createElement(g.a.PopoverMenu__link,{onClick:this.delete},n.a.createElement("i",{className:"k-icon k-icon-trash"}),t("Delete"))):null}},{key:"renderSubButton",value:function(){var e=y.b.isSelfOwned(this.props.asset),r=y.b.isAssetPublic(this.props.asset.permissions),o=this.props.asset.access_types&&this.props.asset.access_types.includes(w.ACCESS_TYPES.subscribed);if(!e&&r&&this.props.asset.asset_type===w.ASSET_TYPES.collection.id){var a=o?["off"]:["on"],s=o?this.unsubscribeFromCollection.bind(this):this.subscribeToCollection.bind(this);this.state.isSubscribePending&&a.push("pending");var i=null,l=t("Pending…");return this.state.isSubscribePending||(o?(i=n.a.createElement("i",{className:"k-icon k-icon-close"}),l=t("Unsubscribe")):(i=n.a.createElement("i",{className:"k-icon k-icon-subscribe"}),l=t("Subscribe"))),n.a.createElement(g.a.AssetActionButtons__button,{m:a,onClick:s,disabled:this.state.isSubscribePending},i,l)}return null}},{key:"render",value:function(){if(!this.props.asset)return null;var e=this.props.asset.asset_type,r=this.userCan("change_asset",this.props.asset),o=e===w.ASSET_TYPES.template.id||e===w.ASSET_TYPES.collection.id;return n.a.createElement(g.a.AssetActionButtons,{onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},this.renderSubButton(),r&&e!==w.ASSET_TYPES.collection.id&&n.a.createElement(g.a.AssetActionButtons__iconButton,{href:this.getFormBuilderLink(),"data-tip":t("Edit in Form Builder"),className:"right-tooltip"},n.a.createElement("i",{className:"k-icon k-icon-edit"})),r&&o&&n.a.createElement(g.a.AssetActionButtons__iconButton,{onClick:this.modifyDetails,"data-tip":t("Modify details"),className:"right-tooltip"},n.a.createElement("i",{className:"k-icon k-icon-settings"})),r&&n.a.createElement(g.a.AssetActionButtons__iconButton,{onClick:this.showTagsModal,"data-tip":t("Edit Tags"),className:"right-tooltip"},n.a.createElement("i",{className:"k-icon k-icon-tag"})),r&&n.a.createElement(g.a.AssetActionButtons__iconButton,{onClick:this.share,"data-tip":t("Share"),className:"right-tooltip"},n.a.createElement("i",{className:"k-icon k-icon-user-share"})),e!==w.ASSET_TYPES.collection.id&&n.a.createElement(g.a.AssetActionButtons__iconButton,{onClick:this.clone,"data-tip":t("Clone"),className:"right-tooltip"},n.a.createElement("i",{className:"k-icon k-icon-clone"})),r&&e===w.ASSET_TYPES.template.id&&n.a.createElement(g.a.AssetActionButtons__iconButton,{onClick:this.cloneAsSurvey,"data-tip":t("Create project"),className:"right-tooltip"},n.a.createElement("i",{className:"k-icon k-icon-projects"})),null!==this.props.asset.parent&&!this.props.asset.parent.includes(this.currentAssetID())&&n.a.createElement(g.a.AssetActionButtons__iconButton,{onClick:this.viewContainingCollection,"data-tip":t("View containing Collection"),className:"right-tooltip"},n.a.createElement("i",{className:"k-icon k-icon-folder"})),this.renderMoreActions())}}])&&S(r.prototype,o),s}();_()(j.prototype,k.a.contextRouter),_()(j.prototype,k.a.permissions),_()(j.prototype,i.a.ListenerMixin),j.contextTypes={router:d.a.object};var L=j;r.a=L,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(R,"assetActions","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetActionButtons.es6"),__REACT_HOT_LOADER__.register(j,"AssetActionButtons","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetActionButtons.es6"),__REACT_HOT_LOADER__.register(L,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetActionButtons.es6"))},305:function(e,r,o){"use strict";var a=o(8),n=o(3),s={enketoUrls:new Map,winTab:null,_getUrlId:function(e,t){return"".concat(e,"…").concat(t)},_hasEnketoUrl:function(e,t){return this.enketoUrls.has(this._getUrlId(e,t))},_openEnketoUrl:function(e,t){this.winTab.location.href=this.enketoUrls.get(this._getUrlId(e,t))},_saveEnketoUrl:function(e,t,r){var o=this._getUrlId(e,t);this.enketoUrls.set(o,r),setTimeout(this._removeEnketoUrl.bind(this,e,t),3e4)},_removeEnketoUrl:function(e,t){this.enketoUrls.delete(this._getUrlId(e,t))},editSubmission:function(e,r){var o=this;return this.winTab=window.open("","_blank"),new Promise(function(s,i){o._hasEnketoUrl(e,r)?(o._openEnketoUrl(e,r),s()):a.a.getEnketoEditLink(e,r).done(function(a){if(a.url)o._saveEnketoUrl(e,r,a.url),o._openEnketoUrl(e,r),s();else{var l=t("There was an error loading Enketo.");a.detail&&(l+="<br><code>".concat(a.detail,"</code>")),Object(n.notify)(l,"error"),i()}}).fail(function(){Object(n.notify)(t("There was an error getting Enketo edit link"),"error"),i()})}).catch(function(){o.winTab.close()})}},i=s;r.a=i,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"enketoHandler","/home/sujit/projects/ndrrma/survey/source/jsapp/js/enketoHandler.es6"),__REACT_HOT_LOADER__.register(i,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/enketoHandler.es6"))},307:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(9),i=o.n(s),l=o(476),c=o.n(l),u=o(1);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?f(e):t}(this,r)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,n.a.Component);var r,o,a=_(s);function s(e){var r;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),r=a.call(this,e),i()(f(r)),r.feedbackTranslations={"Use a few words, avoid common phrases":t("Use a few words, avoid common phrases"),"No need for symbols, digits, or uppercase letters":t("No need for symbols, digits, or uppercase letters"),"Add another word or two. Uncommon words are better.":t("Add another word or two. Uncommon words are better."),"Straight rows of keys are easy to guess":t("Straight rows of keys are easy to guess"),"Short keyboard patterns are easy to guess":t("Short keyboard patterns are easy to guess"),"Use a longer keyboard pattern with more turns":t("Use a longer keyboard pattern with more turns"),'Repeats like "aaa" are easy to guess':t('Repeats like "aaa" are easy to guess'),'Repeats like "abcabcabc" are only slightly harder to guess than "abc"':t('Repeats like "abcabcabc" are only slightly harder to guess than "abc"'),"Avoid repeated words and characters":t("Avoid repeated words and characters"),"Sequences like abc or 6543 are easy to guess":t("Sequences like abc or 6543 are easy to guess"),"Avoid sequences":t("Avoid sequences"),"Recent years are easy to guess":t("Recent years are easy to guess"),"Avoid recent years":t("Avoid recent years"),"Avoid years that are associated with you":t("Avoid years that are associated with you"),"Dates are often easy to guess":t("Dates are often easy to guess"),"Avoid dates and years that are associated with you":t("Avoid dates and years that are associated with you"),"This is a top-10 common password":t("This is a top-10 common password"),"This is a top-100 common password":t("This is a top-100 common password"),"This is a very common password":t("This is a very common password"),"This is similar to a commonly used password":t("This is similar to a commonly used password"),"A word by itself is easy to guess":t("A word by itself is easy to guess"),"Names and surnames by themselves are easy to guess":t("Names and surnames by themselves are easy to guess"),"Common names and surnames are easy to guess":t("Common names and surnames are easy to guess"),"Capitalization doesn't help very much":t("Capitalization doesn't help very much"),"All-uppercase is almost as easy to guess as all-lowercase":t("All-uppercase is almost as easy to guess as all-lowercase"),"Reversed words aren't much harder to guess":t("Reversed words aren't much harder to guess"),"Predictable substitutions like '@' instead of 'a' don't help very much":t("Predictable substitutions like '@' instead of 'a' don't help very much")},r}return r=s,(o=[{key:"render",value:function(){var e=this,r=c()(this.props.password),o="score-".concat(r.score);return n.a.createElement(u.a.PasswordStrength,null,n.a.createElement(u.a.PasswordStrength__title,null,t("Password strength")),n.a.createElement(u.a.PasswordStrength__bar,{m:o},n.a.createElement(u.a.PasswordStrength__indicator,null)),(r.feedback.warning||r.feedback.suggestions.length>0)&&n.a.createElement(u.a.PasswordStrength__messages,null,r.feedback.warning&&n.a.createElement(u.a.PasswordStrength__message,{m:"warning"},this.feedbackTranslations[r.feedback.warning]),r.feedback.suggestions.length>0&&r.feedback.suggestions.map(function(t,r){return n.a.createElement(u.a.PasswordStrength__message,{key:r},e.feedbackTranslations[t])})))}}])&&d(r.prototype,o),s}(),g=b;r.a=g,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"PasswordStrength","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/passwordStrength.es6"),__REACT_HOT_LOADER__.register(g,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/passwordStrength.es6"))},309:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(17),f=o(6),h=o(5),b=o(1),g=o(3),v=o(2),y=o(23),w=o.n(y),k=o(27),E=o(14),x=o.n(E);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=R(e);if(t){var a=R(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?A(e):t}(this,r)}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(s,n.a.Component);var r,o,a=C(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={isAwaitingAssetChange:!1,isCopyFormVisible:!1,sourceUid:null,sourceName:null,targetUid:t.props.uid,targetName:f.a.allAssets.byUid[t.props.uid].name},p()(A(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(f.a.asset,this.onAssetChange),this.listenTo(h.a.permissions.copyPermissionsFrom.completed,this.onPermissionsCopied)}},{key:"onPermissionsCopied",value:function(){Object(g.notify)(t("permissions were copied successfully"))}},{key:"onAssetChange",value:function(e){e[this.state.targetUid]&&this.state.isAwaitingAssetChange&&this.setState({isAwaitingAssetChange:!1,isCopyFormVisible:!1})}},{key:"toggleCopyForm",value:function(){this.setState({isCopyFormVisible:!this.state.isCopyFormVisible})}},{key:"getSelectedProjectOption",value:function(){return!!this.state.sourceUid&&{value:this.state.sourceUid,label:this.state.sourceName}}},{key:"onSelectedProjectChange",value:function(e){null!==e&&this.setState({sourceUid:e.value,sourceName:f.a.allAssets.byUid[e.value].name})}},{key:"safeCopyPermissionsFrom",value:function(){var e=this;if(this.state.sourceUid){var r=x.a.dialog("confirm"),o=t("You are about to copy permissions from ##source to ##target. This action cannot be undone.").replace("##source","<strong>".concat(this.state.sourceName,"</strong>")).replace("##target","<strong>".concat(this.state.targetName,"</strong>")),a={title:t("Are you sure you want to copy permissions?"),message:o,labels:{ok:t("Proceed"),cancel:t("Cancel")},onok:function(){e.setState({isAwaitingAssetChange:!0}),h.a.permissions.copyPermissionsFrom(e.state.sourceUid,e.state.targetUid)},oncancel:function(){r.destroy()}};r.set(a).show()}}},{key:"render",value:function(){var e=null!==this.state.sourceUid&&!this.state.isAwaitingAssetChange,r=[];for(var o in f.a.allAssets.byUid)f.a.allAssets.byUid.hasOwnProperty(o)&&o!==this.state.targetUid&&r.push({value:o,label:f.a.allAssets.byUid[o].name||t("Unlabelled")});var a=w()("copy-team-permissions",this.state.isCopyFormVisible?"copy-team-permissions--opened":"");return n.a.createElement(b.a.FormModal__item,{className:a},n.a.createElement(b.a.Button,{m:"copy-team-permissions-opener",onClick:this.toggleCopyForm},t("Copy team from another project"),n.a.createElement("i",{className:"k-icon k-icon-next"})),this.state.isCopyFormVisible&&n.a.createElement(b.a.FormView__cell,null,n.a.createElement(b.a.FormModal__item,null,t("This will overwrite any existing sharing settings defined in this project.")),n.a.createElement(b.a.FormModal__item,{m:["gray-row","flexed-row","copy-team-permissions"]},n.a.createElement(k.a,{id:"teamPermissions",ref:"sourceUid",value:this.getSelectedProjectOption(),isClearable:!1,placeholder:t("Select source project…"),options:r,onChange:this.onSelectedProjectChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}),n.a.createElement(b.a.KoboButton,{id:"copyTeamPermissionsImportButton",m:"blue",disabled:!e,onClick:this.safeCopyPermissionsFrom},t("copy")))))}}])&&T(r.prototype,o),s}();c()(j.prototype,m.a.ListenerMixin);var L=j,P=L,D=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(j,"CopyTeamPermissions","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/copyTeamPermissions.es6"),__REACT_HOT_LOADER__.register(L,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/copyTeamPermissions.es6")),o(22)),F=o(26),M=o(42),N=o(20);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=z(e);if(t){var a=z(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?H(e):t}(this,r)}}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=t("Enter usernames separated by commas"),Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(s,n.a.Component);var r,o,a=V(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e),p()(H(t)),t.state={usernamesBeingChecked:new Set,isSubmitPending:!1,isEditingUsername:!1,username:"",formView:!1,formViewDisabled:!1,formEditDisabled:!1,formEdit:!1,submissionsView:!1,submissionsViewDisabled:!1,submissionsViewPartial:!1,submissionsViewPartialDisabled:!1,submissionsViewPartialUsers:[],submissionsAdd:!1,submissionsAddDisabled:!1,submissionsEdit:!1,submissionsEditDisabled:!1,submissionsDelete:!1,submissionsDeleteDisabled:!1,submissionsValidate:!1,submissionsValidateDisabled:!1},t.applyPropsData(),t}return r=s,(o=[{key:"applyPropsData",value:function(){if(this.props.permissions){var e=M.a.buildFormData(this.props.permissions);this.state=this.applyValidityRules(Object(g.assign)(this.state,e))}this.props.username&&(this.state.username=this.props.username)}},{key:"componentDidMount",value:function(){this.listenTo(h.a.permissions.bulkSetAssetPermissions.completed,this.onBulkSetAssetPermissionCompleted),this.listenTo(h.a.permissions.bulkSetAssetPermissions.failed,this.onBulkSetAssetPermissionFailed),this.listenTo(f.a.userExists,this.onUserExistsStoreChange)}},{key:"onBulkSetAssetPermissionCompleted",value:function(){this.setState({isSubmitPending:!1}),this.notifyParentAboutSubmitEnd(!0)}},{key:"onBulkSetAssetPermissionFailed",value:function(){this.setState({isSubmitPending:!1}),this.notifyParentAboutSubmitEnd(!1)}},{key:"notifyParentAboutSubmitEnd",value:function(e){this.state.isSubmitPending||"function"!=typeof this.props.onSubmitEnd||this.props.onSubmitEnd(e)}},{key:"onCheckboxChange",value:function(e,t){var r=this.state;r[e]=t,!1===r.submissionsView&&(r.submissionsViewPartial=!1,r.submissionsViewPartialUsers=[]),this.setState(this.applyValidityRules(r))}},{key:"applyValidityRules",value:function(e){return e.formViewDisabled=!1,e.formEditDisabled=!1,e.submissionsViewDisabled=!1,e.submissionsViewPartialDisabled=!1,e.submissionsAddDisabled=!1,e.submissionsDeleteDisabled=!1,e.submissionsEditDisabled=!1,e.submissionsValidateDisabled=!1,(e.formEdit||e.submissionsView||e.submissionsViewPartial||e.submissionsAdd||e.submissionsEdit||e.submissionsValidate)&&(e.formView=!0,e.formViewDisabled=!0),(e.submissionsDelete||e.submissionsEdit||e.submissionsValidate)&&(e.submissionsView=!0,e.submissionsViewDisabled=!0),e.submissionsViewPartial&&(e.submissionsDelete=!1,e.submissionsDeleteDisabled=!0,e.submissionsEdit=!1,e.submissionsEditDisabled=!0,e.submissionsValidate=!1,e.submissionsValidateDisabled=!0),(e.submissionsDelete||e.submissionsEdit||e.submissionsValidate)&&(e.submissionsViewPartial=!1,e.submissionsViewPartialDisabled=!0,e.submissionsViewPartialUsers=[]),e.formManage&&(e.formView=!0,e.formEdit=!0,e.submissionsAdd=!0,e.submissionsView=!0,e.submissionsDelete=!0,e.submissionsEdit=!0,e.submissionsValidate=!0,e.formViewDisabled=!0,e.formEditDisabled=!0,e.submissionsViewDisabled=!0,e.submissionsViewPartialDisabled=!0,e.submissionsAddDisabled=!0,e.submissionsDeleteDisabled=!0,e.submissionsEditDisabled=!0,e.submissionsValidateDisabled=!0),e}},{key:"onUsernameChange",value:function(e){this.setState({username:e,isEditingUsername:!0})}},{key:"onUsernameChangeEnd",value:function(){if(this.setState({isEditingUsername:!1}),""!==this.state.username){var e=this.checkUsernameSync(this.state.username);void 0===e?this.checkUsernameAsync(this.state.username):!1===e&&(this.notifyUnknownUser(this.state.username),this.setState({username:""}))}}},{key:"onInputKeyPress",value:function(e,t){e===v.KEY_CODES.ENTER&&(t.currentTarget.blur(),t.preventDefault())}},{key:"onSubmissionsViewPartialUsersChange",value:function(e){this.setState({submissionsViewPartialUsers:e.trim().split(",")})}},{key:"checkUsernameSync",value:function(e){return f.a.userExists.checkUsername(e)}},{key:"checkUsernameAsync",value:function(e){var t=this.state.usernamesBeingChecked;t.add(e),this.setState({usernamesBeingChecked:t}),h.a.misc.checkUsername(e)}},{key:"notifyUnknownUser",value:function(e){navigator.onLine&&Object(g.notify)("".concat(t("User not found:")," ").concat(e),"warning")}},{key:"onUserExistsStoreChange",value:function(e){var t=this,r=this.state.submissionsViewPartialUsers;r.forEach(function(o){!1===e[o]&&(r.pop(r.indexOf(o)),t.notifyUnknownUser(o))}),this.setState({submissionsViewPartialUsers:r}),!1===e[this.state.username]&&(this.notifyUnknownUser(this.state.username),this.setState({username:""})),Object.keys(e).forEach(function(e){var r=t.state.usernamesBeingChecked;r.delete(e),t.setState({usernamesBeingChecked:r})})}},{key:"getLabel",value:function(e){return this.props.assignablePerms.get(N.a.getPermissionByCodename(v.PERMISSIONS_CODENAMES[e]).url)}},{key:"isAssignable",value:function(e){return this.props.assignablePerms.has(N.a.getPermissionByCodename(v.PERMISSIONS_CODENAMES[e]).url)}},{key:"isSubmitEnabled",value:function(){var e=this.state.formView||this.state.formEdit||this.state.submissionsView||this.state.submissionsViewPartial||this.state.submissionsAdd||this.state.submissionsDelete||this.state.submissionsEdit||this.state.submissionsValidate,t=!this.state.submissionsViewPartial||0!==this.state.submissionsViewPartialUsers.length;return e&&t&&!this.state.isSubmitPending&&!this.state.isEditingUsername&&this.state.username.length>0&&0===this.state.usernamesBeingChecked.size&&this.state.username!==v.ANON_USERNAME}},{key:"getFormData",value:function(){var e={username:this.state.username};return this.isAssignable("view_asset")&&(e.formView=this.state.formView),this.isAssignable("change_asset")&&(e.formEdit=this.state.formEdit),this.isAssignable("manage_asset")&&(e.formManage=this.state.formManage),this.isAssignable("add_submissions")&&(e.submissionsAdd=this.state.submissionsAdd),this.isAssignable("view_submissions")&&(e.submissionsView=this.state.submissionsView),this.isAssignable("partial_submissions")&&(e.submissionsViewPartial=this.state.submissionsViewPartial,e.submissionsViewPartialUsers=this.state.submissionsViewPartialUsers),this.isAssignable("change_submissions")&&(e.submissionsEdit=this.state.submissionsEdit),this.isAssignable("delete_submissions")&&(e.submissionsDelete=this.state.submissionsDelete),this.isAssignable("validate_submissions")&&(e.submissionsValidate=this.state.submissionsValidate),e}},{key:"submit",value:function(e){if(e.preventDefault(),this.isSubmitEnabled()){var t=this.getFormData(),r=M.a.parseFormData(t);if(r.length>0){var o=this.props.nonOwnerPerms.filter(function(e){return e.user!==Object(g.buildUserUrl)(t.username)});this.setState({isSubmitPending:!0}),h.a.permissions.bulkSetAssetPermissions(this.props.uid,o.concat(r))}else this.notifyParentAboutSubmitEnd(!0);return!1}}},{key:"render",value:function(){var e=void 0===this.props.username,r=[];return this.state.isSubmitPending&&r.push("pending"),n.a.createElement(b.a.FormModal__form,{m:r,className:"user-permissions-editor",onSubmit:this.submit},e&&n.a.createElement("div",{className:"user-permissions-editor__row user-permissions-editor__row--username"},n.a.createElement(F.a,{placeholder:t("username"),value:this.state.username,onChange:this.onUsernameChange,onBlur:this.onUsernameChangeEnd,onKeyPress:this.onInputKeyPress,errors:0===this.state.username.length})),n.a.createElement("div",{className:"user-permissions-editor__row"},this.isAssignable("view_asset")&&n.a.createElement(D.a,{checked:this.state.formView,disabled:this.state.formViewDisabled,onChange:this.onCheckboxChange.bind(this,"formView"),label:this.getLabel("view_asset")}),this.isAssignable("change_asset")&&n.a.createElement(D.a,{checked:this.state.formEdit,disabled:this.state.formEditDisabled,onChange:this.onCheckboxChange.bind(this,"formEdit"),label:this.getLabel("change_asset")}),this.isAssignable("view_submissions")&&n.a.createElement(D.a,{checked:this.state.submissionsView,disabled:this.state.submissionsViewDisabled,onChange:this.onCheckboxChange.bind(this,"submissionsView"),label:this.getLabel("view_submissions")}),this.isAssignable("partial_submissions")&&!0===this.state.submissionsView&&n.a.createElement("div",{className:"user-permissions-editor__sub-row"},n.a.createElement(D.a,{checked:this.state.submissionsViewPartial,disabled:this.state.submissionsViewPartialDisabled,onChange:this.onCheckboxChange.bind(this,"submissionsViewPartial"),label:this.getLabel("partial_submissions")}),!0===this.state.submissionsViewPartial&&n.a.createElement(F.a,{placeholder:q,value:this.state.submissionsViewPartialUsers.join(","),onChange:this.onSubmissionsViewPartialUsersChange,errors:this.state.submissionsViewPartial&&0===this.state.submissionsViewPartialUsers.length,onKeyPress:this.onInputKeyPress})),this.isAssignable("add_submissions")&&n.a.createElement(D.a,{checked:this.state.submissionsAdd,disabled:this.state.submissionsAddDisabled,onChange:this.onCheckboxChange.bind(this,"submissionsAdd"),label:this.getLabel("add_submissions")}),this.isAssignable("change_submissions")&&n.a.createElement(D.a,{checked:this.state.submissionsEdit,disabled:this.state.submissionsEditDisabled,onChange:this.onCheckboxChange.bind(this,"submissionsEdit"),label:this.getLabel("change_submissions")}),this.isAssignable("delete_submissions")&&n.a.createElement(D.a,{checked:this.state.submissionsDelete,disabled:this.state.submissionsDeleteDisabled,onChange:this.onCheckboxChange.bind(this,"submissionsDelete"),label:this.getLabel("delete_submissions")}),this.isAssignable("validate_submissions")&&n.a.createElement(D.a,{checked:this.state.submissionsValidate,disabled:this.state.submissionsValidateDisabled,onChange:this.onCheckboxChange.bind(this,"submissionsValidate"),label:this.getLabel("validate_submissions")}),this.isAssignable("manage_asset")&&n.a.createElement(D.a,{checked:this.state.formManage,onChange:this.onCheckboxChange.bind(this,"formManage"),label:this.getLabel("manage_asset")})),n.a.createElement("div",{className:"user-permissions-editor__row"},n.a.createElement(b.a.KoboButton,{m:"blue",type:"submit",disabled:!this.isSubmitEnabled()},e?t("Grant permissions"):t("Update permissions"))))}}])&&I(r.prototype,o),s}();c()(Y.prototype,m.a.ListenerMixin);var G=Y,$=G;function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=Z(e);if(t){var a=Z(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?X(e):t}(this,r)}}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(q,"PARTIAL_PLACEHOLDER","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/userAssetPermsEditor.es6"),__REACT_HOT_LOADER__.register(",","USERNAMES_SEPARATOR","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/userAssetPermsEditor.es6"),__REACT_HOT_LOADER__.register(Y,"UserAssetPermsEditor","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/userAssetPermsEditor.es6"),__REACT_HOT_LOADER__.register(G,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/userAssetPermsEditor.es6"));var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(s,n.a.Component);var r,o,a=J(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e),p()(X(t)),t.anonCanViewPermUrl=N.a.getPermissionByCodename(v.PERMISSIONS_CODENAMES.view_asset).url,t.anonCanViewDataPermUrl=N.a.getPermissionByCodename(v.PERMISSIONS_CODENAMES.view_submissions).url,t}return r=s,(o=[{key:"togglePerms",value:function(e){var t=this.props.publicPerms.filter(function(t){return t.permission===N.a.getPermissionByCodename(e).url})[0];t?h.a.permissions.removeAssetPermission(this.props.uid,t.url):h.a.permissions.assignAssetPermission(this.props.uid,{user:Object(g.buildUserUrl)(v.ANON_USERNAME),permission:N.a.getPermissionByCodename(e).url})}},{key:"render",value:function(){var e=this,r=this.props.uid,o="".concat(v.ROOT_URL,"/#/forms/").concat(r),a=this.props.publicPerms.filter(function(t){return t.permission===e.anonCanViewPermUrl})[0],s=this.props.publicPerms.filter(function(t){return t.permission===e.anonCanViewDataPermUrl})[0];return n.a.createElement(b.a.FormModal__item,{m:"permissions"},n.a.createElement(b.a.FormModal__item,null,n.a.createElement(D.a,{checked:!!a,onChange:this.togglePerms.bind(this,"view_asset"),label:t("Anyone can view this form")})),this.props.deploymentActive&&n.a.createElement(b.a.FormModal__item,null,n.a.createElement(D.a,{checked:!!s,onChange:this.togglePerms.bind(this,"view_submissions"),label:t("Anyone can view submissions made to this form")})),a&&n.a.createElement(b.a.FormModal__item,{m:"shareable-link"},n.a.createElement("label",null,t("Shareable link")),n.a.createElement("input",{type:"text",value:o,readOnly:!0})))}}])&&W(r.prototype,o),s}();c()(ee.prototype,_.a.permissions);var te=ee,re=te;function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=le(e);if(t){var a=le(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?ie(e):t}(this,r)}}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ee,"PublicShareSettings","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/publicShareSettings.es6"),__REACT_HOT_LOADER__.register(te,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/publicShareSettings.es6"));var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(s,n.a.Component);var r,o,a=se(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e),p()(ie(t)),t.state={isEditFormVisible:!1,isBeingDeleted:!1},t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(f.a.asset,this.onAssetChange)}},{key:"onAssetChange",value:function(){this.setState({isBeingDeleted:!1})}},{key:"removePermissions",value:function(){var e=x.a.dialog("confirm"),r={title:t("Remove permissions?"),message:t("This action will remove all permissions for user ##username##").replace("##username##","<strong>".concat(this.props.user.name,"</strong>")),labels:{ok:t("Remove"),cancel:t("Cancel")},onok:this.removeAllPermissions,oncancel:e.destroy};e.set(r).show()}},{key:"removeAllPermissions",value:function(){this.setState({isBeingDeleted:!0});var e=this.props.permissions.find(function(e){return e.permission===N.a.getPermissionByCodename(v.PERMISSIONS_CODENAMES.view_asset).url});h.a.permissions.removeAssetPermission(this.props.uid,e.url)}},{key:"onPermissionsEditorSubmitEnd",value:function(e){e&&this.setState({isEditFormVisible:!1})}},{key:"toggleEditForm",value:function(){this.setState({isEditFormVisible:!this.state.isEditFormVisible})}},{key:"renderPermissions",value:function(e){var r=this;return n.a.createElement(b.a.UserRow__perms,null,e.map(function(e){var o=[];e.partial_permissions&&e.partial_permissions.forEach(function(e){e.filters.forEach(function(e){e._submitted_by&&(o=o.concat(e._submitted_by.$in))})});var a="???";r.props.assignablePerms.has(e.permission)&&(a=r.props.assignablePerms.get(e.permission));var s=(0===o.length?"##permission_name##":o.length<=3?t("##permission_name## (##username_list##)"):4===o.length?t("##permission_name## (##username_list## and 1 other)"):t("##permission_name## (##username_list## and ##hidden_username_count## others)")).replace("##permission_name##",a).replace("##username_list##",o.slice(0,3).join(", ")).replace("##hidden_username_count##",o.length-3);return n.a.createElement(b.a.UserRow__perm,{title:e.description,key:a},s)}))}},{key:"render",value:function(){var e={background:"#".concat(Object(g.stringToColor)(this.props.user.name))},r=[];return 0===this.props.permissions.length&&r.push("deleted"),this.state.isBeingDeleted&&r.push("pending"),n.a.createElement(b.a.UserRow,{m:r},n.a.createElement(b.a.UserRow__info,null,n.a.createElement(b.a.UserRow__avatar,null,n.a.createElement(b.a.AccountBox__initials,{style:e},this.props.user.name.charAt(0))),n.a.createElement(b.a.UserRow__name,null,this.props.user.name),this.props.user.isOwner&&n.a.createElement(b.a.UserRow__perms,null,t("is owner")),!this.props.user.isOwner&&n.a.createElement(n.a.Fragment,null,this.renderPermissions(this.props.permissions),n.a.createElement(b.a.Button,{m:"icon",onClick:this.toggleEditForm},this.state.isEditFormVisible&&n.a.createElement("i",{className:"k-icon k-icon-close"}),!this.state.isEditFormVisible&&n.a.createElement("i",{className:"k-icon k-icon-edit"})),n.a.createElement(b.a.Button,{m:"icon",onClick:this.removePermissions},n.a.createElement("i",{className:"k-icon k-icon-trash"})))),this.state.isEditFormVisible&&n.a.createElement(b.a.UserRow__editor,null,n.a.createElement($,{uid:this.props.uid,username:this.props.user.name,permissions:this.props.permissions,assignablePerms:this.props.assignablePerms,nonOwnerPerms:this.props.nonOwnerPerms,onSubmitEnd:this.onPermissionsEditorSubmitEnd})))}}])&&ae(r.prototype,o),s}();c()(ce.prototype,_.a.permissions),c()(ce.prototype,m.a.ListenerMixin);var ue=ce,pe=ue;function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=ge(e);if(t){var a=ge(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?be(e):t}(this,r)}}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ce,"UserPermissionRow","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/userPermissionRow.es6"),__REACT_HOT_LOADER__.register(ue,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/userPermissionRow.es6"));var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(s,n.a.Component);var r,o,a=he(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e),p()(be(t)),t.state={allAssetsCount:0,isAddUserEditorVisible:!1},t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(f.a.asset,this.onAssetChange),this.listenTo(f.a.allAssets,this.onAllAssetsChange),this.listenTo(h.a.permissions.bulkSetAssetPermissions.completed,this.onAssetPermissionsUpdated),this.listenTo(h.a.permissions.getAssetPermissions.completed,this.onAssetPermissionsUpdated),this.props.uid&&h.a.resources.loadAsset({id:this.props.uid}),this.onAllAssetsChange()}},{key:"onAllAssetsChange",value:function(){this.setState({allAssetsCount:Object.keys(f.a.allAssets.byUid).length})}},{key:"onAssetPermissionsUpdated",value:function(e){var t=this,r=M.a.parseBackendData(e,this.state.asset.owner,!0),o=Object(g.buildUserUrl)(v.ANON_USERNAME),a=e.filter(function(e){return e.user===o}),n=M.a.parseUserWithPermsList(r).filter(function(e){return e.user!==Object(g.buildUserUrl)(t.state.asset.owner)});this.setState({permissions:r,nonOwnerPerms:n,publicPerms:a})}},{key:"onAssetChange",value:function(e){var t=this.props.uid||this.currentAssetID,r=e[t];r&&this.setState({asset:r}),this.setState({assignablePerms:this.getAssignablePermsMap(r.assignable_permissions)}),h.a.permissions.getAssetPermissions(t)}},{key:"getAssignablePermsMap",value:function(e){var t=new Map;return e.forEach(function(e){t.set(e.url,e.label)}),t}},{key:"toggleAddUserEditor",value:function(){this.setState({isAddUserEditorVisible:!this.state.isAddUserEditorVisible})}},{key:"onPermissionsEditorSubmitEnd",value:function(e){e&&this.setState({isAddUserEditorVisible:!1})}},{key:"renderLoadingMessage",value:function(){return n.a.createElement(b.a.Loading,null,n.a.createElement(b.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")))}},{key:"render",value:function(){var e=this;if(!this.state.permissions)return this.renderLoadingMessage();var r=this.state.asset.uid,o=this.state.asset.asset_type,a=this.state.asset.url;return n.a.createElement(b.a.FormModal,{m:"sharing-form"},n.a.createElement(b.a.Modal__subheader,null,this.state.asset.name),n.a.createElement(b.a.FormModal__item,null,n.a.createElement("h2",null,t("Who has access")),this.state.permissions.map(function(t){return t.user.name===v.ANON_USERNAME?null:n.a.createElement(pe,me({key:"perm.".concat(r,".").concat(t.user.name),uid:r,nonOwnerPerms:e.state.nonOwnerPerms,assignablePerms:e.state.assignablePerms,assetType:o},t))}),!this.state.isAddUserEditorVisible&&n.a.createElement(b.a.KoboButton,{m:"blue",onClick:this.toggleAddUserEditor},t("Add user")),this.state.isAddUserEditorVisible&&n.a.createElement(b.a.FormModal__item,{m:["gray-row","copy-team-permissions"]},n.a.createElement(b.a.Button,{m:"icon",className:"user-permissions-editor-closer",onClick:this.toggleAddUserEditor},n.a.createElement("i",{className:"k-icon k-icon-close"})),n.a.createElement($,{uid:r,assignablePerms:this.state.assignablePerms,nonOwnerPerms:this.state.nonOwnerPerms,onSubmitEnd:this.onPermissionsEditorSubmitEnd}))),o===v.ASSET_TYPES.survey.id&&n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a.Modal__hr,null),n.a.createElement(b.a.FormModal__item,{m:"share-settings"},n.a.createElement("h2",null,t("Share publicly by link")),n.a.createElement(re,{publicPerms:this.state.publicPerms,uid:r,objectUrl:a,deploymentActive:this.state.asset.deployment__active}))),o!==v.ASSET_TYPES.collection.id&&0===this.state.allAssetsCount&&n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a.Modal__hr,null),t("Waiting for all projects to load…")),o!==v.ASSET_TYPES.collection.id&&this.state.allAssetsCount>=2&&n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a.Modal__hr,null),n.a.createElement(P,{uid:r})))}}])&&_e(r.prototype,o),s}();ve.contextTypes={router:i.a.object},c()(ve.prototype,_.a.permissions),c()(ve.prototype,_.a.contextRouter),c()(ve.prototype,m.a.ListenerMixin);var ye=ve;r.a=ye,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ve,"SharingForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/sharingForm.es6"),__REACT_HOT_LOADER__.register(ye,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/sharingForm.es6"))},321:function(e,t,r){"use strict";var o,a;e.exports=(o={create:function(e){return new a(e)},__validators:{invalidChars:function(e,t){return!new RegExp("["+t+"]").test(e)},unique:function(e,t){return 0===_.filter(t,function(t){return t===e}).length}}},(a=function(e){this.options=e}).prototype.validate=function(e){for(var t=this.options.validations.length,r=this.options.validations,a=0;a<t;a++){var n=r[a];if(n.args||(n.args=[]),n.args.unshift(e),!o.__validators[n.name].apply(this,n.args))return n.failureMessage}return!0},o)},322:function(e,t,r){var o,a,n,s,i,l,c;s=r(50),a=r(85),l=r(86),n=r(24),i=r(323),o=r(324),c=r(325),e.exports={relevant:{getValue:function(){var e;return"undefined"===(e=this.serialize())&&("undefined"!=typeof Raven&&null!==Raven&&Raven.captureException("Serialized value is returning a string, undefined"),e=""),e},postInitialize:function(){var e,t,r,o;return r=this.getSurvey(),t=new a.SkipLogicFactory(r),o=new l.SkipLogicViewFactory(r),e=new s.SkipLogicHelperFactory(t,o,r,this._parent,this.get("value")),this.facade=new s.SkipLogicPresentationFacade(t,e,o)},serialize:function(){return this.facade.serialize()},parse:function(){},linkUp:function(e){return this.facade.initialize()}},constraint:{getValue:function(){var e;return"undefined"===(e=this.serialize())&&("undefined"!=typeof Raven&&null!==Raven&&Raven.captureException("Serialized value is returning a string, undefined"),e=""),e},postInitialize:function(){var e,t,r,a;return r=this.getSurvey(),t=new o.ValidationLogicModelFactory(r),a=new c.ValidationLogicViewFactory(r),e=new i.ValidationLogicHelperFactory(t,a,r,this._parent,this.get("value")),this.facade=new s.SkipLogicPresentationFacade(t,e,a)},serialize:function(){return this.facade.serialize()},parse:function(){},linkUp:function(e){return this.facade.initialize()}},label:{postInitialize:function(){}},name:{deduplicate:function(e){var t,r;return t=[],e.forEachRow((r=this,function(e){var o;if(e.get("name")!==r)return o=e.getValue("name"),t.push(o)}),{includeGroups:!0}),n.sluggifyLabel(this.get("value"),t)}}}},323:function(e,r,o){(function(r){var a,n,s,i=function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=o(136),a=o(50),e.exports=((s={}).ValidationLogicHelperFactory=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.create_presenter=function(e,t){return new s.ValidationLogicPresenter(e,t,this.current_question,this.survey,this.view_factory)},t.prototype.create_builder=function(){return new s.ValidationLogicBuilder(this.model_factory,this.view_factory,this.survey,this.current_question,this)},t.prototype.create_context=function(){return new s.ValidationLogicHelperContext(this.model_factory,this.view_factory,this,this.serialized_criteria)},t}(a.SkipLogicHelperFactory),s.ValidationLogicPresenter=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.change_question=function(){},t}(a.SkipLogicPresenter),s.ValidationLogicBuilder=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype._parse_skip_logic_criteria=function(e){return n(e)},t.prototype._get_question=function(){return this.current_question},t.prototype.build_empty_criterion=function(){var e,t,r;return e=this.view_factory.create_operator_picker(this.current_question.get_type()),r=this.view_factory.create_response_value_view(this.current_question,this.current_question.get_type(),this._operator_type()),(t=this.build_criterion_logic(this.model_factory.create_operator("empty"),e,r)).model.change_question(this.current_question.cid),t},t.prototype.questions=function(){return[this.current_question]},t.prototype._operator_type=function(){var e,r;return null==(e=t.__super__._operator_type.apply(this,arguments))&&(r=this.current_question.get_type().operators[0],e=a.operator_types[1===r?this.current_question.get_type().operators[1]:r]),e},t}(a.SkipLogicBuilder),s.ValidationLogicHelperContext=function(e){function t(e,r,o,a){this.model_factory=e,this.view_factory=r,this.helper_factory=o,this.state={serialize:function(){return a}},this.questionTypeHasNoValidationOperators()?this.use_hand_code_helper():t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.use_mode_selector_helper=function(){return this.state=new s.ValidationLogicModeSelectorHelper(this.view_factory,this),this.render(this.destination)},t.prototype.use_hand_code_helper=function(){this.state=new s.ValidationLogicHandCodeHelper(this.state.serialize(),this.builder,this.view_factory,this),this.questionTypeHasNoValidationOperators()&&(this.state.button=this.view_factory.create_empty()),this.render(this.destination)},t.prototype.questionTypeHasNoValidationOperators=function(){var e,t,r;return(r=this.helper_factory.current_question.get("type").get("typeId"))?((e=null!=(t=a.question_types[r])?t.operators:void 0)||(e=a.question_types.default.operators),e.length===e[0]):console.error("no type id found for question",this.helper_factory.current_question)},t}(a.SkipLogicHelperContext),s.ValidationLogicModeSelectorHelper=function(e){function r(e,o){this.context=o,r.__super__.constructor.apply(this,arguments),this.handcode_button=e.create_button("<i>${}</i> "+t("Manually enter your validation logic in XLSForm code"),"kobo-button kobo-button--blue")}return i(r,e),r}(a.SkipLogicModeSelectorHelper),s.ValidationLogicHandCodeHelper=function(e){function o(){o.__super__.constructor.apply(this,arguments),this.$handCode=r('<div class="card__settings__fields__field">\n  <label for="'+this.context.helper_factory.current_question.cid+'-handcode">'+t("Validation Code:")+'</label>\n  <span class="settings__input">\n    <input type="text" name="constraint" id="'+this.context.helper_factory.current_question.cid+'-handcode" class="text" value="'+this.criteria+'">\n  </span>\n</div>'),this.textarea=this.$handCode.find("#"+this.context.helper_factory.current_question.cid+"-handcode")}return i(o,e),o.prototype.render=function(e){var t;return e.replaceWith(this.$handCode),this.button.render().attach_to(this.$handCode),this.button.bind_event("click",(t=this,function(){return t.$handCode.replaceWith(e),t.context.use_mode_selector_helper()})),this.$handCode.on("change",function(e){return function(){return e.context.view_factory.survey.trigger("change")}}(this))},o.prototype.serialize=function(){return this.textarea.val()},o}(a.SkipLogicHandCodeHelper),s)}).call(this,o(19))},324:function(e,t,r){var o,a,n=function(e,t){for(var r in t)s.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},s={}.hasOwnProperty,i=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};r(25),o=r(85),e.exports=((a={}).ValidationLogicModelFactory=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.create_operator=function(e,t,r){var n;switch(n=null,e){case"text":n=new a.ValidationLogicTextOperator(t);break;case"date":n=new a.ValidationLogicDateOperator(t);break;case"basic":n=new a.ValidationLogicBasicOperator(t);break;case"existence":n=new a.ValidationLogicExistenceOperator(t);break;case"select_multiple":n=new a.ValidationLogicSelectMultipleOperator(t);break;case"empty":return new o.EmptyOperator}return n.set("id",r),n},t.prototype.create_criterion_model=function(){return new a.ValidationLogicCriterion(this,this.survey)},t}(o.SkipLogicFactory),a.ValidationLogicBasicOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.serialize=function(e,t){return". "+this.get("symbol")+" "+t},t}(o.SkipLogicOperator),a.ValidationLogicTextOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.serialize=function(e,r){return t.__super__.serialize.call(this,""," '"+r.replace(/'/g,"\\'")+"'")},t}(a.ValidationLogicBasicOperator),a.ValidationLogicDateOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.serialize=function(e,r){return-1===r.indexOf("date")&&(r="date('"+r+"')"),t.__super__.serialize.call(this,""," "+r)},t}(a.ValidationLogicBasicOperator),a.ValidationLogicExistenceOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.serialize=function(){return t.__super__.serialize.call(this,"","''")},t}(a.ValidationLogicBasicOperator),a.ValidationLogicSelectMultipleOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.serialize=function(e,t){var r;return r="selected(., '"+t+"')",this.get("is_negated")?"not("+r+")":r},t}(o.SelectMultipleSkipLogicOperator),a.ValidationLogicCriterion=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.change_question=function(e){var t,r,o,a;if(t=this._get_question()?this._get_question().get_type():{name:null},this.set("question_cid",e),r=this._get_question().get_type(),null==this.get("operator").get_id()||(o=this.get("operator").get_id(),i.call(r.operators,o)>=0)?t.name!==r.name&&this.change_operator(this.get("operator").get_value()):this.change_operator(1!==r.operators[0]?r.operators[0]:r.operators[1]),null===this.get("operator").get_type().response_type&&this._get_question().response_type!==(null!=(a=this.get("response_value"))?a.get_type():void 0))return this.change_response(this.get("response_value").get("value"))},t}(o.SkipLogicCriterion),a)},325:function(e,t,r){var o,a,n,s,i,l=function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty,u=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};s=r(15),a=r(86),n=r(137),o=r(50),e.exports=((i={}).ValidationLogicViewFactory=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.create_criterion_builder_view=function(){return new i.ValidationLogicCriterionBuilder},t.prototype.create_question_picker=function(){return new i.ValidationLogicQuestionPicker},t.prototype.create_operator_picker=function(e){var t;return t=s.filter(o.operator_types,function(t){var r;return 1!==t.id&&(r=t.id,u.call(e.operators,r)>=0)}),new a.OperatorPicker(t)},t}(a.SkipLogicViewFactory),i.ValidationLogicCriterionBuilder=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.$el.html(this.$el.html().replace("only be displayed","be valid only")),this},t}(a.SkipLogicCriterionBuilderView),i.ValidationLogicQuestionPicker=function(e){function t(){t.__super__.constructor.call(this,"This question's response has to be")}return l(t,e),t.prototype.attach_to=function(e){return e.find(".skiplogic__rowselect").remove(),t.__super__.attach_to.call(this,e)},t}(n.Label),i)},326:function(e,t,r){var o,a,n,s,i,l,c,u,p,d,m,_,f,h,b,g,v=function(e,t){for(var r in t)y.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},y={}.hasOwnProperty,w=[].slice,k=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};c=r(15),l=r(25),o=r(59),n=r(98),r(71),i=r(24),a=r(37),r(99),s=r(50),e.exports=(r(3).t,g={},d=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype._isSelectQuestion=function(){return!1},t}(l.Model),m=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.model=d,t}(l.Collection),p=function(){function e(e){var t,r,o,a,n,s,i,l;if(this._kobomatrix_columns=new m,this._rowAttributeName="_kobomatrix_columns",a=function(t,r){return c.isFunction(t)?e[r]=function(){var r;return r=1<=arguments.length?w.call(arguments,0):[],t.apply(e,r)}:e[r]=t},c.each(this,a),a(this.forEachRow,"forEachRow"),t=e.getValue("$kuid",!1),r={type:"end_"+this._beginEndKey(),$kuid:"/"+t},e._afterIterator=function(e,t){var o;if(o={export_relevant_values:function(e,t){return e.push(c.extend({},r))},toJSON:function(){return c.extend({},r)}},t.includeGroupEnds)return e(o)},o=e.toJSON,e.clone=function(){return console.error("clone kobomatrix rows")},e.toJSON=function(){return c.extend(o.call(e),{type:"begin_"+e._beginEndKey()},"function"==typeof this._additionalJson?this._additionalJson():void 0)},c.each(this.constructor.prototype,a),e.attributes.__rows){for(n=0,s=(i=e.attributes.__rows).length;n<s;n++)l=i[n],this[this._rowAttributeName].add(l);delete e.attributes.__rows}}return e.prototype._kobomatrix_cols=function(){return this.rows},e.prototype._isSelectQuestion=function(){return!1},e.prototype.get_type=function(){return s.question_types.default},e.prototype._beginEndKey=function(){return"kobomatrix"},e.prototype.linkUp=function(e){var t,r,o,a;return this.getList=(a=this,function(){return a.items}),t={},(r=null!=(o=this.get("kobo--matrix_list"))?o.get("value"):void 0)?t[r]=this.getSurvey().choices.get(r):(r=this.set("kobo--matrix_list","matrix_"+i.txtid()),t[r]=this.getSurvey().choices.create()),this.rows.each(function(e){return function(r){var o,a;if(o=null!=(a=r.get("select_from_list_name"))?a.get("value"):void 0)return t[o]=e.getSurvey().choices.get(o)}}(this)),this.items=t,this.items},e}(),b=function(e,t){return e["__"+t]=e[t],e[t]=function(){var r;return r=1<=arguments.length?w.call(arguments,0):[],e._meta[t].apply(e._meta,r)}},h=function(e,t){"_beforeIterator"in this&&this._beforeIterator(e,t),"includeErrors"in t||(t.includeErrors=!1),this.rows.each(function(r,o,a){if("function"==typeof r.forEachRow){if(t.includeGroups&&e(r),!t.flat)return r.forEachRow(e,t)}else{if(!r.isError())return e(r);if(t.includeErrors)return e(r)}}),"_afterIterator"in this&&this._afterIterator(e,t)},g.SurveyFragment=function(e){function t(e,r){this.rows=new _([],{_parent:this}),this._meta=new l.Model,b(this,"set"),b(this,"get"),b(this,"on"),b(this,"off"),b(this,"trigger"),t.__super__.constructor.call(this,e,r)}return v(t,e),t.prototype._validate=function(){var e;return this.clearErrors(),e=!0,this.settings.get("form_id")||(this.addError("form id must not be empty"),e=!1),this.settings.get("form_title")||(this.addError("form title must not be empty"),e=!1),e},t.prototype.clearErrors=function(){return this.errors=[]},t.prototype.addError=function(e){return this.errors.push(e)},t.prototype.linkUp=function(e){return this.invoke("linkUp",e)},t.prototype.forEachRow=function(e,t){return null==t&&(t={}),h.apply(this,[e,t])},t.prototype.getRowDescriptors=function(){var e;return e=[],this.forEachRow(function(t){var r;return r={label:t.getValue("label"),name:t.getValue("name")},e.push(r)}),e},t.prototype.findRowByCid=function(e,t){var r,o;return null==t&&(t={}),o=!1,r=function(t){return t.cid===e&&(o=t),!o},this.forEachRow(r,t),o},t.prototype.findRowByName=function(e,t){var r;return r=!1,this.forEachRow(function(t){return(t.getValue("name")||i.sluggifyLabel(t.getValue("label")))===e&&(r=t),!r},t),r},t.prototype.addRowAtIndex=function(e,t){return this.addRow(e,{at:t})},t.prototype.addRow=function(e,t){var r,o,a;return null==t&&(t={}),(r=t.after)?(delete t.after,t._parent=r._parent,a=1+t._parent.models.indexOf(r),t.at=a):(o=t.before)?(delete t.before,t._parent=o._parent,a=t._parent.models.indexOf(o),t.at=a):t._parent=this.rows,t._parent.add(e,t)},t.prototype.detach=function(){this._parent.remove(this)},t.prototype.remove=function(e){return e.detach()},t.prototype._addGroup=function(e){var t,r,o,n,s,i,l,c,u,p,d,m,_;e._parent=this.rows,"type"in e||(e.type="group"),"__rows"in e||(e.__rows=[]),e.__rows=[].concat.apply([],e.__rows),m=[],this.forEachRow(function(e){return m.push(e.cid)},{includeGroups:!0,includeErrors:!0}),c=!1;for(n=0,i=(u=e.__rows).length;n<i;n++)d=u[n],_=m.indexOf(d.cid),(!1===c||_<c)&&(c=_,r=d);for(t={previous:r.precedingRow(),parent:r.parentRow()},s=0,l=(p=e.__rows).length;s<l;s++)(d=p[s]).detach({silent:!0});return null==e.label&&(e.label=a.newGroupDetails.label.value),o=new g.Group(e),this.getSurvey()._insertRowInPlace(o,t),(t.parent||this.getSurvey().rows).trigger("add",o)},t.prototype._allRows=function(){var e;return e=[],this.forEachRow(function(t){if("Row"===t.constructor.kls)return e.push(t)},{}),e},t.prototype.finalize=function(){return this.forEachRow(function(e){return e.finalize()},{includeGroups:!0}),this},t}(o.BaseCollection),g.Group=function(e){function t(e,r){var o,a,n,s;for(null==e&&(e={}),o=e.__rows||[],void 0===e.label&&(e.label=""),this._parent=e._parent,delete e.__rows,this.rows=new _([],{_parent:this}),t.__super__.constructor.call(this,e,r),o&&this.rows.add(o),a=0,n=o.length;a<n;a++)(s=o[a])._parent=s.collection=this.rows}return v(t,e),t.kls="Group",t.key="group",t.prototype._isSelectQuestion=function(){return!1},t.prototype.get_type=function(){return s.question_types.default},t.prototype.initialize=function(){var e,t,r,o;for(t in e=a.newGroupDetails)r=e[t],this.has(t)||("function"==typeof r.value?this.set(t,r.value(this)):this.set(t,r));if(this.ensureKuid(),o="repeat"===this.get("type"),this.set("_isRepeat",o),this.convertAttributesToRowDetails(),"kobomatrix"===this.getValue("type"))return new p(this)},t.prototype.addRowAtIndex=function(e,t){return e._parent=this.rows,this.rows.add(e,{at:t})},t.prototype._isRepeat=function(){var e;return!!(null!=(e=this.get("_isRepeat"))?e.get("value"):void 0)},t.prototype.autoname=function(){var e,t,r;if(void 0===(e=this.getValue("name"))||""===e)return r={lowerCase:!1,stripSpaces:!0,lrstrip:!0,incrementorPadding:3,validXmlTag:!0},t=i.sluggify(this.getValue("label"),r),this.setDetail("name",t)},t.prototype.finalize=function(){return this.autoname()},t.prototype.detach=function(e){return this._parent.remove(this,e)},t.prototype.splitApart=function(){var e,t,r,o,a,n,s;for(s=this._parent.models.indexOf(this),this.detach(),a=[],r=e=0,t=(o=this.rows.models).length;e<t;r=++e)(n=o[r])._parent=this._parent,a.push(this._parent._parent.addRowAtIndex(n,s+r));return a},t.prototype._beforeIterator=function(e,t){if(t.includeGroupEnds)return e(this.groupStart())},t.prototype._afterIterator=function(e,t){if(t.includeGroupEnds)return e(this.groupEnd())},t.prototype.forEachRow=function(e,t){return null==t&&(t={}),h.apply(this,[e,t])},t.prototype._groupOrRepeatKey=function(){return this._isRepeat()?"repeat":"group"},t.prototype.groupStart=function(){var e;return e=this,{export_relevant_values:function(e,t){return e.push(this.toJSON())},toJSON:function(){var t,r,o,a;for(t in r={},o=e.attributes)a=o[t],"_isRepeat"!==t&&(r[t]=a.getValue());return r.type="begin_"+e._groupOrRepeatKey(),r}}},t.prototype.groupEnd=function(){var e,t;return t=this.getValue("$kuid"),e={type:"end_"+this._groupOrRepeatKey(),$kuid:"/"+t},{export_relevant_values:function(t,r){return t.push(c.extend({},e))},toJSON:function(){return c.extend({},e)}}},t}(n.BaseRow),u=["begin_group","end_group","begin_repeat","end_repeat"],f=function(e){var t,r;if(t=function(){var e,t,r,o;for(e in r=[],t=a.defaultSurveyDetails)o=t[e],r.push(o.name);return r}(),r=null!=e?e.type:void 0,k.call(u,r)>=0)throw new Error("Invalid type at this stage: "+r);if(k.call(t,r)>=0)throw new Error(r+" is not properly handled as a SurveyDetail");return"score"===r?n.Row:"group"===r||"repeat"===r||"kobomatrix"===r?g.Group:n.Row},_=function(e){function t(){var e,r;e=1<=arguments.length?w.call(arguments,0):[],t.__super__.constructor.apply(this,e),this.on("add",(r=this,function(e,t,o){return r._parent.getSurvey().trigger("rows-add",e,t,o)})),this.on("remove",function(e){return function(t,r,o){return e._parent.getSurvey().trigger("rows-remove",t,r,o)}}(this))}return v(t,e),t.prototype.model=function(e,t){var r,o;r=f(e);try{return new r(e,c.extend({},t,{_parent:t.collection}))}catch(r){return o=r,new n.RowError(e,c.extend({},t,{error:o,_parent:t.collection}))}},t.prototype.comparator=function(e){return e.ordinal},t}(o.BaseCollection),g)},327:function(e,t,r){var o;o=r(59),e.exports={RowDetail:o.RowDetail}},328:function(e,t,r){var o,a;o=r(94),e.exports=((a={}).mdSurveyStructureToObject=function(e){var t,r,o,a,n,s,i,l,c,u,p,d,m,_;for(o=function(e){return String(e).replace(/^\s+|\s+$/g,"")},_=!1,n=!1,m={},t=function(){var e,t,r,o,a,s,i,l,c,u,p;for(t=n[0],p=[],r=0,a=(l=n.slice(1)).length;r<a;r++){for(u={},i=o=0,s=(c=l[r]).length;o<s;i=++o)e=c[i],t[i]&&(u[t[i]]=e);p.push(u)}return m[_]=p,n=[]},i=0,c=(d=e.split("\n")).length;i<c;i++){for(r=[],s=l=0,u=(p=o(d[i]).split("|")).length;l<u;s=++l)a=p[s],s>0&&r.push(o(a));r[0]?(n&&t(),_=r[0],n=[]):n&&n.push(r.slice(1,r.length-1))}return t(),m},a.csvJsonToMarkdown=function(e){var t,r,a,n,s,i,l,c,u,p,d,m,_,f,h,b,g,v,y,w,k,E,x,S;for(S in r=[],n=function(e,t){r[t]||(r[t]=0),e>r[t]&&(r[t]=e)},a=function(e,t){var r;return e||(e=""),(r=t-e.length)>0&&(e+=new Array(r+1).join(" ")),e},t=function(e,t){var o,n,s,i,l,c;for(null==t&&(t=0),o=n=0,l=t;0<=l?n<l:n>l;o=0<=l?++n:--n)e.unshift("");for(e.length=r.length,o=s=0,i=e.length;s<i;o=++s)c=e[o],e[o]=a(c,r[o]);b+="| "+e.join(" | ")+" |\n"},x=o.sheeted(),b="\n",e){for(i=e[S],n(S.length,0),s=x.sheet(S,o(i)),l=c=0,d=(g=i.columns).length;c<d;l=++c)n(g[l].length,l+1);for(u=0,m=(v=s.rowArray).length;u<m;u++)for(l=p=0,_=(k=v[u]).length;p<_;l=++p)n(k[l].length,l+1)}for(S in y=x._sheets)for(E=y[S],t([S]),t(E.columns,1),h=0,f=(w=E.rowArray).length;h<f;h++)t(k=w[h],1);return b},a)},329:function(e,t,r){var o,a,n,s,i;s=r(15),o=r(330),n=r(60),a=r(86),e.exports=(i={},s.extend(i,o),i.utils=n,i.rowDetailSkipLogic=a,i)},330:function(e,r,o){(function(r){var a,n,s,i,l,c,u,p,d,m,_,f,h,b,g=function(e,t){return function(){return e.apply(t,arguments)}},v=function(e,t){for(var r in t)y.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},y={}.hasOwnProperty;d=o(15),p=o(25),s=o(93),o(24),c=o(45),i=o(339),l=o(140),n=o(340),a=o(61),u=o(60),m=o(14),e.exports=(h={},b=function(e){var t,o,a,n,s,i,l;if(!e.orderfail)return l=e.survey,o=[],e.$(".survey__row").each(function(){return o.push(r(this).data("rowId"))}),i=[],n=function(e){return i.push(e.cid)},l.forEachRow(n,{includeGroups:!0}),(t=function(e){return JSON.stringify(e)})(i)===t(o)||(s=window.location.pathname,e.orderfail=!0,a=("Row model does not match view: "+t(i)+" "+t(o)+" "+s).trim(),"undefined"!=typeof console&&null!==console&&console.error(a),"undefined"!=typeof Raven&&null!==Raven&&Raven.captureException(new Error(a)),!1)},f=d.debounce(b,2500),_=function(e){function o(){return this.deselect_rows=g(this.deselect_rows,this),o.__super__.constructor.apply(this,arguments)}return v(o,a),o.prototype.className="formbuilder-wrap container",o.prototype.features={},o.prototype.events={"click .js-delete-row":"clickRemoveRow","click .js-delete-group":"clickDeleteGroup","click .js-add-to-question-library":"clickAddRowToQuestionLibrary","click .js-clone-question":"clickCloneQuestion","click #xlf-preview":"previewButtonClick","click #csv-preview":"previewCsv","click #xlf-download":"downloadButtonClick","click #save":"saveButtonClick","click #publish":"publishButtonClick","update-sort":"updateSort","click .js-select-row":"selectRow","click .js-select-row--force":"forceSelectRow","click .js-toggle-card-settings":"toggleCardSettings","click .js-toggle-group-expansion":"toggleGroupExpansion","click .js-toggle-row-multioptions":"toggleRowMultioptions","click .js-close-warning":"closeWarningBox","click .js-expand-row-selector":"expandRowSelector","click .rowselector_toggle-library":"toggleLibrary","mouseenter .card__buttons__button":"buttonHoverIn","mouseleave .card__buttons__button":"buttonHoverOut","click .card__settings__tabs li":"switchTab"},o.create=function(e){return null==e&&(e={}),d.isString(e.el)&&(e.el=r(e.el).get(0)),new this(e)},o.prototype.switchTab=function(e){var t,o;if(!(t=r(e.currentTarget)).hasClass("heading"))return o=t.data("cardSettingsTabId"),t.parent("ul").find(".card__settings__tabs__tab--active").removeClass("card__settings__tabs__tab--active"),t.addClass("card__settings__tabs__tab--active"),t.parents(".card__settings").find(".card__settings__fields--active").removeClass("card__settings__fields--active"),t.parents(".card__settings").find(".card__settings__fields--"+o).addClass("card__settings__fields--active");e.preventDefault()},o.prototype.surveyRowSortableStop=function(e){var t,o,a,n,s,i,l,c;this.survey.trigger("change"),n=(t=r(e.target)).data("rowId"),c=this,i=(l=function(e){if(e)return c.survey.findRowByCid(e,{includeGroups:!0})})(n),a=(s=this._getRelatedElIds(t))[0],o=s[1],this.survey._insertRowInPlace(i,{previous:l(a),parent:l(o),event:"sort"})},o.prototype._getRelatedElIds=function(e){return[e.prev(".survey__row").eq(0).data("rowId"),e.parents(".survey__row").eq(0).data("rowId")]},o.prototype.initialize=function(e){var t,o;return this.reset=(o=this,function(e){var t;return null==e&&(e=!1),o._timedReset&&clearTimeout(o._timedReset),t=r.Deferred(),o._timedReset=setTimeout(function(){o._reset.call(o,e),t.resolve()},0),t}),e.survey&&e.survey instanceof s.Survey?this.survey=e.survey:this.survey=new s.Survey(e),this.warnings=e.warnings||[],this.__rowViews=new p.Model,this.ngScope=e.ngScope,this.surveyStateStore=e.stateStore||{trigger:r.noop,setState:r.noop},r(document).on("click",this.deselect_rows),this.survey.settings.on("change:form_id",function(e,t){return r(".form-id").text(t)}),this.survey.on("rows-add",this.reset,this),this.survey.on("rows-remove",this.reset,this),this.survey.on("row-detail-change",function(e){return function(t,r,o,a){var n;if(!r.match(/^\$/))return n=u.normalizeEventName("row-detail-change-"+r),e.$(".on-"+n).trigger(n,t,r,o,a)}}(this)),this.$el.on("choice-list-update",function(e){return function(t,o){return r(".on-choice-list-update[data-choice-list-cid='"+o+"']").trigger("rebuild-choice-list"),e.survey.trigger("choice-list-update",o)}}(this)),this.$el.on("survey__row-sortablestop",d.bind(this.surveyRowSortableStop,this)),this.onPublish=e.publish||r.noop,this.onSave=e.save||r.noop,this.onPreview=e.preview||r.noop,this.expand_all_multioptions=function(){return this.$(".survey__row:not(.survey__row--deleted) .card--expandedchoices:visible").length>0},t=!1,r(window).on("keydown",function(e){return function(o){var a;if(a=r(":focus"),13===o.keyCode&&(o.preventDefault(),r("div.row__questiontypes").find("button").eq(1).trigger("click"),(a=r(":focus")).hasClass("editable-wrapper")?t?(a.trigger("click"),t=!1):t=!0:"none"===a.css("display")?a.css("display","block"):a.trigger("click")),27===o.keyCode)return e.onEscapeKeydown(o)}}(this))},o.prototype.getView=function(e){return this.__rowViews.get(e)},o.prototype.updateSort=function(e,t,r){this.survey.rows.remove(t),this.survey.rows.each(function(e,t){return e.ordinal=t>=r?t+1:t}),t.ordinal=r,this.survey.rows.add(t,{at:r})},o.prototype.forceSelectRow=function(e){return this.selectRow(r.extend({},e))},o.prototype.deselect_all_rows=function(){this.$(".survey__row").removeClass("survey__row--selected"),this.activateGroupButton(!1)},o.prototype.deselect_rows=function(e){r(e.target).parents(".survey__row").length||this.deselect_all_rows()},o.prototype.selectRow=function(e){var t,o,a,n,s;(o=r(e.target)).hasClass("js-blur-on-select-row")||o.hasClass("editable-wrapper")||(t=r(e.currentTarget),o.closest(".card__settings, .card__buttons, .group__header__buttons, .js-cancel-select-row").length>0||t.closest(".survey__row").get(0)===o.closest(".survey__row").get(0)&&(n=o.closest(".survey__row"),e.ctrlKey||e.metaKey||(s=n.siblings(".survey__row--selected"),(!n.hasClass("survey__row--selected")||s.length>1)&&this.deselect_all_rows()),n.toggleClass("survey__row--selected"),n.hasClass("survey__row--group")&&n.find("li.survey__row, li.survey__row--group").toggleClass("survey__row--selected",n.hasClass("survey__row--selected")),(a=n.parent().closest(".survey__row")).length>0&&this.select_group_if_all_items_selected(a),this.questionSelect(),this.$(".js-blur-on-select-row").blur()))},o.prototype.select_group_if_all_items_selected=function(e){var t;if(t=e.find(".survey__row"),e.toggleClass("survey__row--selected",t.length===t.filter(".survey__row--selected").length),(e=e.parent().closest(".survey__row")).length>0)return this.select_group_if_all_items_selected(e)},o.prototype.questionSelect=function(){this.activateGroupButton(this.$el.find(".survey__row--selected").length>0)},o.prototype.activateGroupButton=function(e){this.surveyStateStore.setState({groupButtonIsActive:e}),r(".formBuilder-header__button--group").attr("disabled",!e)},o.prototype.getApp=function(){return this},o.prototype._getViewForTarget=function(e){var t,o;if(t=r(e.currentTarget).closest(".survey__row").data("row-id"),!(o=this.__rowViews.get(t)))throw new Error("view is not found for target element");return o},o.prototype.toggleCardSettings=function(e){return this._getViewForTarget(e).toggleSettings()},o.prototype.toggleGroupExpansion=function(e){var t,o,a;return o=(a=this._getViewForTarget(e)).$el.hasClass("group--shrunk"),this.surveyStateStore.setState({groupShrunk:o}),(t=r(e.currentTarget)).toggleClass("fa-caret-right"),t.toggleClass("fa-caret-down"),a.$el.toggleClass("group--shrunk",!o)},o.prototype.toggleRowMultioptions=function(e){return this._getViewForTarget(e).toggleMultioptions()},o.prototype.expandRowSelector=function(e){var t,o,a,n,s;if((t=r(e.currentTarget)).parents(".survey-editor__null-top-row").length>0)return this.null_top_row_view_selector.expand();if(o=t.parents(".survey__row").eq(0),a=t.parents(".survey__row__spacer"),n=o.data("rowId"),!(s=this.getViewForRow({cid:n})))throw new Error("View for row was not found: "+n);return new l.RowSelector({el:a.get(0),ngScope:this.ngScope,spawnedFromView:s,surveyView:this,reversible:!0,survey:this.survey}).expand()},o.prototype._render_html=function(){return this.$el.html(c.$$render("surveyApp",this)),this.formEditorEl=this.$(".-form-editor"),this.settingsBox=this.$(".form__settings-meta__questions")},o.prototype._render_attachEvents=function(){return this.survey.settings.on("validated:invalid",function(e,t){var r,o;for(r in o=[],t){t[r];break}return o}),this.survey.settings},o.prototype._render_addSubViews=function(){var e,t,r,o,a,n;for(o=new u.ViewComposer,t=0,r=(a=this.survey.surveyDetails.models).length;t<r;t++)"start"===(n=(e=a[t]).get("name"))||"end"===n||"today"===n||"deviceid"===n?o.add(new i.SurveyDetailView({model:e,selector:".settings__first-meta"})):o.add(new i.SurveyDetailView({model:e,selector:".settings__second-meta"}));return o.render(),o.attach_to(this.settingsBox),this.null_top_row_view_selector=new l.RowSelector({el:this.$el.find(".survey__row__spacer").get(0),survey:this.survey,ngScope:this.ngScope,surveyView:this,reversible:!0})},o.prototype._render_hideConditionallyDisplayedContent=function(){if(this.features.multipleQuestions||(this.$el.addClass("survey-editor--singlequestion"),this.$el.find(".survey-editor__null-top-row").addClass("survey-editor__null-top-row--hidden"),this.$el.find(".js-expand-row-selector").addClass("btn--hidden"),0===this.survey.rows.length&&this.null_top_row_view_selector.expand()),!this.features.copyToLibrary)return this.$el.find(".js-add-to-question-library").hide()},o.prototype.render=function(){var e;this.$el.addClass("survey-editor--loading"),this.$el.removeClass("content--centered").removeClass("content");try{this._render_html(),this._render_attachEvents(),this._render_addSubViews(),this._reset(),this._render_hideConditionallyDisplayedContent()}catch(t){throw e=t,this.$el.addClass("survey-editor--error"),e}return this.$el.removeClass("survey-editor--loading"),this},o.prototype.shrinkAllGroups=function(){return this.$(".survey__row--group:not(.group--shrunk)").each(function(e,t){if(!r(t).hasClass("group--shrunk"))return r(t).find(".group__caret").click()})},o.prototype.expandAllGroups=function(){var e,t;for(e=0,t=[];this.$(".survey__row--group.group--shrunk").length>0&&(this.$(".survey__row--group.group--shrunk").each(function(e,t){return r(t).find(".group__caret").click()}),!(e++>10));)t.push(void 0);return t},o.prototype.expandMultioptions=function(){var e,t;this.expand_all_multioptions()?(this.shrinkAllGroups(),this.$(".card--expandedchoices").each((t=this,function(e,r){t._getViewForTarget({currentTarget:r}).hideMultioptions()})),e=!1):(this.expandAllGroups(),this.$(".card--selectquestion").each(function(e){return function(t,r){e._getViewForTarget({currentTarget:r}).showMultioptions()}}(this)),e=!0),this.surveyStateStore.trigger({multioptionsExpanded:e})},o.prototype.closeWarningBox=function(e){return this.$(".survey-warnings").hide()},o.prototype.getItemPosition=function(e){var t;for(t=0;e.length>0;)e=e.prev(),t++;return t},o.prototype.activateSortable=function(){var e,t,o,a,n;e=this.formEditorEl,this.survey,n=this,o=function(t,r){var o;return o="sortactivate"===t.type,r.item.toggleClass("sortable-active",o),e.toggleClass("insort",o),n.survey.trigger(t.type)},a=function(e){return function(t,o){return r(o.item).trigger("survey__row-sortablestop"),e.survey.trigger("sortablestop")}}(this),this.formEditorEl.sortable({cancel:"button, .btn--addrow, .well, ul.list-view, li.editor-message, .editableform, .row-extras, .js-cancel-sort",cursor:"move",distance:5,items:"> li",placeholder:"placeholder",connectWith:".group__rows",opacity:.9,scroll:!0,stop:a,activate:o,deactivate:o,receive:function(e){return function(t,r){var o,a;o=r.item.data().uid,e.ngScope.handleItem&&o&&(a=e.getItemPosition(r.item.prev()),e.ngScope.handleItem({position:a-1,itemUid:o}),r.sender.sortable("cancel"))}}(this)}),(t=this.formEditorEl.find(".group__rows")).each(function(e){return function(n){return r(t[n]).sortable({cancel:"button, .btn--addrow, .well, ul.list-view, li.editor-message, .editableform, .row-extras, .js-cancel-sort, .js-cancel-group-sort"+n,cursor:"move",distance:5,items:"> li",placeholder:"placeholder",connectWith:".group__rows, .survey-editor__list",opacity:.9,scroll:!0,stop:a,activate:o,deactivate:o,receive:function(t,o){var a,n,s;n=o.item.data().uid,e.ngScope.handleItem&&n&&((s=r(o.item).parents("[data-row-id]")[0])&&(a=s.dataset.rowId),e.ngScope.handleItem({position:e.getItemPosition(o.item.prev()),itemUid:n,groupId:a}),o.sender.sortable("cancel"))}}),r(e).attr("data-sortable-index",n)}}(this)),t.find(".survey__row").each(this._preventSortableIfGroupTooSmall)},o.prototype._preventSortableIfGroupTooSmall=function(e,t){var o,a;if(o=r(t),null!=(a=t.className.match(/js-cancel-group-sort\d+/g))&&o.removeClass(a.join(" ")),0===o.siblings(".survey__row").length)return o.addClass("js-cancel-group-sort"+o.closest(".group__rows").attr("data-sortable-index"))},o.prototype.validateSurvey=function(){return this.features.multipleQuestions?this.survey._validate():1===this.survey.rows.length},o.prototype.previewCsv=function(){var e;e=this.survey.toCSV(),"undefined"!=typeof console&&null!==console&&console.clear(),log(e)},o.prototype.ensureElInView=function(e,t,r){var o,a,n,s,i,l,c;return c=this.getViewForRow(e),o=c.$el,(n=e._parent.indexOf(e))>0&&(s=e._parent.at(n-1)),s&&(i=r.find(".survey__row[data-row-id="+s.cid+"]")),l=!1,a=function(e){return o.detach(),l=!0},0===o.parents(r).length||o.parent().get(0)!==r.get(0)?a():s?o.prev(".survey__row").not(".survey__row--deleted").data("rowId")!==s.cid&&a():o.prev(".survey__row").not(".survey__row--deleted").data("rowId")&&a(),l&&(s?o.insertAfter(i):o.appendTo(r)),c},o.prototype.getViewForRow=function(e){var t,r;return(r=this.__rowViews.get(e.cid))||(t="kobomatrix"===e.getValue("type")?new n.KoboMatrixView({model:e,ngScope:this.ngScope,surveyView:this}):"Group"===e.constructor.kls?new n.GroupView({model:e,ngScope:this.ngScope,surveyView:this}):"score"===e.get("type").getValue()?new n.ScoreView({model:e,ngScope:this.ngScope,surveyView:this}):"rank"===e.get("type").getValue()?new n.RankView({model:e,ngScope:this.ngScope,surveyView:this}):new n.RowView({model:e,ngScope:this.ngScope,surveyView:this}),this.__rowViews.set(e.cid,t),r=this.__rowViews.get(e.cid)),r},o.prototype._reset=function(e){var t,o,a,n,s;null==e&&(e=!1),f(this),o=!0,this.survey.forEachRow((s=this,function(e){return s.features.skipLogic||e.unset("relevant"),o=!1,s.ensureElInView(e,s,s.formEditorEl).render()}),{includeErrors:!0,includeGroups:!0,flat:!0}),a=null,n=null,e&&(a=r('*[data-row-id="'+e.cid+'"]'),n=e.getValue("type")),a&&n&&(n.includes("select_one")||n.includes("select_multiple"))?a.find("input.option-view-input").eq(0).select():a&&((t=a.find(".btn--addrow").eq(0)).addClass("btn--addrow-force-show"),t.focus(),r(document).one("keydown click",function(e){return t.removeClass("btn--addrow-force-show"),t.blur()})),this.formEditorEl.find(".survey-editor__null-top-row").removeClass("expanded").toggleClass("survey-editor__null-top-row--hidden",!o),this.features.multipleQuestions&&this.activateSortable()},o.prototype.clickDeleteGroup=function(e){return this._getViewForTarget(e).deleteGroup(e)},o.prototype.clickAddRowToQuestionLibrary=function(e){return this._getViewForTarget(e).add_row_to_question_library(e)},o.prototype.clickCloneQuestion=function(e){return this._getViewForTarget(e).clone()},o.prototype.clickRemoveRow=function(e){var o,a,n,s,i,l,c;if(e.preventDefault(),confirm(t("Are you sure you want to delete this question?")+" "+t("This action cannot be undone."))){if(this.survey.trigger("change"),o=r(e.target),i=o.parents(".survey__row").eq(0),l=i.data("rowId"),n=!1,a=function(e){e.cid===l&&(n=e)},this.survey.forEachRow(a,{includeGroups:!1}),!n)throw new Error("Matching row was not found.");return s=n._parent._parent,n.detach(),i.addClass("survey__row--deleted"),i.slideUp(175,"swing",(c=this,function(){var e;if(i.remove(),c.survey.rows.remove(n),"Group"===s.constructor.kls&&0===s.rows.length)return(e=c.__rowViews.get(s.cid))||"undefined"!=typeof Raven&&null!==Raven&&Raven.captureException("parent view is not defined",n.get("name").get("value")),e._deleteGroup()}))}},o.prototype.groupSelectedRows=function(){var e,t;return t=this.selectedRows(),(e=this.$(".survey__row--selected")).detach(),e.removeClass("survey__row--selected"),this.activateGroupButton(!1),t.length>0&&(this.survey._addGroup({__rows:t}),this.reset(),!0)},o.prototype.selectedRows=function(){var e,t;return e=[],this.$el.find(".survey__row--selected").each((t=this,function(o,a){var n,s,i,l;if(!((n=r(a)).parents("li.survey__row--group.survey__row--selected").length>0))return l=n.data("rowId"),i=!1,s=function(e){if(e.cid===l)return i=e},t.survey.forEachRow(s,{includeGroups:!0}),e.push(i)})),e},o.prototype.onEscapeKeydown=function(){},o.prototype.previewButtonClick=function(e){var t,r,o,a,n;e.shiftKey?(e.preventDefault(),t=e.altKey?this.survey.toCSV():JSON.stringify(this.survey.toJSON(),null,4),u.debugFrame(t.replace(new RegExp(" ","g"),"&nbsp;")),this.onEscapeKeydown=u.debugFrame.close):u.enketoIframe.fromCsv(this.survey.toCSV(),{previewServer:(null!=(r=window.koboConfigs)?r.previewServer:void 0)||"https://kf.kobotoolbox.org",enketoServer:(null!=(o=window.koboConfigs)?o.enketoServer:void 0)||!1,enketoPreviewUri:(null!=(a=window.koboConfigs)?a.enketoPreviewUri:void 0)||!1,onSuccess:(n=this,function(){return n.onEscapeKeydown=u.enketoIframe.close}),onError:function(e){return m.error(e)}})},o.prototype.downloadButtonClick=function(e){if(this.survey.toCSV())return e.target.href="data:text/csv;charset=utf-8,"+encodeURIComponent(this.survey.toCSV())},o.prototype.saveButtonClick=function(e){var t;return(t=r(e.currentTarget).find("i")).addClass("fa-spinner fa-spin blue"),t.removeClass("fa-check-circle green"),this.onSave.apply(this,arguments).finally(function(){return t.removeClass("fa-spinner fa-spin blue"),t.addClass("fa-check-circle green")})},o.prototype.publishButtonClick=function(e){return this.onPublish.apply(this,arguments)},o.prototype.toggleLibrary=function(e){e.stopPropagation(),r(e.target).toggleClass("active__sidebar"),r("section.form-builder").toggleClass("active__sidebar"),this.ngScope.displayQlib=!this.ngScope.displayQlib,this.ngScope.$apply(),r("section.koboform__questionlibrary").toggleClass("active").data("rowIndex",-1)},o.prototype.buttonHoverIn=function(e){var o,a,n,s;e.stopPropagation(),n=(o=r(e.currentTarget)).data("buttonName"),o.closest(".card").addClass("card--shaded"),a=o.closest(".card__header"),s="settings"===n?t("[button triggers] Settings"):"delete"===n?t("[button triggers] Delete Question"):"duplicate"===n?t("[button triggers] Duplicate Question"):"add-to-library"===n?t("[button triggers] Add Question to Library"):void 0,a.find(".card__header--shade").eq(0).children("span").eq(0).attr("data-card-hover-text",s),a.addClass(n)},o.prototype.buttonHoverOut=function(e){var t,o;e.stopPropagation(),o=(t=r(e.currentTarget)).data("buttonName"),t.closest(".card__header").removeClass(o),t.closest(".card").removeClass("card--shaded")},o}(),h.SurveyApp=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,_),t.prototype.features={multipleQuestions:!0,skipLogic:!0,copyToLibrary:!0},t}(),h)}).call(this,o(19))},331:function(e,r){e.exports={addOptionButton:function(){return'<div class="card__addoptions">\n  <div class="card__addoptions__layer"></div>\n    <ul><li class="multioptions__option  xlf-option-view xlf-option-view--depr">\n      <div><div tabIndex="0" class="editable-wrapper"><span class="editable editable-click">+ '+t("Click to add another response...")+"</span></div><code><label>"+t("XML value:")+"</label> <span>"+t("AUTOMATIC")+"</span></code></div>\n    </li></ul>\n</div>"}}},332:function(e,r){e.exports={acceptedFilesInput:function(e,r){return"<div class='card__settings__fields__field'>\n  <label>"+t("Accepted files")+"</label>\n  <span class='settings__input'>\n    <input class='text' type='text' value='"+e+"' placeholder='"+r+"'/>\n  </span>\n</div>"}}},333:function(e,t){e.exports={booleanParam:function(e,t){var r;return"true"===t&&(r="checked"),"<div class='checkbox'>\n  <label class='checkbox__wrapper'>\n    <input class='checkbox__input' type='checkbox' "+r+"/>\n    <span class='checkbox__label'>"+e+"</span>\n  </label>\n</div>"},numberParam:function(e,t,r){var o,a;return void 0!==r&&(o="placeholder='"+r+"'"),""!==t?a="value='"+t+"'":void 0!==r&&(a="value='"+r+"'"),"<label class='text-box text-box--on-white'>\n  <span class='text-box__label'>"+e+"</span>\n  <input class='text-box__input' type='number' "+a+" "+o+"/>\n</label>"}}},334:function(e,r,o){var a,n;e.exports=(n=o(3).replaceSupportEmail,a='<div class="survey__row__spacer  row clearfix expanding-spacer-between-rows expanding-spacer-between-rows--depr">\n  <div tabIndex="0" class="js-expand-row-selector btn btn--addrow btn--block  btn-xs  btn-default"\n      ><i class="fa fa-plus"></i></div>\n  <div class="line">&nbsp;</div>\n</div>',{xlfRowView:function(e){var r;return r='<div class="survey__row__item survey__row__item--question card js-select-row">\n  <div class="card__header">\n    <div class="card__header--shade"><span></span></div>\n    <div class="card__indicator">\n      <div class="noop card__indicator__icon"><i class="fa fa-fw card__header-icon"></i></div>\n    </div>\n    <div class="card__text">\n      <input type="text" placeholder="'+t("Question label is required")+'" class="card__header-title js-card-label js-cancel-select-row js-cancel-sort">\n      <input type="text" placeholder="'+t("Question hint")+'" class="card__header-hint js-cancel-select-row js-cancel-sort">\n    </div>\n    <div class="card__buttons">\n      <span class="card__buttons__button card__buttons__button--settings card__buttons__button--gray js-toggle-card-settings" data-button-name="settings"><i class="fa fa-cog"></i></span>\n      <span class="card__buttons__button card__buttons__button--delete card__buttons__button--red js-delete-row" data-button-name="delete"><i class="fa fa-trash-o"></i></span>',e.features.multipleQuestions&&(r+='<span class="card__buttons__button card__buttons__button--copy card__buttons__button--blue js-clone-question" data-button-name="duplicate"><i class="fa fa-copy"></i></span>\n<span class="card__buttons__button card__buttons__button--add card__buttons__button--gray-green js-add-to-question-library" data-button-name="add-to-library"><i class="fa fa-folder-o"><i class="fa fa-plus"></i></i></span>'),r+"    </div>\n  </div>\n</div>\n"+a},expandChoiceList:function(){return"<span class=\"card__buttons__multioptions js-toggle-row-multioptions js-cancel-select-row\"><i class='right-and-down-caret' /></span>"},mandatorySettingSelector:function(e,r){var o;return o="true"===r||"false"===r?r:"custom",'<div class="card__settings__fields__field">\n  <label>'+t("Mandatory response")+':</label>\n  <span class="settings__input">\n    <div class="radio">\n      <label class="radio__row mandatory-setting__row mandatory-setting__row--true">\n        <input\n          class="radio__input js-mandatory-setting-radio"\n          type="radio"\n          name="'+e+'"\n          value="true" '+("true"===o?"checked":"")+'\n        >\n        <span class="radio__label">'+t("Yes")+'</span>\n      </label>\n      <label class="radio__row mandatory-setting__row mandatory-setting__row--false">\n        <input\n          class="radio__input js-mandatory-setting-radio"\n          type="radio"\n          name="'+e+'"\n          value="false" '+("false"===o?"checked":"")+'\n        >\n        <span class="radio__label">'+t("No")+'</span>\n      </label>\n      <label class="radio__row mandatory-setting__row mandatory-setting__row--custom">\n        <input\n          class="radio__input js-mandatory-setting-radio"\n          type="radio"\n          name="'+e+'"\n          value="custom" '+("custom"===o?"checked":"")+'\n        >\n        <span class="radio__label">'+t("Custom logic")+'</span>\n        <label class="text-box text-box--on-white">\n          <input\n            type="text"\n            class="text-box__input js-mandatory-setting-custom-text"\n            value="'+r+'"\n            placeholder="'+t("Mandatory when this formula is true")+'"\n          >\n        </label>\n      </label>\n    </div>\n  </span>\n</div>'},paramsSettingsField:function(){return'<div class="card__settings__fields__field params-view__settings-wrapper">\n  <label>'+t("Parameters")+':</label>\n  <span class="settings__input">\n    <div class="params-view"></div>\n  </span>\n</div>'},paramsSimple:function(){return'<div class="params-view__simple-wrapper">\n  <div class="params-view"></div>\n</div>'},selectQuestionExpansion:function(){return'<div class="card--selectquestion__expansion row__multioptions js-cancel-sort">\n  <div class="list-view">\n    <ul></ul>\n  </div>\n</div>'},groupView:function(){return'<div class="survey__row__item survey__row__item--group group card js-select-row">\n  <header class="group__header">\n    <i class="group__caret js-toggle-group-expansion fa fa-fw fa-caret-down"></i>\n    <input type="text" class="card__header-title js-card-label js-cancel-select-row js-cancel-sort">\n    <div class="group__header__buttons">\n      <span class="group__header__buttons__button group__header__buttons__button--settings js-toggle-card-settings"><i class="fa fa-cog"></i></span>\n      <span class="group__header__buttons__button group__header__buttons__button--delete js-delete-group"><i class="fa fa-trash-o"></i></span>\n    </div>\n  </header>\n  <ul class="group__rows">\n  </ul>\n</div>\n'+a},rowErrorView:function(e){return'<div class="card card--error">\n  '+t("Row could not be displayed:")+" <pre>"+e+"</pre>\n  <em>"+n(t("This question could not be imported. Please re-create it manually. Please contact us at help@kobotoolbox.org so we can fix this bug!"))+"</em>\n</div>\n"+a},koboMatrixView:function(){return'<div class="survey__row__item survey__row__item--question card js-select-row">\n  <div class="card__header">\n    <div class="card__header--shade"><span></span></div>\n    <div class="card__indicator">\n      <div class="noop card__indicator__icon"><i class="fa fa-fw card__header-icon fa-table"></i></div>\n    </div>\n    <div class="card__text">\n      <input type="text" placeholder="'+t("Question label is required")+'" class="card__header-title js-card-label js-cancel-select-row js-cancel-sort">\n    </div>\n    <div class="card__buttons">\n      <span class="card__buttons__button card__buttons__button--settings card__buttons__button--gray js-toggle-card-settings" data-button-name="settings"><i class="fa fa-cog"></i></span>\n      <span class="card__buttons__button card__buttons__button--delete card__buttons__button--red js-delete-row" data-button-name="delete"><i class="fa fa-trash-o"></i></span>\n    </div>\n  </div>\n  <p class="kobomatrix-warning">'+t("Note: The Matrix question type only works in Enketo web forms using the 'grid' style.")+'</p>\n\n  <div class="card__kobomatrix">  </div>\n</div>\n'+a},scoreView:function(e){var r,o,a,n,s,i,l,c,u,p,d,m;for(null==e&&(e={}),s=[],n=[],i=0,l=(u=e.score_choices).length;i<l;i++)a=u[i],s.push('<td class="scorecell__radio"><input type="radio" disabled="disabled"></td>'),o="",r="",a.autoname&&(o="scorecell__name--automatic",r='data-automatic-name="'+a.autoname+'" '),c='<p class="scorecell__name '+o+'" '+r+' contenteditable="true" title="Option value">'+(a.name||"")+"</p>",n.push('<th class="scorecell__col" data-cid="'+a.cid+'">\n  <span class="scorecell__label" contenteditable="true">'+a.label+'</span><button class="scorecell__delete js-delete-scorecol">&times;</button>\n  '+c+"\n</th>");return m=n.join(""),s=s.join(""),'<div class="score_preview">\n  <table class="score_preview__table">\n  <thead>\n    <th class="scorecell--empty"></th>\n    '+m+'\n    <th class="scorecell--add"><button class="kobo-button kobo-button--small">+</button></th>\n  </thead>\n  <tbody>\n    '+function(){var a,n,i,l;for(l=[],a=0,n=(i=e.score_rows).length;a<n;a++)p=i[a],r="",o="",p.autoname&&(o="scorelabel__name--automatic",r='data-automatic-name="'+p.autoname+'" '),d='<span class="scorelabel__name '+o+'" '+r+' contenteditable="true" title="'+t("Row name")+'">'+(p.name||"")+"</span>",l.push('<tr data-row-cid="'+p.cid+'">\n  <td class="scorelabel">\n    <span class="scorelabel__edit" contenteditable="true">'+p.label+'</span>\n    <button class="scorerow__delete js-delete-scorerow">&times;</button>\n    <br>\n    '+d+"\n  </td>\n  "+s+"\n</tr>");return l}().join("")+'\n  </tbody>\n  <tfoot>\n    <tr>\n    <td class="scorerow--add"><button class="kobo-button kobo-button--small kobo-button--fullwidth">+</button></td>\n    </tr>\n  </tfoot>\n</table>\n</div>'},rankView:function(e,r){var o,a,n,s,i,l;return null==r&&(r={}),i=function(){var e,t,s,i;for(i=[],e=0,t=(s=r.rank_levels).length;e<t;e++)n=s[e],a="",o="",o='data-automatic-name="'+n.automatic+'" ',n.set_automatic&&(a="rank_items__name--automatic"),i.push('<li class="rank_items__level" data-cid="'+n.cid+'">\n  <span class="rank_items__level__label">'+n.label+'</span><button class="rankcell__delete js-delete-rankcell">&times;</button>\n  <br>\n  <span class="rank_items__name '+a+'" '+o+">"+(n.name||"")+"</span>\n</li>");return i}(),l=function(){var e,t,s,i;for(i=[],e=0,t=(s=r.rank_rows).length;e<t;e++)n=s[e],a="",o="",o='data-automatic-name="'+n.automatic+'" ',n.set_automatic&&(a="rank_items__name--automatic"),i.push('<li class="rank_items__item" data-cid="'+n.cid+'">\n  <span class="rank_items__item__label">'+n.label+'</span><button class="rankcell__delete js-delete-rankcell">&times;</button>\n  <br>\n  <span class="rank_items__name '+a+'" '+o+">"+(n.name||"")+"</span>\n</li>");return i}(),s='<li class="rank_items__constraint_wrap">\n  <p class="rank_items__constraint_explanation">\n    '+t("A constraint message to be read in case of error:")+'\n  </p>\n  <p class="rank_items__constraint_message">\n    '+r.rank_constraint_msg+"\n  </p>\n</li>",'<div class="rank_preview clearfix">\n  <ol class="rank__rows">\n    '+l.join("")+'\n    <li class="rank_items__add rank_items__add--item"><button class="kobo-button kobo-button--small kobo-button--fullwidth">+</button></li>\n  </ol>\n  <ul class="rank__levels">\n    '+i.join("")+'\n    <li class="rank_items__add rank_items__add--level"><button class="kobo-button kobo-button--small kobo-button--fullwidth">+</button></li>\n    '+s+"\n  </ul>\n</div>"},groupSettingsView:function(){return'<section class="card__settings  row-extras row-extras--depr">\n  <i class="card__settings-close fa fa-times js-toggle-card-settings"></i>\n  <ul class="card__settings__tabs">\n    <li class="heading"><i class="fa fa-cog"></i> '+t("Settings")+'</li>\n    <li data-card-settings-tab-id="all" class="card__settings__tabs__tab--active">'+t("All group settings")+'</li>\n    <li data-card-settings-tab-id="skip-logic" class="">'+t("Skip Logic")+'</li>\n  </ul>\n  <div class="card__settings__content">\n    <div class="card__settings__fields card__settings__fields--active card__settings__fields--all">\n    </div>\n    <div class="card__settings__fields card__settings__fields--skip-logic"></div>\n  </div>\n</section>'},rowSettingsView:function(){return'<section class="card__settings  row-extras row-extras--depr">\n  <i class="card__settings-close fa fa-times js-toggle-card-settings"></i>\n  <ul class="card__settings__tabs">\n    <li class="heading"><i class="fa fa-cog"></i> '+t("Settings")+'</li>\n    <li data-card-settings-tab-id="question-options" class="card__settings__tabs__tab--active">'+t("Question Options")+'</li>\n    <li data-card-settings-tab-id="skip-logic" class="">'+t("Skip Logic")+'</li>\n    <li data-card-settings-tab-id="validation-criteria" class="">'+t("Validation Criteria")+'</li>\n  </ul>\n  <div class="card__settings__content">\n    <ul class="card__settings__fields card__settings__fields--active card__settings__fields--question-options">\n    </ul>\n\n    <ul class="card__settings__fields card__settings__fields--skip-logic">\n    </ul>\n\n    <ul class="card__settings__fields card__settings__fields--validation-criteria">\n    </ul>\n\n    <ul class="card__settings__fields card__settings__fields--response-type">\n    </ul>\n  </div>\n</section>'}})},335:function(e,t){e.exports=function(e){return"<code>"+e.model.key+":</code>\n<code>"+e.model.get("value")+"</code>"}},336:function(e,r){var o,a;e.exports=(o='<button type="button" class="row__questiontypes__close js-close-row-selector shrink pull-right close close-button close-button--depr" aria-hidden="true">&times;</button>',(a={}).line=function(e){return'<div class="row__questiontypes row-fluid clearfix">\n  '+o+'\n  <input type="text" value="'+e+'" class="row__questiontypes__new-question-name js-cancel-sort" />\n  <div class="row__questiontypes__list clearfix"></div>\n</div>'},a.cell=function(e){return'<div class="questiontypelist__item" data-menu-item="'+e.id+'">\n  <i class="fa fa-fw fa-'+e.faClass+'"></i>\n  '+e.label+"\n</div>"},a.namer=function(){return'<div class="row__questiontypes row__questiontypes--namer">\n  '+o+'\n  <form class="row__questiontypes__form" action="javascript:void(0);" >\n    <input type="text" class="js-cancel-sort mdl-textfield__input" />\n    <button class="kobo-button kobo-button--green">+ '+t("Add Question")+"</button>\n  </form>\n</div>"},a)},337:function(e,r){e.exports={surveyApp:function(e){var r,o,a,n;if(e.survey,n="",e.warnings&&e.warnings.length>0){for(n='<div class="survey-warnings">',r=0,o=(a=e.warnings).length;r<o;r++)n+='<p class="survey-warnings__warning">'+a[r]+"</p>";n+='<button class="survey-warnings__close-button js-close-warning">x</button></div>'}return n+'\n<div class="survey-editor form-editor-wrap container">\n  <ul class="-form-editor survey-editor__list">\n    <li class="survey-editor__null-top-row empty">\n      <p class="survey-editor__message well">\n        <b>'+t("This form is currently empty.")+"</b><br>\n        "+t("You can add questions, notes, prompts, or other fields by clicking on the '+' sign below.")+'\n      </p>\n      <div class="survey__row__spacer  expanding-spacer-between-rows expanding-spacer-between-rows--depr">\n        <div tabIndex="0" class="btn btn--block btn--addrow js-expand-row-selector">\n          <i class="fa fa-plus"></i>\n        </div>\n        <div class="line">&nbsp;</div>\n      </div>\n    </li>\n  </ul>\n</div>'}}},338:function(e,t){e.exports={xlfSurveyDetailView:function(e){return'<label title="'+(e.get("description")||"")+'">\n  <input type="checkbox">\n  '+e.get("label")+"\n</label>"}}},339:function(e,t,r){var o,a,n={}.hasOwnProperty;a=r(25),o=r(45),e.exports={SurveyDetailView:function(e){function t(e){t.__super__.constructor.apply(this,arguments),this.selector=e.selector}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(t,a.View),t.prototype.className="survey-header__option",t.prototype.events={"change input":"changeChkValue"},t.prototype.initialize=function(e){this.model=e.model},t.prototype.render=function(){return this.$el.append(o.$$render("xlfSurveyDetailView",this.model)),this.chk=this.$el.find("input"),this.model.get("value")&&this.chk.prop("checked",!0),this.changeChkValue(),this},t.prototype.changeChkValue=function(){return this.chk.prop("checked")?(this.$el.addClass("active"),this.model.set("value",!0)):(this.$el.removeClass("active"),this.model.set("value",!1))},t.prototype.attach_to=function(e){return e.find(this.selector).append(this.el)},t}()}},340:function(e,r,o){(function(r){var a,n,s,i,l,c,u,p,d,m,_,f,h,b,g,v,y,w,k,E=function(e,t){return function(){return e.apply(t,arguments)}},x=function(e,t){for(var r in t)S.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},S={}.hasOwnProperty,T=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1},O=[].slice;f=o(15),_=o(25),n=o(37),o(140),i=o(98),s=o(24),d=o(45),m=o(60),l=o(341),u=o(342),c=o(343),a=o(344),p=o(345),b=o(381).renderKobomatrix,h=o(14),e.exports=(v=function(e){function o(){return this._deleteGroup=E(this._deleteGroup,this),this.deleteGroup=E(this.deleteGroup,this),o.__super__.constructor.apply(this,arguments)}return x(o,e),o.prototype.className="survey__row survey__row--group  xlf-row-view xlf-row-view--depr",o.prototype.initialize=function(e){return this.options=e,this._shrunk=!!e.shrunk,this.$el.attr("data-row-id",this.model.cid),this.surveyView=this.options.surveyView},o.prototype.deleteGroup=function(e){return(r(e.currentTarget).hasClass("js-force-delete-group")||confirm(t("Are you sure you want to split apart this group?")))&&this._deleteGroup(),e.preventDefault()},o.prototype._deleteGroup=function(){return this.model.splitApart(),this.model._parent._parent.trigger("remove",this.model),this.surveyView.survey.trigger("change"),this.$el.detach()},o.prototype.render=function(){var e;return this.already_rendered||(this.$el.html(d.row.groupView(this.model)),this.$label=this.$(".js-card-label"),this.$rows=this.$(".group__rows").eq(0),this.$card=this.$(".card"),this.$header=this.$(".card__header,.group__header").eq(0)),this.model.rows.each((e=this,function(t){return e.getApp().ensureElInView(t,e,e.$rows).render()})),this.already_rendered||new p.DetailView({model:this.model.get("label"),rowView:this}).render().insertInDOM(this),this.already_rendered=!0,this},o.prototype.hasNestedGroups=function(){return f.filter(this.model.rows.models,function(e){return"group"===e.constructor.key}).length>0},o.prototype._expandedRender=function(){var e,r,o,a,n,s,i;for(this.$header.after(d.row.groupSettingsView()),this.cardSettingsWrap=this.$(".card__settings").eq(0),this.defaultRowDetailParent=this.cardSettingsWrap.find(".card__settings__fields--active").eq(0),e=0,o=(a=this.model.attributesArray()).length;e<o;e++)r=(n=a[e])[0],s=n[1],("name"===r||"_isRepeat"===r||"appearance"===r||"relevant"===r||r.match(/^.+::.+/))&&new p.DetailView({model:s,rowView:this}).render().insertInDOM(this);return this.model.on("add",(i=this,function(e){var r,o;if("group"===e.constructor.key)return(r=i.$(".xlf-dv-appearance").eq(0)).hide(),r.find("input:checkbox").prop("checked",!1),(o=i.model.get("appearance")).getValue()&&h.warning(t("You can't display nested groups on the same screen - the setting has been removed from the parent group")),o.set("value","")})),this.model.on("remove",function(e){return function(t){if("group"===t.constructor.key&&!e.hasNestedGroups())return e.$(".xlf-dv-appearance").eq(0).show()}}(this)),this},o}(g=function(e){function t(){return this.add_row_to_question_library=E(this.add_row_to_question_library,this),this.clone=E(this.clone,this),t.__super__.constructor.apply(this,arguments)}return x(t,e),t.prototype.tagName="li",t.prototype.className="survey__row  xlf-row-view xlf-row-view--depr",t.prototype.events={drop:"drop"},t.prototype.initialize=function(e){var t;return this.options=e,this.model.get("type"),this.$el.attr("data-row-id",this.model.cid),this.ngScope=e.ngScope,this.surveyView=this.options.surveyView,this.model.on("detail-change",(t=this,function(e,r,o){var a;return a=m.normalizeEventName("row-detail-change-"+e),t.$(".on-"+a).trigger(a,e,r,o)}))},t.prototype.drop=function(e,t){return this.$el.trigger("update-sort",[this.model,t])},t.prototype.getApp=function(){return this.surveyView.getApp()},t.prototype.render=function(e){var t,r;if(null==e&&(e={}),t=e.fixScroll,!this.already_rendered)return t&&this.$el.height(this.$el.height()),this.already_rendered=!0,this.model instanceof i.RowError?this._renderError():this._renderRow(),this.is_expanded=null!=(r=this.$card)?r.hasClass("card--expandedchoices"):void 0,t&&this.$el.attr("style",""),this},t.prototype._renderError=function(){var e;return this.$el.addClass("xlf-row-view-error"),e=m.cleanStringify(this.model.toJSON()),this.$el.html(d.$$render("row.rowErrorView",e)),this},t.prototype._renderRow=function(){var e,t,r,o,a,s,i,c,m;this.$el.html(d.$$render("row.xlfRowView",this.surveyView)),this.$label=this.$(".js-card-label"),this.$hint=this.$(".card__header-hint"),this.$card=this.$(".card"),this.$header=this.$(".card__header"),a=this.model.get("type").get("typeId"),n.questionParams[a]&&"getParameters"in this.model&&"range"===a&&(this.paramsView=new u.ParamsView({rowView:this,parameters:this.model.getParameters(),questionType:a}).render().insertInDOMAfter(this.$header)),"calculate"!==a&&"hidden"!==a||this.$hint.hide(),"getList"in this.model&&(e=this.model.getList())&&(this.$card.addClass("card--selectquestion card--expandedchoices"),this.is_expanded=!0,this.listView=new l.ListView({model:e,rowView:this}).render()),this.cardSettingsWrap=this.$(".card__settings").eq(0),this.defaultRowDetailParent=this.cardSettingsWrap.find(".card__settings__fields--question-options").eq(0);for(t=0,o=(s=this.model.attributesArray()).length;t<o;t++)r=(i=s[t])[0],c=i[1],"label"!==r&&"hint"!==r&&"type"!==r||(m=new p.DetailView({model:c,rowView:this}),"label"===r&&"calculate"===this.model.get("type").get("value")&&(m.model=this.model.get("calculation"),this.model.finalize(),c.set("value","")),m.render().insertInDOM(this));return this.model.getValue("required")&&this.$card.addClass("card--required"),this},t.prototype.toggleSettings=function(e){void 0===e&&(e=!this._settingsExpanded),e&&!this._settingsExpanded?(this._expandedRender(),this.$card.addClass("card--expanded-settings"),"function"==typeof this.hideMultioptions&&this.hideMultioptions(),this._settingsExpanded=!0):!e&&this._settingsExpanded&&(this.$card.removeClass("card--expanded-settings"),this._cleanupExpandedRender(),this._settingsExpanded=!1)},t.prototype._cleanupExpandedRender=function(){return this.$(".card__settings").detach()},t.prototype.clone=function(e){var t,r,o,a;return r=this.model._parent,t=this.model,"select_one"===(o=this.model.get("type").get("typeId"))||"select_multiple"===o?t=this.model.clone():"rank"!==(a=this.model.get("type").get("typeId"))&&"score"!==a||(t=this.model.clone()),this.model.getSurvey().insert_row.call(r._parent,t,r.models.indexOf(this.model)+1)},t.prototype.add_row_to_question_library=function(e){var t;return e.stopPropagation(),null!=(t=this.ngScope)?t.add_row_to_question_library(this.model,this.model.getSurvey()._initialParams):void 0},t}(_.View)),y=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,e),t.prototype.className="survey__row survey__row--kobo-matrix",t.prototype._expandedRender=function(){return t.__super__._expandedRender.call(this),this.$(".xlf-dv-required").hide(),this.$("li[data-card-settings-tab-id='validation-criteria']").hide(),this.$("li[data-card-settings-tab-id='skip-logic']").hide()},t.prototype._renderRow=function(){var e,t,r,o,a,n,s;for(this.$el.html(d.row.koboMatrixView()),this.matrix=this.$(".card__kobomatrix"),b(this,this.matrix),this.$label=this.$(".js-card-label"),this.$card=this.$(".card"),this.$header=this.$(".card__header"),e=0,r=(o=this.model.attributesArray()).length;e<r;e++)t=(a=o[e])[0],n=a[1],"label"!==t&&"type"!==t||(s=new p.DetailView({model:n,rowView:this}),"label"===t&&"calculate"===this.model.get("type").get("value")&&(s.model=this.model.get("calculation"),this.model.finalize(),n.set("value","")),s.render().insertInDOM(this));return this},t}(k=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,g),t.prototype._expandedRender=function(){var e,t,r,o,s,i,l,m;for(this.$header.after(d.row.rowSettingsView()),this.cardSettingsWrap=this.$(".card__settings").eq(0),this.defaultRowDetailParent=this.cardSettingsWrap.find(".card__settings__fields--question-options").eq(0),e=["label","hint","type","select_from_list_name","kobo--matrix_list","parameters"],t=0,o=(i=this.model.attributesArray()).length;t<o;t++)if(r=(l=i[t])[0],m=l[1],!r.match(/^\$/)&&T.call(e,r)<0)if("required"===r)this.mandatorySetting=new c.MandatorySettingView({model:this.model.get("required")}).render().insertInDOM(this);else{if("_isRepeat"===r&&"kobomatrix"===this.model.getValue("type"))continue;new p.DetailView({model:m,rowView:this}).render().insertInDOM(this)}return s=this.model.get("type").get("typeId"),n.questionParams[s]&&"getParameters"in this.model&&"range"!==s&&(this.paramsView=new u.ParamsView({rowView:this,parameters:this.model.getParameters(),questionType:s}).render().insertInDOM(this)),"file"===s&&(this.acceptedFilesView=new a.AcceptedFilesView({rowView:this,acceptedFiles:this.model.getAcceptedFiles()}).render().insertInDOM(this)),this},t.prototype.hideMultioptions=function(){return this.$card.removeClass("card--expandedchoices"),this.is_expanded=!1},t.prototype.showMultioptions=function(){return this.$card.addClass("card--expandedchoices"),this.$card.removeClass("card--expanded-settings"),this.toggleSettings(!1)},t.prototype.toggleMultioptions=function(){this.is_expanded?this.hideMultioptions():(this.showMultioptions(),this.is_expanded=!0)},t}()),{RowView:k,ScoreView:function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return x(o,e),o.prototype.className="survey__row survey__row--score",o.prototype._renderRow=function(){var e,a,n,i,l,c,u,p,m,_,f,h;for(a=1<=arguments.length?O.call(arguments,0):[],o.__super__._renderRow.call(this,a);this.model._scoreChoices.options.length<2;)this.model._scoreChoices.options.add({label:"Option"});return m=function(){var e,t,r,o,a;for(a=[],e=0,t=(r=this.model._scoreChoices.options.models).length;e<t;e++)p=r[e],n="",void 0!==(o=p.get("name"))&&""!==o||(n=s.sluggify(p.get("label"))),a.push({label:p.get("label"),name:p.get("name"),autoname:n,cid:p.cid});return a}.call(this),this.model._scoreRows.length<1&&this.model._scoreRows.add({label:t("Enter your question"),name:""}),f={score_rows:function(){var e,t,r,o,a;for(a=[],e=0,t=(r=this.model._scoreRows.models).length;e<t;e++)_=r[e],n=void 0===(o=_.get("name"))||""===o?s.sluggify(_.get("label"),{validXmlTag:!0}):"",a.push({label:_.get("label"),name:_.get("name"),autoname:n,cid:_.cid});return a}.call(this),score_choices:m},i=d.$$render("row.scoreView",f),this.$(".card--selectquestion__expansion").eq(0).append(i).addClass("js-cancel-select-row"),this.$(".score__contents--rows").eq(0),this.$(".score__contents--choices").eq(0),e=this.$el,u=function(t,r,o){return e.off(t).on(t,r,o)},h=this,c=function(e){return h.model._scoreRows.get(e)},l=function(e){return function(t){return e.model._scoreChoices.options.get(t)}}(this),u("click.deletescorerow",".js-delete-scorerow",function(e){return function(t){var o;return o=r(t.target).closest("tr").eq(0).data("row-cid"),e.model._scoreRows.remove(c(o)),e.already_rendered=!1,e.render({fixScroll:!0})}}(this)),u("click.deletescorecol",".js-delete-scorecol",function(e){return function(t){var o;return o=r(t.target),e.model._scoreChoices.options.remove(l(o.closest("th").data("cid"))),e.already_rendered=!1,e.render({fixScroll:!0})}}(this)),u("input.editscorelabel",".scorelabel__edit",function(e){var t,o;return o=(t=r(e.target)).closest("tr").eq(0).data("row-cid"),c(o).set("label",t.text())}),u("input.namechange",".scorelabel__name",function(e){var t,o,a,n;return n=(t=r(e.currentTarget)).closest("tr").eq(0).data("row-cid"),o=t.text(),a=s.sluggify(o,{validXmlTag:!0}),c(n).set("name",a),""===a?t.addClass("scorelabel__name--automatic"):t.removeClass("scorelabel__name--automatic"),t.off("blur"),t.on("blur",function(){return o!==a&&t.text(a),""===a?(t.addClass("scorelabel__name--automatic"),t.closest("td").find(".scorelabel__edit").trigger("keyup")):t.removeClass("scorelabel__name--automatic")})}),u("keyup.namekey",".scorelabel__edit",function(e){var t;return(t=r(e.currentTarget)).closest(".scorelabel").find(".scorelabel__name").attr("data-automatic-name",s.sluggify(t.text(),{validXmlTag:!0}))}),u("input.choicechange",".scorecell__label",function(e){var t;return t=r(e.target),l(t.closest("th").data("cid")).set("label",t.text())}),u("input.optvalchange",".scorecell__name",function(e){var t,o;return""===(o=(t=r(e.target)).text())?t.addClass("scorecell__name--automatic"):t.removeClass("scorecell__name--automatic"),l(t.closest("th").eq(0).data("cid")).set("name",o)}),u("keyup.optlabelchange",".scorecell__label",function(e){var t;return(t=r(e.currentTarget)).closest(".scorecell__col").find(".scorecell__name").attr("data-automatic-name",s.sluggify(t.text()))}),u("blur.choicechange",".scorecell__label",function(e){return function(t){return e.render()}}(this)),u("click.addchoice",".scorecell--add",function(e){return function(t){return e.already_rendered=!1,e.model._scoreChoices.options.add([{label:"Option"}]),e.render({fixScroll:!0})}}(this)),u("click.addrow",".scorerow--add",function(e){return function(t){return e.already_rendered=!1,e.model._scoreRows.add([{label:"Enter your question"}]),e.render({fixScroll:!0})}}(this))},o}(w=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,k),t.prototype._expandedRender=function(){return t.__super__._expandedRender.call(this),this.$(".xlf-dv-required").hide(),this.$("li[data-card-settings-tab-id='validation-criteria']").hide()},t}()),KoboMatrixView:y,GroupView:v,RankView:function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,w),t.prototype.className="survey__row survey__row--rank",t.prototype._renderRow=function(){var e,r,o,a,n,i,l,c,u,p,m;for(a=1<=arguments.length?O.call(arguments,0):[],t.__super__._renderRow.call(this,a),(m={}).rank_constraint_msg=null!=(p=this.model.get("kobo--rank-constraint-message"))?p.get("value"):void 0,i=2,this.model._rankRows.length>i&&(i=this.model._rankRows.length);this.model._rankLevels.options.length<i;)this.model._rankLevels.options.add({label:"Item to be ranked",name:""});for(c=function(){var t,a,n,i;for(i=[],t=0,a=(n=this.model._rankLevels.options.models).length;t<a;t++)l=n[t],r=l.get("label"),o=l.get("name"),e=s.sluggify(r),i.push({label:r,name:o,automatic:e,set_automatic:""===o,cid:l.cid});return i}.call(this),m.rank_levels=c;this.model._rankRows.length<1;)this.model._rankRows.add({label:"1st choice",name:""});return u=function(){var t,a,n,i;for(i=[],t=0,a=(n=this.model._rankRows.models).length;t<a;t++)l=n[t],r=l.get("label"),o=l.get("name"),e=s.sluggify(r,{validXmlTag:!0}),i.push({label:r,name:o,automatic:e,set_automatic:""===o,cid:l.cid});return i}.call(this),m.rank_rows=u,n=d.$$render("row.rankView",this,m),this.$(".card--selectquestion__expansion").eq(0).append(n).addClass("js-cancel-select-row"),this.editRanks()},t.prototype.editRanks=function(){var e,t,o,a;return this.$([".rank_items__item__label",".rank_items__level__label",".rank_items__constraint_message",".rank_items__name"].join(",")).attr("contenteditable","true"),e=this.$el,a=this,t=function(e){var t,o;return t=(o=r(e.target).parents("li").eq(0)).eq(0).data("cid"),o.hasClass("rank_items__level")?a.model._rankLevels.options.get(t):a.model._rankRows.get(t)},(o=function(t,r,o){return e.off(t).on(t,r,o)})("click.deleterankcell",".js-delete-rankcell",function(e){return function(o){var a,n;return a=0===r(o.target).parents(".rank__rows").length?e.model._rankLevels.options:e.model._rankRows,n=t(o),a.remove(n),e.already_rendered=!1,e.render({fixScroll:!0})}}(this)),o("input.ranklabelchange1",".rank_items__item__label",function(e){var o,a,n;return n=(o=r(e.currentTarget)).text(),a=s.sluggify(n,{validXmlTag:!0}),o.closest(".rank_items__item").find(".rank_items__name").attr("data-automatic-name",a),t(e).set("label",n)}),o("input.ranklabelchange2",".rank_items__level__label",function(e){var o,a,n;return n=(o=r(e.currentTarget)).text(),a=s.sluggify(n),o.closest(".rank_items__level").find(".rank_items__name").attr("data-automatic-name",a),t(e).set("label",n)}),o("input.ranklabelchange3",".rank_items__name",function(e){var o,a,n,i;return o=r(e.currentTarget),a=o.text(),i=o.parents(".rank_items__item").length>0,n=s.sluggify(a,{validXmlTag:i}),o.off("blur"),o.one("blur",function(){return""===n?o.addClass("rank_items__name--automatic"):(a!==n&&(log("changin"),o.text(n)),o.removeClass("rank_items__name--automatic"))}),t(e).set("name",n)}),o("focus",".rank_items__constraint_message--prelim",function(e){return r(e.target).removeClass("rank_items__constraint_message--prelim").empty()}),o("input.ranklabelchange4",".rank_items__constraint_message",function(e){return function(t){return e.model.get("kobo--rank-constraint-message").set("value",t.target.textContent)}}(this)),o("click.addrow",".rank_items__add",function(e){return function(t){var o,a;return 0===r(t.target).parents(".rank__rows").length?e.model._rankLevels.options.add({label:"Item",name:""}):(a="1st 2nd 3rd".split(" "),o=e.model._rankRows.length+1>a.length?e.model._rankRows.length+1+"th":a[e.model._rankRows.length],e.model._rankRows.add({label:o+" choice",name:""})),e.already_rendered=!1,e.render({fixScroll:!0})}}(this))},t}()})}).call(this,o(19))},341:function(e,r,o){(function(r){var a,n,s,i,l,c,u=function(e,t){for(var r in t)p.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;l=o(15),o(25),n=o(87),s=o(24),a=o(61),i=o(45),o(60),e.exports={ListView:function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,a),t.prototype.initialize=function(e){return this.rowView=e.rowView,this.model=e.model,this.list=this.model,this.row=this.rowView.model,r(r.parseHTML(i.row.selectQuestionExpansion())).insertAfter(this.rowView.$(".card__header")),this.$el=this.rowView.$(".list-view"),this.ulClasses=this.$("ul").prop("className")},t.prototype.render=function(){var e,t,o,a,n,s,l,u;if(0===(t=this.rowView.$el.find(".card__text")).find(".card__buttons__multioptions.js-expand-multioptions").length&&t.prepend(r.parseHTML(i.row.expandChoiceList())),this.$el.html(this.ul=r("<ul>",{class:this.ulClasses})),this.row.get("type").get("rowType").specifyChoice){for(l=this.model.options.models,o=a=0,n=l.length;a<n;o=++a)s=l[o],new c({model:s,cl:this.model}).render().$el.appendTo(this.ul);if(0===o)for(;o<2;)this.addEmptyOption("Option "+ ++o);this.$el.removeClass("hidden")}else this.$el.addClass("hidden");return this.ul.sortable({axis:"y",cursor:"move",distance:5,items:"> li",placeholder:"option-placeholder",opacity:.9,scroll:!1,deactivate:(u=this,function(){var e;return u.hasReordered&&(u.reordered(),null!=(e=u.model.getSurvey())&&e.trigger("change")),!0}),change:function(e){return function(){return e.hasReordered=!0}}(this)}),(e=r(i.$$render("xlfListView.addOptionButton"))).click(function(e){return function(){var t;return o=e.model.options.length,e.addEmptyOption("Option "+(o+1)),null!=(t=e.model.getSurvey())&&t.trigger("change"),e.$el.children().eq(0).children().eq(o).find("input.option-view-input").select()}}(this)),this.$el.append(e),this},t.prototype.addEmptyOption=function(e){var t,r;if(t=new n.Option({label:e}),this.model.options.add(t),new c({model:t,cl:this.model}).render().$el.appendTo(this.ul),2===(r=this.ul.find("li")).length)return r.find(".js-remove-option").removeClass("hidden")},t.prototype.reordered=function(e,t){var o,a,n,s,i;for(a=[],this.ul.find("> li").each(function(e,t){var o;if(o=r(t).data("optionId"))return a.push(o)}),i=n=0,s=a.length;n<s;i=++n)o=a[i],this.model.options.get(o).set("order",i,{silent:!0});return this.model.options.comparator="order",this.model.options.sort(),this.hasReordered=!1},t}(),OptionView:c=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return u(o,a),o.prototype.tagName="li",o.prototype.className="multioptions__option xlf-option-view xlf-option-view--depr",o.prototype.events={"keyup input":"keyupinput","keydown input":"keydowninput","click .js-remove-option":"remove"},o.prototype.initialize=function(e){this.options=e},o.prototype.render=function(){var e;return this.t=r('<i class="fa fa-trash-o js-remove-option">'),this.pw=r('<div class="editable-wrapper js-cancel-select-row">'),this.p=r('<input placeholder="'+t("This option has no name")+'" class="js-cancel-select-row option-view-input">'),this.c=r("<code><label>"+t("XML value:")+'</label> <input type="text" class="js-cancel-select-row"></input></code>'),this.d=r("<div>"),this.model?(this.p.val(this.model.get("label")||"Empty"),this.$el.attr("data-option-id",this.model.cid),r("input",this.c).val(this.model.get("name")||"AUTOMATIC"),this.model.set("setManually",!0)):(this.model=new n.Option,this.options.cl.options.add(this.model),this.p.val("Option "+(1+this.options.i)).addClass("preliminary")),this.p.change(function(e){var t;return t=e.currentTarget.value,this.saveValue(t)}.bind(this)),this.n=r("input",this.c),this.n.change(function(e){var t,r;return r=e.currentTarget.value,t=this.options.cl.getNames(),null!=this.model.get("name")&&r.toLowerCase()===this.model.get("name").toLowerCase()&&t.splice(l.indexOf(t,this.model.get("name")),1),""===r?(this.model.unset("name"),this.model.set("setManually",!1),r="AUTOMATIC",this.$el.trigger("choice-list-update",this.options.cl.cid)):(r=s.sluggify(r,{preventDuplicates:t,lowerCase:!1,lrstrip:!0,incrementorPadding:!1,characterLimit:40,validXmlTag:!1,nonWordCharsExceptions:"+-."}),this.model.set("name",r),this.model.set("setManually",!0),this.$el.trigger("choice-list-update",this.options.cl.cid)),{newValue:r}}.bind(this)),this.pw.html(this.p),this.pw.on("click",(e=this,function(t){if(!e.p.is(":hidden")&&t.target!==e.p[0])return e.p.click()})),this.d.append(this.pw),this.d.append(this.t),this.d.append(this.c),this.$el.html(this.d),this},o.prototype.keyupinput=function(e){var t;return t=this.$("input.inplace_field"),8===e.keyCode&&t.hasClass("empty")&&t.blur(),""===t.val()?t.addClass("empty"):t.removeClass("empty")},o.prototype.keydowninput=function(e){var t,o,a;if(13===e.keyCode)return e.preventDefault(),o=r("ul.ui-sortable").index(r(this.el).parent()),(t=(a=r("ul.ui-sortable").eq(o).children().find("input.option-view-input")).index(document.activeElement)+1)>=a.length&&r(this.el).parent().siblings().find("div.editable-wrapper").eq(0).focus(),a.eq(t).select()},o.prototype.remove=function(){var e,t,r;if(e=this.$el.parent(),null!=(r=this.model.getSurvey())&&r.trigger("change"),this.$el.remove(),this.model.destroy(),1===(t=e.find("li")).length)return t.find(".js-remove-option").addClass("hidden")},o.prototype.saveValue=function(e){var t,r,o;if((""+e).match(/\S/)||(e=!1),!e)return{newValue:this.model.get("label")};e=e.replace(/\t/g," "),this.model.set("label",e,{silent:!0}),t=this.options.cl.getNames(),this.model.get("setManually")||(o={preventDuplicates:t,lowerCase:!1,stripSpaces:!0,lrstrip:!0,incrementorPadding:3,validXmlTag:!0},this.model.set("name",s.sluggify(e,o))),this.$el.trigger("choice-list-update",this.options.cl.cid),null!=(r=this.model.getSurvey())&&r.trigger("change")},o}()}}).call(this,o(19))},342:function(e,t,r){(function(t){var o,a,n,s,i,l=function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty;r(15),r(25),a=r(37),o=r(61),n=r(45),e.exports=(i=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return l(r,o),r.prototype.initialize=function(e){var r,o;this.rowView=e.rowView,this.parameters=null!=(r=e.parameters)?r:{},this.questionType=e.questionType,this.typeConfig=a.questionParams[this.questionType],o="range"===this.questionType?n.row.paramsSimple():n.row.paramsSettingsField(),this.$el=t(t.parseHTML(o)),this.$paramsViewEl=this.$el.find(".params-view")},r.prototype.render=function(){var e,t,r;for(t in r=this.typeConfig)e=r[t],new s(t,e.type,e.defaultValue,this.parameters[t],this.onParamChange.bind(this)).render().$el.appendTo(this.$paramsViewEl);return this},r.prototype.onParamChange=function(e,t){this.parameters[e]=t,this.rowView.model.setParameters(this.parameters),this.rowView.model.getSurvey().trigger("change")},r.prototype.insertInDOM=function(e){this.$el.appendTo(e.defaultRowDetailParent)},r.prototype.insertInDOMAfter=function(e){this.$el.insertAfter(e)},r}(),s=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return l(r,o),r.prototype.className="param-option js-cancel-sort js-cancel-select-row",r.prototype.events={"input input":"onChange"},r.prototype.initialize=function(e,t,r,o,a){this.paramName=e,this.paramType=t,this.paramDefault=r,this.paramValue=null!=o?o:"",this.onParamChange=a,""===this.paramValue&&void 0!==this.paramDefault&&this.onParamChange(this.paramName,this.paramDefault)},r.prototype.render=function(){var e;return e=t(n.$$render("ParamsView."+this.paramType+"Param",this.paramName,this.paramValue,this.paramDefault)),this.$el.html(e),this},r.prototype.onChange=function(e){var t;this.paramType===a.paramTypes.number?""===(t=e.currentTarget.value)&&void 0!==this.paramDefault&&(t=""+this.paramDefault):this.paramType===a.paramTypes.boolean&&(t=e.currentTarget.checked),this.onParamChange(this.paramName,t)},r}(),{ParamsView:i})}).call(this,r(19))},343:function(e,t,r){(function(t){var o,a,n={}.hasOwnProperty;r(15),r(25),r(37),o=r(61),a=r(45),e.exports={MandatorySettingView:function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(r,o),r.prototype.className="mandatory-setting",r.prototype.events={"input .js-mandatory-setting-radio":"onRadioChange","keyup .js-mandatory-setting-custom-text":"onCustomTextKeyup","blur .js-mandatory-setting-custom-text":"onCustomTextBlur"},r.prototype.initialize=function(e){this.model=e.model,this.model&&this.model.on("change",this.render,this)},r.prototype.render=function(){var e,r;return e=this.getChangedValue(),r=t(a.$$render("row.mandatorySettingSelector","required_"+this.model.cid,e)),this.$el.html(r),this},r.prototype.insertInDOM=function(e){this.$el.appendTo(e.defaultRowDetailParent)},r.prototype.onRadioChange=function(e){var t;"custom"===(t=e.currentTarget.value)?(this.setNewValue(""),this.$el.find(".js-mandatory-setting-custom-text").focus()):this.setNewValue(t)},r.prototype.onCustomTextKeyup=function(e){"Enter"!==e.key&&13!==e.keyCode&&13!==e.which||e.target.blur()},r.prototype.onCustomTextBlur=function(e){var t;t=e.currentTarget.value,this.setNewValue(t)},r.prototype.getChangedValue=function(){var e,t,r,o,a;return a=this.model.getValue(),e=null!=(t=this.model.changed)&&null!=(r=t.required)&&null!=(o=r.attributes)?o.value:void 0,String(void 0!==e?e:a)},r.prototype.setNewValue=function(e){this.model.set("value",e)},r}()}}).call(this,r(19))},344:function(e,r,o){(function(r){var a,n,s={}.hasOwnProperty;o(25),a=o(61),n=o(45),e.exports={AcceptedFilesView:function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)s.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(o,a),o.prototype.className="accepted-files card__settings__fields__field",o.prototype.events={"input input":"onChange"},o.prototype.placeholder=t('e.g. ".pdf,.doc,.odt"'),o.prototype.initialize=function(e){var t;this.rowView=e.rowView,this.acceptedFiles=null!=(t=e.acceptedFiles)?t:""},o.prototype.render=function(){var e;return e=r(n.$$render("AcceptedFilesView.input",this.acceptedFiles,this.placeholder)),this.$el.html(e),this},o.prototype.insertInDOM=function(e){this.$el.appendTo(e.defaultRowDetailParent)},o.prototype.onChange=function(e){this.acceptedFiles=e.currentTarget.value,this.rowView.model.setAcceptedFiles(this.acceptedFiles),this.rowView.model.getSurvey().trigger("change")},o}()}}).call(this,o(19))},345:function(e,r,o){(function(r){var a,n,s,i,l,c,u,p,d={}.hasOwnProperty,m=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};u=o(15),c=o(25),i=o(24),a=o(37),o(60),s=o(141),n=o(346),o(86),l=o(45),e.exports=((p={}).DetailView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)d.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(t,c.View),t.prototype.className="card__settings__fields__field  dt-view dt-view--depr",t.prototype.initialize=function(e){if(this.rowView=e.rowView,!this.model.key)throw new Error("RowDetail does not have key");return this.extraClass="xlf-dv-"+this.model.key,u.extend(this,p.DetailViewMixins[this.model.key]||p.DetailViewMixins.default),this.$el.addClass(this.extraClass)},t.prototype.render=function(){var e;return(e=this.html())&&this.$el.html(e),this.afterRender&&this.afterRender(),this},t.prototype.html=function(){return l.$$render("xlfDetailView",this)},t.prototype.listenForCheckboxChange=function(e){var t,o,n,s,i,l;return null==e&&(e={}),s=e.el||this.$("input[type=checkbox]").get(0),t=r(s),n=!1,o="required"===this.model.key,l=this,i=function(){var e;if(!n&&(!0===(e=l.model.get("value"))||m.call(a.truthyValues,e)>=0))return t.prop("checked",!0)},this.model.on("change:value",i),i(),t.on("change",function(e){return function(){return n=!0,e.model.set("value",t.prop("checked")),o&&t.parents(".card").eq(0).toggleClass("card--required",t.prop("checked")),n=!1}}(this))},t.prototype.listenForInputChange=function(e){var t,o,n,s,i,l,c,p;null==e&&(e={}),n=e.el||this.$("input").get(0),t=r(n),c=e.transformFn||!1,i=e.inputType,s=!1,p=this,o=function(e){if(!s)return s=!0,p.model.set("value",e),l(!0),s=!1},(l=function(e){return function(r){var o;if(null==r&&(r=!1),r||!s)return o=e.model.get("value"),"checkbox"===i?(u.isBoolean(o)||(o=m.call(a.truthyValues,o)>=0),t.prop("checked",o)):t.val(o)}}(this))(),this.model.on("change:value",l),t.on("change",function(){var e;return e=t.val(),c&&(e=c(e)),o(e)}),t.on("keyup",function(e){if("Enter"===e.key||13===e.keyCode)return t.blur()})},t.prototype._insertInDOM=function(e,t){return e[t||"append"](this.el)},t.prototype.insertInDOM=function(e){return this._insertInDOM(e.defaultRowDetailParent)},t}(),p.Templates={textbox:function(e,t,r,o){return null==r&&(r=t),null==o&&(o=""),this.field('<input type="text" name="'+t+'" id="'+e+'" class="'+o+'" />',e,r)},checkbox:function(e,r,o,a){return null==o&&(o=r),null==a&&(a=t("Yes")),a=a,this.field('<input type="checkbox" name="'+r+'" id="'+e+'"/> <label for="'+e+'">'+a+"</label>",e,o)},dropdown:function(e,t,r,o){var a,n,s,i;for(null==o&&(o=t),s='<select id="'+e+'">',a=0,n=r.length;a<n;a++)s+='<option value="'+(i=r[a])+'">'+i+"</option>";return s+="</select>",this.field(s,e,o)},hxlTags:function(e,t,r,o,a,n){var s;return null==r&&(r=t),null==o&&(o=""),null==a&&(a=""),null==n&&(n=""),s='<input type="text" name="'+t+'" id="'+e+'" class="hxlValue hidden" value="'+o+'"  />',s+=' <div class="settings__hxl"><input id="'+e+'-tag" class="hxlTag" value="'+a+'" type="hidden" />',s+=' <input id="'+e+'-attrs" class="hxlAttrs" value="'+n+'" type="hidden" /></div>',this.field(s,e,r)},field:function(e,t,r){return'<div class="card__settings__fields__field">\n  <label for="'+t+'">'+r+':</label>\n  <span class="settings__input">\n    '+e+"\n  </span>\n</div>"}},p.DetailViewMixins={},p.DetailViewMixins.type={html:function(){return!1},insertInDOM:function(e){var t,r,o;if(o=this.model.get("typeId"),"Group"!==this.model._parent.constructor.kls)return(t=null!=(r=s.get(o))?r.get("faClass"):void 0)||("undefined"!=typeof console&&null!==console&&console.error("could not find icon for type: "+o),t="fighter-jet"),e.$el.find(".card__header-icon").addClass("fa-"+t)}},p.DetailViewMixins.label={html:function(){return!1},insertInDOM:function(e){return e.$label.value=this.model.get("value"),this},afterRender:function(){this.listenForInputChange({el:this.rowView.$label,transformFn:function(e){return(e=e.replace(new RegExp(String.fromCharCode(160),"g"),"")).replace(/\t/g," ")}})}},p.DetailViewMixins.hint={html:function(){return!1},insertInDOM:function(e){return e.$hint.value=this.model.get("value"),this},afterRender:function(){this.listenForInputChange({el:this.rowView.$hint})}},p.DetailViewMixins.guidance_hint={html:function(){return this.$el.addClass("card__settings__fields--active"),p.Templates.textbox(this.cid,this.model.key,t("Guidance hint"),"text")},afterRender:function(){return this.listenForInputChange()}},p.DetailViewMixins.constraint_message={html:function(){return this.$el.addClass("card__settings__fields--active"),p.Templates.textbox(this.cid,this.model.key,t("Error Message"),"text")},insertInDOM:function(e){return this._insertInDOM(e.cardSettingsWrap.find(".card__settings__fields--validation-criteria").eq(0))},afterRender:function(){return this.listenForInputChange()}},p.DetailViewMixins.parameters={html:function(){return!1},insertInDOM:function(e){}},p.DetailViewMixins["body::accept"]={html:function(){return!1},insertInDOM:function(e){}},p.DetailViewMixins.relevant={html:function(){return this.$el.addClass("card__settings__fields--active"),'<div class="card__settings__fields__field relevant__editor">\n</div>'},afterRender:function(){return this.$el.find(".relevant__editor").html('<div class="skiplogic__main"></div>\n<p class="skiplogic__extras">\n</p>'),this.target_element=this.$(".skiplogic__main"),this.model.facade.render(this.target_element)},insertInDOM:function(e){return this._insertInDOM(e.cardSettingsWrap.find(".card__settings__fields--skip-logic").eq(0))}},p.DetailViewMixins.constraint={html:function(){return this.$el.addClass("card__settings__fields--active"),'<div class="card__settings__fields__field constraint__editor">\n</div>'},afterRender:function(){return this.$el.find(".constraint__editor").html('<div class="skiplogic__main"></div>\n<p class="skiplogic__extras">\n</p>'),this.target_element=this.$(".skiplogic__main"),this.model.facade.render(this.target_element)},insertInDOM:function(e){return this._insertInDOM(e.cardSettingsWrap.find(".card__settings__fields--validation-criteria"))}},p.DetailViewMixins.name={html:function(){return this.fieldTab="active",this.$el.addClass("card__settings__fields--"+this.fieldTab),p.Templates.textbox(this.cid,this.model.key,t("Data column name"),"text")},afterRender:function(){var e,t;return this.listenForInputChange({transformFn:(t=this,function(e){var r;return r=e.split(""),/[\w_]/.test(r[0])||r.unshift("_"),t.model.set("value",e),t.model.deduplicate(t.model.getSurvey())})}),(e=function(e){return function(){return e.$el.find("input").eq(0).val(e.model.get("value")||i.sluggifyLabel(e.model._parent.getValue("label")))}}(this))(),this.model._parent.get("label").on("change:value",e)}},p.DetailViewMixins.tags={html:function(){var e,r,o,a,n;return this.fieldTab="active",this.$el.addClass("card__settings__fields--"+this.fieldTab),a=t("HXL"),this.model.get("value")?(n=this.model.get("value"),o="",e=[],r="",u.isArray(n)&&u.map(n,function(t,r){if(t.indexOf("hxl:")>-1&&((t=t.replace("hxl:","")).indexOf("#")>-1&&(o=t),t.indexOf("+")>-1))return t=t.replace("+",""),e.push(t)}),u.isArray(e)&&(r=e.join(",")),p.Templates.hxlTags(this.cid,this.model.key,a,this.model.get("value"),o,r)):p.Templates.hxlTags(this.cid,this.model.key,a)},afterRender:function(){var e;return this.$el.find("input.hxlTag").select2({tags:n.dict,maximumSelectionSize:1,placeholder:t("#tag"),tokenSeparators:["+",",",":"],formatSelectionTooBig:t("Only one HXL tag allowed per question. "),createSearchChoice:this._hxlTagCleanup}),this.$el.find("input.hxlAttrs").select2({tags:[],tokenSeparators:["+",",",":"],formatNoMatches:t("Type attributes for this tag"),placeholder:t("Attributes"),createSearchChoice:this._hxlAttrCleanup,allowClear:1}),this.$el.find("input.hxlTag").on("change",(e=this,function(){return e._hxlUpdate()})),this.$el.find("input.hxlAttrs").on("change",function(e){return function(){return e._hxlUpdate()}}(this)),this.$el.find("input.hxlTag").on("select2-selecting",function(e){return function(t){return e._hxlTagSelecting(t)}}(this)),this.$el.find(".hxlTag input.select2-input").on("keyup",function(e){return function(t){return e._hxlTagSanitize(t)}}(this)),this.listenForInputChange({el:this.$el.find("input.hxlValue").eq(0)})},_hxlUpdate:function(e){var t,r,o,a;return a=this.$el.find("input.hxlTag").val(),r=(r=this.$el.find("input.hxlAttrs").val()).replace(/,/g,"+"),o=[],a?(this.$el.find("input.hxlAttrs").select2("enable",!0),o.push("hxl:"+a),r&&(t=r.split("+"),u.map(t,function(e){return o.push("hxl:+"+e)}))):this.$el.find("input.hxlAttrs").select2("enable",!1),this.model.set("value",o),this.model.trigger("change")},_hxlTagCleanup:function(e){var t;if(e.length>=2)return t=/\W+/g,{id:e="#"+e.replace(t,"").toLowerCase(),text:e}},_hxlTagSanitize:function(e){var t;if(e.target.value.length>=2)return t=/\W+/g,e.target.value="#"+e.target.value.replace(t,"")},_hxlTagSelecting:function(e){if(e.val.length<2)return e.preventDefault()},_hxlAttrCleanup:function(e){var t;return t=/\W+/g,{id:e=e.replace(t,"").toLowerCase(),text:e}}},p.DetailViewMixins.default={html:function(){var e;return this.fieldTab="active",this.$el.addClass("card__settings__fields--"+this.fieldTab),e="default"===this.model.key?t("Default response"):this.model.key.replace(/_/g," "),p.Templates.textbox(this.cid,this.model.key,e,"text")},afterRender:function(){return this.$el.find("input").eq(0).val(this.model.get("value")),this.listenForInputChange()}},p.DetailViewMixins.calculation={html:function(){return!1},insertInDOM:function(e){}},p.DetailViewMixins._isRepeat={html:function(){return this.$el.addClass("card__settings__fields--active"),p.Templates.checkbox(this.cid,this.model.key,t("Repeat"),t("Repeat this group if necessary"))},afterRender:function(){return this.listenForCheckboxChange()}},p.DetailViewMixins.required={html:function(){return!1},insertInDOM:function(){}},p.DetailViewMixins.appearance={getTypes:function(){return{text:["multiline","numbers"],select_one:["minimal","quick","horizontal-compact","horizontal","likert","compact","quickcompact","label","list-nolabel"],select_multiple:["minimal","horizontal-compact","horizontal","compact","label","list-nolabel"],image:["signature","draw","annotate"],date:["month-year","year"],group:["select","field-list","table-list","other"]}[this.model._parent.getValue("type").split(" ")[0]]},html:function(){var e;return this.$el.addClass("card__settings__fields--active"),this.model_is_group(this.model)?p.Templates.checkbox(this.cid,this.model.key,t("Appearance (advanced)"),t("Show all questions in this group on the same screen")):null!=(e=this.getTypes())?(e.push("other"),e.unshift("select"),p.Templates.dropdown(this.cid,this.model.key,e,t("Appearance (advanced)"))):p.Templates.textbox(this.cid,this.model.key,t("Appearance (advanced)"),"text")},model_is_group:function(e){return"group"===e._parent.constructor.key},afterRender:function(){var e,t,o,a;return t=this.$("select"),o=this.model.get("value"),t.length>0?(e=r("<input/>",{class:"text",type:"text",width:"auto"}),""!==o&&(null!=this.getTypes()&&m.call(this.getTypes(),o)>=0?t.val(o):(t.val("other"),this.$(".settings__input").append(e),this.listenForInputChange({el:e}))),t.change((a=this,function(){return"other"===t.val()?(a.model.set("value",""),a.$(".settings__input").append(e),a.listenForInputChange({el:e})):"select"===t.val()?a.model.set("value",""):(a.model.set("value",t.val()),e.remove())}))):"text"===(e=this.$("input")).attr("type")?(this.$("input[type=text]").val(o),this.listenForInputChange()):"checkbox"===e.attr("type")?("field-list"===this.model.get("value")&&e.prop("checked",!0),e.on("change",function(t){return function(){return e.prop("checked")?t.model.set("value","field-list"):t.model.set("value","")}}(this))):void 0}},p)}).call(this,o(19))},346:function(e,t){t.dict=["#activity","#adm1","#adm2","#adm3","#adm4","#adm5","#affected","#beneficiary","#capacity","#cause","#country","#crisis","#date","#description","#geo","#impact","#indicator","#inneed","#loc","#meta","#operations","#org","#output","#population","#reached","#region","#sector","#severity","#subsector","#targeted"]},36:function(e,t,r){"use strict";var o=r(15),a=r(7),n=r.n(a),s=r(13),i=r(43),l=r(12),c=r(39),u=r(5),p=r(21),d=r(2),m=n.a.createStore({abortFetchData:void 0,previousPath:s.f.getCurrentLocation().pathname,previousSearchPhrase:i.b.getSearchPhrase(),PAGE_SIZE:100,DEFAULT_ORDER_COLUMN:p.a["date-modified"],isVirgin:!0,data:{isFetchingData:!1,currentPage:0,totalPages:null,totalUserAssets:null,totalSearchAssets:null,assets:[],metadata:{}},init:function(){this.fetchDataDebounced=o.default.debounce(this.fetchData.bind(!0),2500),this.setDefaultColumns(),s.f.listen(this.onRouteChange.bind(this)),i.b.listen(this.searchBoxStoreChanged),u.a.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted),u.a.library.subscribeToCollection.completed.listen(this.fetchData.bind(this,!0)),u.a.library.unsubscribeFromCollection.completed.listen(this.fetchData.bind(this,!0)),u.a.library.searchMyLibraryAssets.started.listen(this.onSearchStarted),u.a.library.searchMyLibraryAssets.completed.listen(this.onSearchCompleted),u.a.library.searchMyLibraryAssets.failed.listen(this.onSearchFailed),u.a.library.searchMyLibraryMetadata.completed.listen(this.onSearchMetadataCompleted),u.a.resources.loadAsset.completed.listen(this.onAssetChanged),u.a.resources.updateAsset.completed.listen(this.onAssetChanged),u.a.resources.cloneAsset.completed.listen(this.onAssetCreated),u.a.resources.createResource.completed.listen(this.onAssetCreated),u.a.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted),u.a.resources.createImport.completed.listen(this.fetchDataDebounced),u.a.permissions.getConfig.completed.listen(this.startupStore)},startupStore:function(){this.isVirgin&&Object(c.c)()&&!this.data.isFetchingData&&this.fetchData(!0)},setDefaultColumns:function(){this.data.orderColumnId=this.DEFAULT_ORDER_COLUMN.id,this.data.orderValue=this.DEFAULT_ORDER_COLUMN.defaultValue,this.data.filterColumnId=null,this.data.filterValue=null},getSearchParams:function(){var e={searchPhrase:i.b.getSearchPhrase(),pageSize:this.PAGE_SIZE,page:this.data.currentPage,collectionsFirst:!0};if(null!==this.data.filterColumnId){var t=p.a[this.data.filterColumnId];e.filterProperty=t.filterBy,e.filterValue=this.data.filterValue}return void 0!==e.filterValue&&(e.filterValue=JSON.stringify(e.filterValue)),e},fetchMetadata:function(){u.a.library.searchMyLibraryMetadata(this.getSearchParams())},fetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.abortFetchData&&this.abortFetchData();var t=this.getSearchParams();t.metadata=e;var r=p.a[this.data.orderColumnId],o=this.data.orderValue===p.c.ascending?"":"-";t.ordering="".concat(o).concat(r.orderBy),u.a.library.searchMyLibraryAssets(t)},onRouteChange:function(e){this.isVirgin&&Object(c.c)()&&!this.data.isFetchingData?this.fetchData(!0):("library"!==this.previousPath.split("/")[1]||this.previousPath.startsWith(d.ROUTES.PUBLIC_COLLECTIONS))&&Object(c.c)()&&(this.setDefaultColumns(),this.fetchData(!0)),this.previousPath=e.pathname},searchBoxStoreChanged:function(){i.b.getContext()===i.a.MY_LIBRARY&&i.b.getSearchPhrase()!==this.previousSearchPhrase&&(this.data.currentPage=0,this.data.totalPages=null,this.data.totalSearchAssets=null,this.previousSearchPhrase=i.b.getSearchPhrase(),this.fetchData(!0))},onSearchStarted:function(e){this.abortFetchData=e,this.data.isFetchingData=!0,this.trigger(this.data)},onSearchCompleted:function(e){delete this.abortFetchData,this.data.totalPages=Math.ceil(e.count/this.PAGE_SIZE),this.data.assets=e.results,e.metadata&&(this.data.metadata=e.metadata),this.data.totalSearchAssets=e.count,null!==this.data.totalUserAssets&&""!==i.b.getSearchPhrase()||(this.data.totalUserAssets=this.data.totalSearchAssets),this.data.isFetchingData=!1,this.isVirgin=!1,this.trigger(this.data)},onSearchFailed:function(){delete this.abortFetchData,this.data.isFetchingData=!1,this.trigger(this.data)},onSearchMetadataCompleted:function(e){this.data.metadata=e,this.trigger(this.data)},onMoveToCollectionCompleted:function(e){l.b.isLibraryAsset(e.asset_type)&&(null===e.parent?this.data.totalUserAssets++:this.data.totalUserAssets--,this.fetchData(!0))},onAssetChanged:function(e){if(l.b.isLibraryAsset(e.asset_type)&&0!==this.data.assets.length){for(var t=!1,r=0;r<this.data.assets.length;r++){var o=this.data.assets[r];if(o.uid===e.uid&&(o.date_modified!==e.date_modified||o.version_id!==e.version_id)){this.data.assets[r]=e,t=!0;break}}t&&(this.trigger(this.data),this.fetchMetadata())}},onAssetCreated:function(e){l.b.isLibraryAsset(e.asset_type)&&null===e.parent&&(this.data.totalUserAssets++,this.fetchData(!0))},onDeleteAssetCompleted:function(e){var t=e.uid,r=e.assetType;l.b.isLibraryAsset(r)&&this.findAsset(t)&&(this.data.totalUserAssets--,this.fetchData(!0))},setCurrentPage:function(e){this.data.currentPage=e,this.fetchData()},setOrder:function(e,t){this.data.orderColumnId===e&&this.data.orderValue===t||(this.data.orderColumnId=e,this.data.orderValue=t,this.fetchData())},setFilter:function(e,t){this.data.filterColumnId===e&&this.data.filterValue===t||(this.data.filterColumnId=e,this.data.filterValue=t,this.data.currentPage=0,this.fetchData(!0))},resetOrderAndFilter:function(){this.setDefaultColumns(),this.fetchData(!0)},hasAllDefaultValues:function(){return this.data.orderColumnId===this.DEFAULT_ORDER_COLUMN.id&&this.data.orderValue===this.DEFAULT_ORDER_COLUMN.defaultValue&&null===this.data.filterColumnId&&null===this.data.filterValue},getCurrentUserTotalAssets:function(){return this.data.totalUserAssets},findAsset:function(e){return this.data.assets.find(function(t){return t.uid===e})},findAssetByUrl:function(e){return this.data.assets.find(function(t){return t.url===e})}}),_=m;t.a=_,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"myLibraryStore","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/myLibraryStore.es6"),__REACT_HOT_LOADER__.register(_,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/myLibraryStore.es6"))},37:function(e,t,r){var o,a,n,s,i,l,c,u,p,d,m=function(e,t){for(var r in t)_.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},_={}.hasOwnProperty;n=r(15),a=r(25),o=r(24),e.exports=((s={}).defaultSurveyDetails={start_time:{name:"start",label:"start time",description:"Records when the survey was begun",default:!0},end_time:{name:"end",label:"end time",description:"records when the survey was marked as completed",default:!0},today:{name:"today",label:"today",description:"includes today's date",default:!1},username:{name:"username",label:"username",description:"includes interviewer's username",default:!1},simserial:{name:"simserial",label:"sim serial",description:"records the serial number of the network sim card",default:!1},subscriberid:{name:"subscriberid",label:"subscriber id",description:"records the subscriber id of the sim card",default:!1},deviceid:{name:"deviceid",label:"device id",aliases:["imei"],description:"Records the internal device ID number (works on Android phones)",default:!1},phoneNumber:{name:"phonenumber",label:"phone number",description:"Records the device's phone number, when available",default:!1},audit:{name:"audit",label:"audit",description:"Records the behavior of enumerators as they navigate through a form",default:!1}},i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype._forSurvey=function(){return{name:this.get("name"),label:this.get("label"),description:this.get("description")}},t}(a.Model),s.SurveyDetailSchema=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.model=i,t.prototype.typeList=function(){var e;return this._typeList||(this._typeList=function(){var t,r,o,a;for(a=[],t=0,r=(o=this.models).length;t<r;t++)e=o[t],a.push(e.get("name"));return a}.call(this)),this._typeList},t}(a.Collection),s.surveyDetailSchema=new s.SurveyDetailSchema(n.values(s.defaultSurveyDetails)),s.defaultsGeneral={label:{value:"New Question"}},s.defaultsForType={geotrace:{label:{value:"Record a line"},required:{value:!1,_hideUnlessChanged:!0}},geoshape:{label:{value:"Record an area"},required:{value:!1,_hideUnlessChanged:!0}},geopoint:{label:{value:"Record your current location"},required:{value:!1,_hideUnlessChanged:!0}},image:{label:{value:"Point and shoot! Use the camera to take a photo"}},video:{label:{value:"Use the camera to record a video"}},audio:{label:{value:"Use the camera's microphone to record a sound"}},file:{label:{value:"Upload a file"}},note:{label:{value:"This note can be read out loud"},required:{value:!1,_hideUnlessChanged:!0}},integer:{label:{value:"Enter a number"}},barcode:{label:{value:"Use the camera to scan a barcode"}},decimal:{label:{value:"Enter a number"}},date:{label:{value:"Enter a date"}},range:{label:{value:"Enter a number within a specified range"}},calculate:{calculation:{value:""},label:{value:"calculation"},required:{value:!1,_hideUnlessChanged:!0}},hidden:{label:{value:"hidden"},required:{value:!1,_hideUnlessChanged:!0}},datetime:{label:{value:"Enter a date and time"}},time:{label:{value:"Enter a time"}},acknowledge:{label:{value:"Acknowledge"}}},s.paramTypes={number:"number",boolean:"boolean"},s.questionParams={range:{start:{type:s.paramTypes.number,defaultValue:0},end:{type:s.paramTypes.number,defaultValue:10},step:{type:s.paramTypes.number,defaultValue:1}},image:{"max-pixels":{type:s.paramTypes.number,defaultValue:1024}},select_one:{randomize:{type:s.paramTypes.boolean},seed:{type:s.paramTypes.number}},select_multiple:{randomize:{type:s.paramTypes.boolean},seed:{type:s.paramTypes.number}}},s.columns=["type","name","label","hint","guidance_hint","required","relevant","default","constraint"],s.lookupRowType=(p=[["note","Note",{preventRequired:!0}],["acknowledge","Acknowledge"],["text","Text"],["integer","Integer"],["decimal","Decimal"],["range","Range"],["geopoint","Geopoint (GPS)"],["geotrace","Geotrace (GPS)"],["geoshape","Geoshape (GPS)"],["image","Image",{isMedia:!0}],["barcode","Barcode / QR code"],["date","Date"],["time","Time"],["datetime","Date and Time"],["audio","Audio",{isMedia:!0}],["video","Video",{isMedia:!0}],["file","File"],["calculate","Calculate"],["hidden","Hidden"],["select_one","Select",{orOtherOption:!0,specifyChoice:!0}],["score","Score"],["score__row","Score Row"],["rank","Rank"],["kobomatrix","Advanced Matrix"],["rank__level","Rank Level"],["select_multiple","Multiple choice",{orOtherOption:!0,specifyChoice:!0}]],l=function(e){var t;this.name=e[0],this.label=e[1],(t=e[2])||(t={}),n.extend(this,t)},d=function(){var e,t,r;for(r=[],e=0,t=p.length;e<t;e++)c=p[e],r.push(new l(c));return r}(),(u=function(e){var t,r,o,a;for(t=0,r=d.length;t<r;t++)(a=d[t]).name===e&&(o=a);return o}).typeSelectList=function(){return d},u),s.autoset_kuid=!0,s.columnOrder=function(e){return-1===s.columns.indexOf(e)&&s.columns.push(e),s.columns.indexOf(e)},s.newRowDetails={name:{value:""},type:{value:"text"},hint:{value:"",_hideUnlessChanged:!0},guidance_hint:{value:""},required:{value:!1,_hideUnlessChanged:!0},relevant:{value:"",_hideUnlessChanged:!0},default:{value:"",_hideUnlessChanged:!0},constraint:{value:"",_hideUnlessChanged:!0},constraint_message:{value:"",_hideUnlessChanged:!0},tags:{value:"",_hideUnlessChanged:!0},appearance:{value:"",_hideUnlessChanged:!0}},s.newGroupDetails={name:{value:function(){return"group_"+o.txtid()}},label:{value:"Group"},type:{value:"group"},_isRepeat:{value:!1},relevant:{value:"",_hideUnlessChanged:!0},appearance:{value:"",_hideUnlessChanged:!0}},s.question_types={},s.truthyValues=["yes","YES","true","true()","TRUE"],s.falsyValues=["no","NO","false","false()","FALSE"],s.boolOutputs={true:"true",false:"false"},s)},381:function(e,r,o){"use strict";o.r(r),o.d(r,"renderKobomatrix",function(){return V});var a=o(0),n=o.n(a),s=o(33),i=o.n(s),l=o(15),c=o(9),u=o.n(c),p=o(23),d=o.n(p),m=o(48),_=o.n(m),f=o(4),h=o.n(f);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=w(e);if(t){var a=w(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";r.match&&(t=r.match(/\<(\w+)\s?\/?\>/))&&(r=t[1]);var o=function(t,r){return"[object Object]"===Object.prototype.toString.call(r)?Object.keys(r).forEach(function(o){r[o]&&(t["".concat(e,"--").concat(o)]=!0)}):r&&(t["".concat(e,"--").concat(r)]=!0),t},a=function(t){v(s,n.a.Component);var a=y(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return function(e,t,r){t&&g(e.prototype,t),r&&g(e,r)}(s,[{key:"render",value:function(){var t=_()({},this.props),a=[].concat(t.m).reduce(o,{});return delete t.m,t.className=d()(e,a,t.classNames,t.className),delete t.classNames,n.a.createElement(r,t)}}]),s}();return a.propTypes={m:h.a.any,className:h.a.string,classNames:h.a.any},a.displayName="BEM.".concat(e),a};function E(e){var t=Object.keys(e);return Object.freeze(t.reduce(function(t,r){var o=e[r];return t[r]=o instanceof Array?k.apply(null,o):k(o),t},{}))}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(k,"reactCreateBemElement","/home/sujit/projects/ndrrma/survey/source/jsapp/js/libs/reactBemComponents.es6"),__REACT_HOT_LOADER__.register(E,"bemComponents","/home/sujit/projects/ndrrma/survey/source/jsapp/js/libs/reactBemComponents.es6"));var x=o(24),S=o(53),T=o(27),O=o(14),C=o.n(O),A=o(22);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=F(e);if(t){var a=F(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?D(e):t}(this,r)}}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=E({Matrix:"kobomatrix",MatrixCols:"matrix-cols",MatrixCols__col:"matrix-cols__col",MatrixCols__settings:"matrix-cols__settings",MatrixCols__settings_inner:"matrix-cols__settings_inner",MatrixCols__colattr:["matrix-cols__colattr","<span>"],MatrixItems:["matrix-items","<ul>"],MatrixItemsNewCol:["matrix-items-new"],MatrixItems__item:["matrix-items__item","<li>"],MatrixItems__itemrow:["matrix-items__itemrow"],MatrixItems__itemattr:["matrix-items__itemattr","<span>"],MatrixItems__itemsettings:["matrix-items__itemsettings"],MatrixButton:["kobomatrix-button","<button>"]}),N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(s,n.a.Component);var r,o,a=P(s);function s(e){var r;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(r=a.call(this,e))._listDetails={},r.state={data:e.model.data,kuid:e.model.kuid,kobomatrix_list:e.model.kobomatrix_list,expandedColKuid:!1,expandedRowKuid:!1,typeChoices:[{value:"select_one",label:t("Select One")},{value:"select_many",label:t("Select Many")},{value:"text",label:t("Text")},{value:"integer",label:t("Number")}]},u()(D(r)),r}return r=s,(o=[{key:"componentDidMount",value:function(){var e=this.state.data,t=this.state.kuid;localStorage.setItem("koboMatrix.".concat(t),JSON.stringify(e.toJS())),e.get("cols").size<1&&e.get("choices").size<1&&this.generateDefault()}},{key:"generateDefault",value:function(){var e=this;this.newColumn(),window.setTimeout(function(){e.newColumn(),window.setTimeout(function(){e.newChoiceOption(!1)},500)},500)}},{key:"expandColumn",value:function(e){this.state.expandedColKuid===e?this.setState({expandedColKuid:!1}):this.setState({expandedColKuid:e,expandedRowKuid:!1})}},{key:"expandRow",value:function(e){this.state.expandedRowKuid===e?this.setState({expandedRowKuid:!1}):this.setState({expandedRowKuid:e,expandedColKuid:!1})}},{key:"autoName",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[],a=(this.state.kobomatrix_list,this.state.data);return"column"===t?a.get("cols").forEach(function(e){o.push(a.getIn([e,"$autoname"]))}):a.get("choices").forEach(function(e){e.get("list_name")==r&&o.push(e.get("$autovalue"))}),Object(x.sluggify)(e,{preventDuplicates:o,lowerCase:!0,lrstrip:!0,preventDuplicateUnderscores:!0,characterLimit:40,incrementorPadding:!1,validXmlTag:!1,replaceNonWordCharacters:!0})}},{key:"rowChange",value:function(e){var t=this.state.expandedRowKuid,r=e.target.getAttribute("data-type"),o=this.state.data,a=e.target.value;"label"===r&&(o=o.setIn(["choices",t,r],a)),"name"===r&&(a=this.autoName(a,!1,this.state.kobomatrix_list),o=(o=o.setIn(["choices",t,"name"],a)).setIn(["choices",t,"$autovalue"],a)),this.setState({data:o}),this.toLocalStorage(o)}},{key:"colChange",value:function(e){var t=this.state.expandedColKuid,r=this.state.data,o=e.target.value,a=e.target.getAttribute("data-type");r=r.setIn([t,a],o),this.setState({data:r}),this.toLocalStorage(r)}},{key:"requiredChange",value:function(e){var t=this.state.expandedColKuid,r=this.state.data;r=r.setIn([t,"required"],e),this.setState({data:r}),this.toLocalStorage(r)}},{key:"colChangeType",value:function(e){var r=this.state.expandedColKuid,o=this.state.data,a=e.value,n=o.getIn([r,"type"]),s=this;if(["select_one","select_many"].includes(n)&&!["select_one","select_many"].includes(a)){var i=C.a.dialog("confirm"),l={title:t("Change column type?"),message:t("Are you sure you want to change the type? This action is irreversible, your existing option choices will be erased."),labels:{ok:t("Change type"),cancel:t("Cancel")},onok:function(e,t){o=(o=o.setIn([r,"type"],a)).deleteIn([r,"select_from_list_name"]),s.setState({data:o}),s.toLocalStorage(o)},oncancel:function(){i.destroy()}};i.set(l).show()}else{var c=(o=o.setIn([r,"type"],a)).getIn([r,"select_from_list_name"]);if(["select_one","select_many"].includes(a)&&void 0===c){var u=Object(x.txtid)();o=(o=s._addDefaultList(o,u)).setIn([r,"select_from_list_name"],u)}s.setState({data:o}),s.toLocalStorage(o)}}},{key:"_addDefaultList",value:function(e,r){var o=Object(x.txtid)(),a=this.autoName(t("Option 1"),!1,r),n=Object(S.Map)({label:t("Option 1"),$autovalue:a,name:a,$kuid:o,list_name:r});e=e.setIn(["choices",o],n);var s=this.autoName(t("Option 2"),!1,r),i=Object(x.txtid)(),l=Object(S.Map)({label:t("Option 2"),$autovalue:s,name:s,$kuid:i,list_name:r});return e.setIn(["choices",i],l)}},{key:"choiceChange",value:function(e){var t=e.target.getAttribute("data-kuid"),r=e.target.getAttribute("data-type"),o=this.state.data,a=e.target.value;"label"===r&&(o=o.setIn(["choices",t,r],a)),"name"===r&&(a=this.autoName(a,!1,t),o=(o=o.setIn(["choices",t,"name"],a)).setIn(["choices",t,"$autovalue"],a)),this.setState({data:o}),this.toLocalStorage(o)}},{key:"getCol",value:function(e,t){return this.state.data.getIn([e,t])}},{key:"getSelectTypeVal",value:function(e){var t=this.getCol(e,"type");return l.default.find(this.state.typeChoices,function(e){return e.value===t})}},{key:"getChoiceField",value:function(e,t){return this.state.data.getIn(["choices",e,t])}},{key:"getRequiredStatus",value:function(e){var t=this.state.data.getIn([e,"required"]);return 1==t||"true"==t}},{key:"newChoiceOption",value:function(e){var r,o=this.state.data;r=e&&e.target?e.target.getAttribute("data-list-name"):this.state.kobomatrix_list;var a=this.autoName(t("Row"),!1,r),n=Object(x.txtid)(),s=Object(S.Map)({label:t("Row"),$autovalue:a,name:a,$kuid:n,list_name:r});o=o.setIn(["choices",n],s),this.setState({data:o}),this.toLocalStorage(o)}},{key:"newColumn",value:function(){var e=this.state.data,r=Object(x.txtid)(),o=this.autoName(t("Column"),"column"),a=Object(S.Map)({$autoname:o,$kuid:r,appearance:"w1",constraint:"",constraint_message:"",default:"",hint:"",label:t("Column"),name:o,relevant:"",required:"false",type:"text"});e=(e=e.set(r,a)).update("cols",function(e){return e.push(r)}),this.setState({data:e}),this.toLocalStorage(e)}},{key:"deleteRow",value:function(e){var r=e.target.getAttribute("data-kuid"),o=this,a=C.a.dialog("confirm"),n={title:t("Delete row?"),message:t("Are you sure you want to delete this row? This action cannot be undone."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(e,t){var a=o.state.data.deleteIn(["choices",r]);o.setState({data:a}),o.toLocalStorage(a)},oncancel:function(){a.destroy()}};a.set(n).show()}},{key:"deleteColumn",value:function(e){var r=this.state.expandedColKuid,o=this.state.data,a=this,n=C.a.dialog("confirm"),s={title:t("Delete column?"),message:t("Are you sure you want to delete this column? This action cannot be undone."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(e,t){o=o.update("cols",function(e){return e.filterNot(function(e){return e===r})}),a.setState({data:o,expandedColKuid:!1}),a.toLocalStorage(o)},oncancel:function(){n.destroy()}};n.set(s).show()}},{key:"toLocalStorage",value:function(e){var t=e.toJS();localStorage.setItem("koboMatrix.".concat(this.state.kuid),JSON.stringify(t))}},{key:"getListDetails",value:function(e){var t=this.state.data.get("choices"),r=[];return t.forEach(function(t){t.get("list_name")==e&&r.push(t.toJS())}),r}},{key:"render",value:function(){var e=this,r=this.state.data,o=r.get("cols"),a=r.get("choices").toArray(),s=this.state.expandedColKuid,i=this.state.expandedRowKuid,l=this,c=this.getListDetails(this.state.kobomatrix_list);return n.a.createElement(M.Matrix,null,n.a.createElement(M.MatrixCols,{m:"header"},n.a.createElement(M.MatrixCols__col,{m:"label",key:"label"}),o.map(function(e,t){var o=r.get(e);return n.a.createElement(M.MatrixCols__col,{key:t,m:"header",className:s===e?"active":""},n.a.createElement(M.MatrixCols__colattr,{m:"label"},o.get("label")),n.a.createElement(M.MatrixCols__colattr,{m:"type"},o.get("type")),n.a.createElement("i",{className:"k-icon-settings",onClick:l.expandColumn.bind(this,e)}))})),n.a.createElement(M.MatrixCols__settings,{className:s?"expanded":""},s&&n.a.createElement(M.MatrixCols__settings_inner,null,n.a.createElement("label",null,n.a.createElement("span",null,t("Response Type")),n.a.createElement(T.a,{value:this.getSelectTypeVal(s),isClearable:!1,options:this.state.typeChoices,onChange:this.colChangeType,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"})),n.a.createElement("label",null,n.a.createElement("span",null,t("Label")),n.a.createElement("input",{type:"text",value:this.getCol(s,"label"),onChange:this.colChange,className:"js-cancel-sort","data-type":"label"})),n.a.createElement("label",null,n.a.createElement("span",null,t("Data Column Suffix")),n.a.createElement("input",{type:"text",value:this.getCol(s,"name"),onChange:this.colChange,className:"js-cancel-sort","data-type":"name"})),n.a.createElement("label",null,n.a.createElement("span",null,t("Required")),n.a.createElement(A.a,{checked:this.getRequiredStatus(s),onChange:this.requiredChange,className:"js-cancel-sort"})),this.getCol(s,"select_from_list_name")&&n.a.createElement("div",{className:"matrix-cols__options"},n.a.createElement("div",{className:"matrix-cols__options--row-head"},n.a.createElement("span",null,t("Label")),n.a.createElement("span",null,t("Data Column Name"))),a.map(function(t){if(t.get("list_name")==e.getCol(s,"select_from_list_name")){var r=t.get("$kuid");return n.a.createElement("div",{className:"matrix-cols__options--row",key:r},n.a.createElement("span",null,n.a.createElement("input",{type:"text",value:l.getChoiceField(r,"label"),onChange:l.choiceChange,className:"js-cancel-sort","data-type":"label","data-kuid":r})),n.a.createElement("span",{className:"matrix-options__value"},n.a.createElement("input",{type:"text",value:l.getChoiceField(r,"name"),onChange:l.choiceChange,className:"js-cancel-sort","data-type":"name","data-kuid":r})),n.a.createElement("span",{className:"matrix-options__delete"},n.a.createElement("i",{className:"k-icon-trash",onClick:l.deleteRow,"data-kuid":r})))}}),n.a.createElement("div",{className:"matrix-cols__options--row-foot"},n.a.createElement("i",{className:"k-icon-plus",onClick:this.newChoiceOption,"data-list-name":this.getCol(s,"select_from_list_name")}))),n.a.createElement("div",{className:"matrix-cols__delete"},n.a.createElement("span",{className:"matrix-cols__delete-action",onClick:l.deleteColumn},t("Delete column")," ",n.a.createElement("i",{className:"k-icon-trash"}))))),n.a.createElement(M.MatrixItems,null,c.map(function(e,a){return n.a.createElement(M.MatrixItems__item,{key:a},n.a.createElement(M.MatrixItems__itemrow,null,n.a.createElement(M.MatrixItems__itemattr,{m:"label"},n.a.createElement("label",null,e.label),n.a.createElement("i",{className:"k-icon-settings",onClick:l.expandRow.bind(this,e.$kuid)})),o.map(function(e,t){var o=r.get(e),a=o.get("select_from_list_name"),s=(o.get("type"),!1),i=[];a?l.getListDetails(a).forEach(function(e){i.push("".concat("🔘"," ").concat(e.label))}):(s=!0,i=["_________"]);return n.a.createElement(M.MatrixCols__col,{key:e,m:{list:!!a,underscores:s}},i.join(" "))})),n.a.createElement(M.MatrixItems__itemsettings,{className:i===e.$kuid?"expanded":""},i&&n.a.createElement(M.MatrixCols__settings_inner,null,n.a.createElement("label",null,n.a.createElement("span",null,t("Label")),n.a.createElement("input",{type:"text",value:e.label,onChange:l.rowChange,className:"js-cancel-sort","data-type":"label"})),n.a.createElement("label",null,n.a.createElement("span",null,t("Data Column Prefix")),n.a.createElement("input",{type:"text",value:e.name,onChange:l.rowChange,className:"js-cancel-sort","data-type":"name"})),n.a.createElement("div",{className:"matrix-cols__delete"},n.a.createElement("span",{className:"matrix-cols__delete-action",onClick:l.deleteRow,"data-kuid":e.$kuid},t("Delete row")," ",n.a.createElement("i",{className:"k-icon-trash"}))))))}),n.a.createElement(M.MatrixItems__item,{key:"new",m:"new"},n.a.createElement("i",{className:"k-icon-plus",onClick:this.newChoiceOption,"data-list-name":this.state.kobomatrix_list}))),n.a.createElement(M.MatrixItemsNewCol,null,n.a.createElement("i",{className:"k-icon-plus",onClick:this.newColumn})))}}])&&j(r.prototype,o),s}(),B=N,I=B;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(M,"bem","/home/sujit/projects/ndrrma/survey/source/jsapp/js/formbuild/containers/KoboMatrix.es6"),__REACT_HOT_LOADER__.register(N,"KoboMatrix","/home/sujit/projects/ndrrma/survey/source/jsapp/js/formbuild/containers/KoboMatrix.es6"),__REACT_HOT_LOADER__.register(B,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/formbuild/containers/KoboMatrix.es6"));var U=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r={},o=t;r.label=o.getValue("label");var a={};Object.keys(o.items).forEach(function(e){o.items[e]&&o.items[e].options&&o.items[e].options.map(function(t){var r=t.attributes.$kuid;t.attributes.list_name=e,a[r]=t.attributes})}),r.cols=o._kobomatrix_cols().map(function(e){var t=e.get("type").get("typeId"),o=Object.assign(e.toJSON(),{type:t}),a=o.$kuid;return r[a]=o,a});var n=o.toJSON();this.kobomatrix_list=n["kobo--matrix_list"],this.data=Object(S.fromJS)(r);var s=Object(S.fromJS)(a);this.data=this.data.set("choices",s.toOrderedMap()),this.kuid=n.$kuid};function V(e,t){var r=new U(e.model);i.a.render(n.a.createElement(I,{model:r}),t.get(0))}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(U,"KoboMatrixRow","/home/sujit/projects/ndrrma/survey/source/jsapp/js/formbuild/renderInBackbone.es6"),__REACT_HOT_LOADER__.register(V,"renderKobomatrix","/home/sujit/projects/ndrrma/survey/source/jsapp/js/formbuild/renderInBackbone.es6"))},382:function(e,r,o){"use strict";(function(e){o.d(r,"b",function(){return ae}),o.d(r,"a",function(){return ne});var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(28),c=o.n(l),u=o(11),p=o.n(u),d=o(9),m=o.n(d),_=o(7),f=o.n(_),h=o(13),b=o(10),g=o.n(b),v=o(5),y=o(6),w=o(8),k=o(1),E=o(18),x=o(17),S=o(451),T=o(487),O=o(148),C=o(460),A=o(462),R=o(485),j=o(488),L=o(463),P=o(464),D=o(58),F=o(386),M=o(303),N=o(472),B=o(484),I=o(474),U=o(475),V=o(3),H=o(477),z=o(20),q=o(2);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e,t,r){return t&&$(e.prototype,t),r&&$(e,r),e}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=X(e);if(t){var a=X(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?J(e):t}(this,r)}}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}o(388);var Z=function(e){W(o,n.a.Component);var r=K(o);function o(e){var t;return G(this,o),t=r.call(this,e),g.a.locale(Object(V.currentLang)()),t.state=Object(V.assign)({isConfigReady:!1,pageState:y.a.pageState.state}),t}return Q(o,[{key:"componentWillReceiveProps",value:function(){this.state.pageState.showFixedDrawer&&y.a.pageState.setState({showFixedDrawer:!1}),this.state.pageState.modal&&y.a.pageState.hideModal()}},{key:"componentDidMount",value:function(){this.listenTo(v.a.permissions.getConfig.completed,this.onGetConfigCompleted),this.listenTo(v.a.permissions.getConfig.failed,this.onGetConfigFailed),v.a.misc.getServerEnvironment(),v.a.permissions.getConfig()}},{key:"onGetConfigCompleted",value:function(e){this.setState({isConfigReady:!0}),z.a.setPermissions(e.results)}},{key:"onGetConfigFailed",value:function(){Object(V.notify)("Failed to get permissions config!","error")}},{key:"render",value:function(){if(!this.state.isConfigReady)return n.a.createElement(k.a.Loading,null,n.a.createElement(k.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")));var e=this.props.params.assetid||this.props.params.uid||null,r=[];this.isFormSingle()&&r.push("form-landing"),this.isLibrarySingle()&&r.push("library-landing");var o={"fixed-drawer":this.state.pageState.showFixedDrawer,"in-formbuilder":this.isFormBuilder(),"is-modal-visible":Boolean(this.state.pageState.modal)};return"object"===Y(this.state.pageState.modal)&&(o["is-modal-".concat(this.state.pageState.modal.type)]=!0),n.a.createElement(c.a,{title:"KoBoToolbox"},n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,null),n.a.createElement(M.b,null),n.a.createElement("div",{className:"header-stretch-bg"}),n.a.createElement(k.a.PageWrapper,{m:o,className:"mdl-layout mdl-layout--fixed-header"},this.state.pageState.modal&&n.a.createElement(B.a,{params:this.state.pageState.modal}),!this.isFormBuilder()&&n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,{assetid:e}),n.a.createElement(T.a,null)),n.a.createElement(k.a.PageWrapper__content,{className:"mdl-layout__content",m:r},!this.isFormBuilder()&&n.a.createElement(n.a.Fragment,null,n.a.createElement(F.a,{type:"top",show:this.isFormSingle()}),n.a.createElement(F.a,{type:"side",show:this.isFormSingle()})),this.props.children))))}}]),o}();Z.contextTypes={router:i.a.object},p()(Z.prototype,f.a.connect(y.a.pageState,"pageState")),p()(Z.prototype,x.a.contextRouter);var ee=function(e){W(r,n.a.Component);var t=K(r);function r(e){var o;return G(this,r),(o=t.call(this,e)).state={assetcontent:!1},m()(J(o)),o}return Q(r,[{key:"componentDidMount",value:function(){this.listenTo(y.a.asset,this.assetStoreTriggered);var e=this.props.params.assetid||this.props.params.uid;v.a.resources.loadAsset({id:e})}},{key:"assetStoreTriggered",value:function(e,t){this.setState({assetcontent:e[t].content})}},{key:"render",value:function(){return n.a.createElement(E.a.Panel,null,n.a.createElement(k.a.FormView,null,n.a.createElement("pre",null,n.a.createElement("code",null,this.state.assetcontent?JSON.stringify(this.state.assetcontent,null,4):null))))}}]),r}();p()(ee.prototype,f.a.ListenerMixin);var te=function(t){W(o,n.a.Component);var r=K(o);function o(e){var t;return G(this,o),(t=r.call(this,e)).state={xformLoaded:!1},t}return Q(o,[{key:"componentDidMount",value:function(){var t=this,r=this.props.params.assetid||this.props.params.uid;w.a.getAssetXformView(r).done(function(r){t.setState({xformLoaded:!0,xformHtml:{__html:e("<div>").html(r).find(".pygment").html()}})})}},{key:"render",value:function(){return this.state.xformLoaded?n.a.createElement(E.a.Panel,null,n.a.createElement(k.a.FormView,null,n.a.createElement("div",{className:"pygment",dangerouslySetInnerHTML:this.state.xformHtml}))):n.a.createElement(E.a.Panel,null,n.a.createElement(k.a.Loading,null,n.a.createElement(k.a.Loading__inner,null,n.a.createElement("p",null,"XForm is loading"))))}}]),o}(),re=function(e){W(o,n.a.Component);var r=K(o);function o(){return G(this,o),r.apply(this,arguments)}return Q(o,[{key:"render",value:function(){return n.a.createElement(E.a.Panel,null,n.a.createElement(k.a.Loading,null,n.a.createElement(k.a.Loading__inner,null,t("path not found / recognized"))))}}]),o}(),oe=function(e){W(r,n.a.Component);var t=K(r);function r(){return G(this,r),t.apply(this,arguments)}return Q(r,[{key:"render",value:function(){return n.a.createElement(E.a.Panel,{className:"k404"},n.a.createElement("i",null),n.a.createElement("em",null,"section not found"))}}]),r}(),ae=n.a.createElement(h.d,{name:"home",path:"/",component:Z},n.a.createElement(h.d,{path:q.ROUTES.ACCOUNT_SETTINGS,component:I.a}),n.a.createElement(h.d,{path:q.ROUTES.CHANGE_PASSWORD,component:U.a}),n.a.createElement(h.d,{path:q.ROUTES.DOWNLOAD_SLIP}),n.a.createElement(h.d,{path:q.ROUTES.LIBRARY},n.a.createElement(h.d,{path:q.ROUTES.MY_LIBRARY,component:C.a}),n.a.createElement(h.d,{path:q.ROUTES.PUBLIC_COLLECTIONS,component:A.a}),n.a.createElement(h.d,{path:q.ROUTES.NEW_LIBRARY_ITEM,component:O.b}),n.a.createElement(h.d,{path:q.ROUTES.LIBRARY_ITEM,component:R.a}),n.a.createElement(h.d,{path:q.ROUTES.EDIT_LIBRARY_ITEM,component:O.b}),n.a.createElement(h.d,{path:q.ROUTES.NEW_LIBRARY_CHILD,component:O.b}),n.a.createElement(h.d,{path:q.ROUTES.LIBRARY_ITEM_JSON,component:ee}),n.a.createElement(h.d,{path:q.ROUTES.LIBRARY_ITEM_XFORM,component:te}),n.a.createElement(h.a,{to:q.ROUTES.MY_LIBRARY})),n.a.createElement(h.a,{to:q.ROUTES.FORMS}),n.a.createElement(h.d,{path:q.ROUTES.FORMS},n.a.createElement(h.b,{component:H.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM},n.a.createElement(h.d,{path:q.ROUTES.FORM_JSON,component:ee}),n.a.createElement(h.d,{path:q.ROUTES.FORM_XFORM,component:te}),n.a.createElement(h.d,{path:q.ROUTES.FORM_EDIT,component:O.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_SUMMARY},n.a.createElement(h.b,{component:P.a})),n.a.createElement(h.d,{path:q.ROUTES.FORM_LANDING},n.a.createElement(h.b,{component:L.a})),n.a.createElement(h.d,{path:q.ROUTES.FORM_DATA},n.a.createElement(h.d,{path:q.ROUTES.FORM_REPORT,component:j.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_REPORT_OLD,component:D.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_TABLE,component:D.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_DOWNLOADS,component:D.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_GALLERY,component:D.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_MAP,component:D.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_MAP_BY,component:D.a}),n.a.createElement(h.a,{to:q.ROUTES.FORM_REPORT})),n.a.createElement(h.d,{path:q.ROUTES.FORM_SETTINGS},n.a.createElement(h.b,{component:D.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_MEDIA,component:D.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_SHARING,component:D.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_REST,component:D.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_REST_HOOK,component:D.a}),n.a.createElement(h.d,{path:q.ROUTES.FORM_KOBOCAT,component:D.a})),n.a.createElement(h.d,{path:q.ROUTES.FORM_RESET,component:D.a}),n.a.createElement(h.a,{to:q.ROUTES.FORM_DATA})),n.a.createElement(h.d,{path:"*",component:re})),n.a.createElement(h.d,{path:"*",component:oe}));h.f.listen(function(){"function"==typeof ga&&ga("send","pageview",window.location.hash)});var ne=function(e){W(r,n.a.Component);var t=K(r);function r(){return G(this,r),t.apply(this,arguments)}return Q(r,[{key:"componentDidMount",value:function(){this.router.componentWillReceiveProps=function(){}}},{key:"render",value:function(){var e=this;return n.a.createElement(h.e,{history:h.f,ref:function(t){return e.router=t},routes:this.props.routes})}}]),r}();"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Z,"App","/home/sujit/projects/ndrrma/survey/source/jsapp/js/app.es6"),__REACT_HOT_LOADER__.register(ee,"FormJson","/home/sujit/projects/ndrrma/survey/source/jsapp/js/app.es6"),__REACT_HOT_LOADER__.register(te,"FormXform","/home/sujit/projects/ndrrma/survey/source/jsapp/js/app.es6"),__REACT_HOT_LOADER__.register(re,"FormNotFound","/home/sujit/projects/ndrrma/survey/source/jsapp/js/app.es6"),__REACT_HOT_LOADER__.register(oe,"SectionNotFound","/home/sujit/projects/ndrrma/survey/source/jsapp/js/app.es6"),__REACT_HOT_LOADER__.register(ae,"routes","/home/sujit/projects/ndrrma/survey/source/jsapp/js/app.es6"),__REACT_HOT_LOADER__.register(ne,"RunRoutes","/home/sujit/projects/ndrrma/survey/source/jsapp/js/app.es6"))}).call(this,o(19))},383:function(e,r,o){"use strict";(function(e){o.d(r,"a",function(){return O}),o.d(r,"b",function(){return C});var a=o(15),n=o(0),s=o.n(n),i=o(9),l=o.n(i),c=o(1),u=o(5),p=o(6),d=o(303),m=o(2);function _(e,t,r){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=E(e);if(t){var a=E(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?k(e):t}(this,r)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(t){y(o,s.a.Component);var r=w(o);function o(e){var t;return b(this,o),t=r.call(this,e),l()(k(t)),t.state={isOpen:!1,isOutsideCloseEnabled:!0},t.cancelOutsideCloseWatch=Function.prototype,t.cancelHelpBubbleEventCloseWatch=Function.prototype,t}return v(o,[{key:"open",value:function(){this.setState({isOpen:!0});var e=new CustomEvent("help-bubble-opened",{detail:this.bubbleName});document.dispatchEvent(e),this.cancelOutsideCloseWatch(),this.state.isOutsideCloseEnabled&&this.watchOutsideClose(),this.cancelHelpBubbleEventCloseWatch(),this.watchHelpBubbleEventClose()}},{key:"close",value:function(){this.setState({isOpen:!1}),this.cancelOutsideCloseWatch()}},{key:"toggle",value:function(){this.state.isOpen?this.close():this.open()}},{key:"watchHelpBubbleEventClose",value:function(){var e=this,t=function(t){t.detail!==e.bubbleName&&e.close()};document.addEventListener("help-bubble-opened",t),this.cancelHelpBubbleEventCloseWatch=function(){document.removeEventListener("help-bubble-opened",t)}}},{key:"watchOutsideClose",value:function(){var t=this,r=function(r){var o=e(r.target);0===o.parents(".help-bubble__back").length&&0===o.parents(".help-bubble__popup").length&&0===o.parents(".help-bubble__popup-content").length&&0===o.parents(".help-bubble__row").length&&0===o.parents(".help-bubble__row-wrapper").length&&t.close()},o=function(e){e.keyCode!==m.KEY_CODES.ESC&&"Escape"!==e.key||t.close()};this.cancelOutsideCloseWatch=function(){document.removeEventListener("click",r),document.removeEventListener("keydown",o)},document.addEventListener("click",r),document.addEventListener("keydown",o)}},{key:"getStorageName",value:function(e){var t=p.a.session.currentAccount&&p.a.session.currentAccount.username;return"kobo.".concat(t,".").concat(e)}}]),o}(),S=function(e){y(r,s.a.Component);var t=w(r);function r(e){var o;return b(this,r),o=t.call(this,e),l()(k(o)),o}return v(r,[{key:"render",value:function(){var e="k-icon k-icon-".concat(this.props.icon),t="number"==typeof this.props.counter&&0!==this.props.counter,r={};return this.props.htmlId&&(r.id=this.props.htmlId),s.a.createElement(c.a.HelpBubble__trigger,f({onClick:this.props.onClick,"data-tip":this.props.tooltipLabel},r),s.a.createElement("i",{className:e}),t&&s.a.createElement(c.a.HelpBubble__triggerCounter,null,this.props.counter))}}]),r}(),T=function(e){y(r,s.a.Component);var t=w(r);function r(e){var o;return b(this,r),o=t.call(this,e),l()(k(o)),o}return v(r,[{key:"render",value:function(){var e={};return this.props.messageUid&&(e["data-message-uid"]=this.props.messageUid),s.a.createElement(c.a.HelpBubble__close,f({onClick:this.props.onClick},e),s.a.createElement("i",{className:"k-icon k-icon-close"}))}}]),r}(),O=function(e){y(o,x);var r=w(o);function o(e){var t;return b(this,o),t=r.call(this,e),l()(k(t)),t.state.isOutsideCloseEnabled=!1,t.state.intercomUnreadCount=0,t.bubbleName="intercom-help-bubble",t}return v(o,[{key:"componentDidMount",value:function(){window.Intercom&&(Intercom("onUnreadCountChange",this.onIntercomUnreadCountChange.bind(this)),Intercom("onHide",this.onIntercomHide.bind(this)))}},{key:"onIntercomUnreadCountChange",value:function(e){this.setState({intercomUnreadCount:e})}},{key:"onIntercomHide",value:function(){_(E(o.prototype),"close",this).call(this)}},{key:"close",value:function(){window.Intercom&&window.Intercom("hide")}},{key:"render",value:function(){if(!d.a||!window.Intercom)return null;var e=["intercom"];return this.state.isOpen&&e.push("open"),s.a.createElement(c.a.HelpBubble,{m:e},s.a.createElement(S,{icon:"intercom",tooltipLabel:t("Intercom"),onClick:this.toggle.bind(this),htmlId:"custom_intercom_launcher",counter:this.state.intercomUnreadCount}))}}]),o}(),C=function(e){y(o,x);var r=w(o);function o(e){var t;return b(this,o),t=r.call(this,e),l()(k(t)),t.state.selectedMessageUid=null,t.state.hasUnacknowledgedMessages=!1,t.state.messages=[],t.bubbleName="support-help-bubble",t.actionsUnlisteners=[],t.refreshMessagesThrottled=a.default.throttle(u.a.help.getInAppMessages,6e4),t}return v(o,[{key:"componentWillUnmount",value:function(){this.actionsUnlisteners.forEach(function(e){e()})}},{key:"componentDidMount",value:function(){this.actionsUnlisteners.push(u.a.help.getInAppMessages.completed.listen(this.onHelpGetInAppMessagesCompleted.bind(this)),u.a.help.getInAppMessages.failed.listen(this.onHelpGetInAppMessagesFailed.bind(this)),u.a.help.setMessageReadTime.completed.listen(this.onHelpPatchMessage.bind(this)),u.a.help.setMessageAcknowledged.completed.listen(this.onHelpPatchMessage.bind(this))),u.a.help.getInAppMessages()}},{key:"onHelpGetInAppMessagesCompleted",value:function(e){this.setState({messages:e.results}),this.checkForUnacknowledgedMessages(e.results)}},{key:"onHelpGetInAppMessagesFailed",value:function(e){this.setState({messages:[]}),this.checkForUnacknowledgedMessages([])}},{key:"onHelpPatchMessage",value:function(e){for(var t=this.state.messages,r=0;r<t.length;r++)t[r].uid===e.uid&&(t[r]=e);this.setState({messages:t}),this.checkForUnacknowledgedMessages(t)}},{key:"close",value:function(){_(E(o.prototype),"close",this).call(this),this.clearSelectedMessage()}},{key:"open",value:function(){_(E(o.prototype),"open",this).call(this);var e=this.state.messages.filter(function(e){return!0!==e.interactions.acknowledged});1===e.length&&this.selectMessage(e[0].uid),this.refreshMessagesThrottled()}},{key:"onSelectMessage",value:function(e){this.selectMessage(e.currentTarget.dataset.messageUid)}},{key:"onSelectUnacknowledgedListMessage",value:function(e){this.onSelectMessage(e),this.open()}},{key:"selectMessage",value:function(e){this.setState({selectedMessageUid:e}),this.isMessageRead(e)||this.markMessageRead(e)}},{key:"clearSelectedMessage",value:function(){this.setState({selectedMessageUid:null})}},{key:"findMessage",value:function(e){return a.default.find(this.state.messages,{uid:e})}},{key:"isMessageRead",value:function(e){return!!this.findMessage(e).interactions.readTime}},{key:"markMessageRead",value:function(e){var t=new Date;u.a.help.setMessageReadTime(e,t.toISOString())}},{key:"markMessageAcknowledged",value:function(e){var t=e.currentTarget.dataset.messageUid;u.a.help.setMessageAcknowledged(t,!0)}},{key:"checkForUnacknowledgedMessages",value:function(e){var t=e.filter(function(e){return!0!==e.interactions.acknowledged});this.setState({hasUnacknowledgedMessages:t.length>=1,isOutsideCloseEnabled:0===t.length})}},{key:"getUnreadMessagesCount",value:function(){var e=0;return this.state.messages.forEach(function(t){t.interactions.readTime||e++}),e}},{key:"renderSnippetRow",value:function(e,t){var r=["message","message-clickable"];return e.interactions.readTime||r.push("message-unread"),s.a.createElement(c.a.HelpBubble__row,{m:r,key:e.uid,"data-message-uid":e.uid,onClick:t},s.a.createElement("header",null,e.title),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.html.snippet}}))}},{key:"renderDefaultPopup",value:function(){var e=this,r=[];return this.state.messages.length>0&&r.push("has-more-content"),s.a.createElement(c.a.HelpBubble__popup,{m:r},s.a.createElement(T,{onClick:this.close.bind(this)}),s.a.createElement(c.a.HelpBubble__popupContent,null,s.a.createElement(c.a.HelpBubble__row,{m:"header"},t("Help Resources")),p.a.serverEnvironment&&p.a.serverEnvironment.state.support_url&&s.a.createElement(c.a.HelpBubble__rowAnchor,{m:"link",target:"_blank",href:p.a.serverEnvironment.state.support_url,onClick:this.close.bind(this)},s.a.createElement("i",{className:"k-icon k-icon-help-articles"}),s.a.createElement("header",null,t("KoBoToolbox Help Center")),s.a.createElement("p",null,t("A vast collection of user support articles and tutorials related to KoBo"))),p.a.serverEnvironment&&p.a.serverEnvironment.state.community_url&&s.a.createElement(c.a.HelpBubble__rowAnchor,{m:"link",target:"_blank",href:p.a.serverEnvironment.state.community_url,onClick:this.close.bind(this)},s.a.createElement("i",{className:"k-icon k-icon-forum"}),s.a.createElement("header",null,t("KoBoToolbox Community Forum")),s.a.createElement("p",null,t("Post your questions to get answers from experienced KoBo users around the world"))),this.state.messages.length>0&&s.a.createElement(c.a.HelpBubble__row,{m:"header"},t("Notifications")),this.state.messages.map(function(t){return t.interactions.readTime||["message","message-clickable"].push("message-unread"),e.renderSnippetRow(t,e.onSelectMessage.bind(e))})))}},{key:"renderUnacknowledgedListPopup",value:function(){var e=this;return s.a.createElement(c.a.HelpBubble__popup,null,s.a.createElement(c.a.HelpBubble__popupContent,null,this.state.messages.map(function(t){if(!t.interactions.acknowledged)return s.a.createElement(c.a.HelpBubble__rowWrapper,{key:t.uid},s.a.createElement(T,{messageUid:t.uid,onClick:e.markMessageAcknowledged.bind(e)}),e.renderSnippetRow(t,e.onSelectUnacknowledgedListMessage.bind(e)))})))}},{key:"renderMessagePopup",value:function(){var e=this.findMessage(this.state.selectedMessageUid);return s.a.createElement(c.a.HelpBubble__popup,null,s.a.createElement(T,{onClick:this.close.bind(this)}),s.a.createElement(c.a.HelpBubble__back,{onClick:this.clearSelectedMessage.bind(this)},s.a.createElement("i",{className:"k-icon k-icon-prev"})),s.a.createElement(c.a.HelpBubble__popupContent,null,s.a.createElement(c.a.HelpBubble__row,{m:"message-title"},s.a.createElement("header",null,e.title)),s.a.createElement(c.a.HelpBubble__row,{m:"message",dangerouslySetInnerHTML:{__html:e.html.body}})))}},{key:"render",value:function(){var e,r=["support"];return this.state.isOpen?(r.push("open"),this.state.selectedMessageUid?(e=this.renderMessagePopup,r.push("single-message")):(e=this.renderDefaultPopup,r.push("list-with-header"))):this.state.hasUnacknowledgedMessages&&(e=this.renderUnacknowledgedListPopup,r.push("list")),s.a.createElement(c.a.HelpBubble,{m:r},s.a.createElement(S,{icon:"help",tooltipLabel:t("Help"),onClick:this.toggle.bind(this),counter:this.getUnreadMessagesCount()}),e&&e())}}]),o}();"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("help-bubble-opened","BUBBLE_OPENED_EVT_NAME","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/helpBubbles.es6"),__REACT_HOT_LOADER__.register(x,"HelpBubble","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/helpBubbles.es6"),__REACT_HOT_LOADER__.register(S,"HelpBubbleTrigger","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/helpBubbles.es6"),__REACT_HOT_LOADER__.register(T,"HelpBubbleClose","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/helpBubbles.es6"),__REACT_HOT_LOADER__.register(O,"IntercomHelpBubble","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/helpBubbles.es6"),__REACT_HOT_LOADER__.register(C,"SupportHelpBubble","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/helpBubbles.es6"))}).call(this,o(19))},384:function(e,r,o){"use strict";(function(e){var a=o(0),n=o.n(a),s=o(33),i=o.n(s),l=(o(9),o(27)),c=o(15),u=o(28),p=o.n(u),d=o(455),m=o(456),_=o(457),f=o(13),h=o(14),b=o.n(h),g=o(115),v=o(459),y=o(3),w=o(2),k=o(18),E=o(1),x=o(6),S=o(5),T=o(70),O=o.n(T),C=o(8),A=o(12),R=o(52);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}var L=E.a.create("error-message"),P=E.a.create("error-message__header","<strong>"),D=t("You have unsaved changes. Leave form without saving?"),F=Object(y.assign)({componentDidMount:function(){var e=this;if(this.props.router.setRouteLeaveHook(this.props.route,this.routerWillLeave),this.loadAsideSettings(),this.state.isNewAsset)this.launchAppForSurveyContent();else{var t=this.props.params.assetid||this.props.params.uid;x.a.allAssets.whenLoaded(t,function(t){e.setState({asset:t}),window.setTimeout(function(){e.launchAppForSurveyContent(t.content,{name:t.name,settings__style:t.settings__style,asset_uid:t.uid,asset_type:t.asset_type,asset:t})},0)})}document.querySelector(".page-wrapper__content").addEventListener("scroll",this.handleScroll),this.listenTo(x.a.surveyState,this.surveyStateChanged)},componentWillUnmount:function(){this.app&&this.app.survey&&(document.querySelector(".page-wrapper__content").removeEventListener("scroll",this.handleScroll),this.app.survey.off("change")),this.unpreventClosingTab()},routerWillLeave:function(){if(this.state.preventNavigatingOut)return D},loadAsideSettings:function(){var e=sessionStorage.getItem("kpi.editable-form.aside");e&&this.setState(JSON.parse(e))},saveAsideSettings:function(e){sessionStorage.setItem("kpi.editable-form.aside",JSON.stringify(e))},onMetadataEditorChange:function(){this.onSurveyChange()},onProjectDetailsChange:function(e){var t=e.fieldName,r=e.fieldValue,o=this.state.settingsNew||{};o[t]=r,this.setState({settingsNew:o}),this.onSurveyChange()},surveyStateChanged:function(e){this.setState(e)},onStyleChange:function(e){var t=null;null!==e&&(t=e.value),this.setState({settings__style:t}),this.onSurveyChange()},getStyleSelectVal:function(e){return c.default.find(w.AVAILABLE_FORM_STYLES,function(t){return t.value===e})},onSurveyChange:c.default.debounce(function(){!this.state.asset_updated!==w.update_states.UNSAVED_CHANGES&&this.preventClosingTab(),this.setState({asset_updated:w.update_states.UNSAVED_CHANGES})},200),preventClosingTab:function(){this.setState({preventNavigatingOut:!0}),e(window).on("beforeunload.noclosetab",function(){return D})},unpreventClosingTab:function(){this.setState({preventNavigatingOut:!1}),e(window).off("beforeunload.noclosetab")},nameChange:function(e){this.setState({name:A.b.removeInvalidChars(e.target.value)}),this.onSurveyChange()},groupQuestions:function(){this.app.groupSelectedRows()},showAll:function(e){e.preventDefault(),e.currentTarget.blur(),this.app.expandMultioptions()},hasMetadataAndDetails:function(){return this.app&&(this.state.asset_type===w.ASSET_TYPES.survey.id||this.state.asset_type===w.ASSET_TYPES.template.id||this.state.desiredAssetType===w.ASSET_TYPES.template.id)},needsSave:function(){return this.state.asset_updated===w.update_states.UNSAVED_CHANGES},previewForm:function(e){var r=this;e&&e.preventDefault&&e.preventDefault(),void 0!==this.state.settings__style&&this.app.survey.settings.set("style",this.state.settings__style),this.state.name&&this.app.survey.settings.set("title",this.state.name);var o=Object(y.surveyToValidJson)(this.app.survey);this.state.asset&&(o=Object(y.unnullifyTranslations)(o,this.state.asset.content));var a={source:o};a=Object(y.koboMatrixParser)(a),this.state.asset&&this.state.asset.url&&(a.asset=this.state.asset.url),C.a.createAssetSnapshot(a).done(function(e){r.setState({enketopreviewOverlay:e.enketopreviewlink})}).fail(function(e){var o;o=e&&e.responseJSON&&e.responseJSON.error?e.responseJSON.error:t("Unknown Enketo preview error"),r.setState({enketopreviewError:o})})},saveForm:function(e){var r=this;e&&e.preventDefault&&e.preventDefault(),void 0!==this.state.settings__style&&this.app.survey.settings.set("style",this.state.settings__style);var o=Object(y.surveyToValidJson)(this.app.survey);if(this.state.asset){var a=Object(y.koboMatrixParser)({source:o}).source;o=Object(y.unnullifyTranslations)(a,this.state.asset.content)}var n={content:o};if(this.state.name&&(n.name=this.state.name),this.state.settingsNew){var s={};this.state.asset&&(s=this.state.asset.settings),this.state.settingsNew.description&&(s.description=this.state.settingsNew.description),this.state.settingsNew.sector&&(s.sector=this.state.settingsNew.sector),this.state.settingsNew.country&&(s.country=this.state.settingsNew.country),this.state.settingsNew["share-metadata"]&&(s["share-metadata"]=this.state.settingsNew["share-metadata"]),n.settings=JSON.stringify(s)}if(this.state.isNewAsset)this.unpreventClosingTab(),this.state.desiredAssetType?n.asset_type=this.state.desiredAssetType:n.asset_type="block",this.state.parentAsset&&(n.parent=A.b.buildAssetUrl(this.state.parentAsset)),S.a.resources.createResource.triggerAsync(n).then(function(){f.f.push(r.state.backRoute)});else{var i=this.props.params.assetid||this.props.params.uid;S.a.resources.updateAsset.triggerAsync(i,n).then(function(){r.unpreventClosingTab(),r.setState({asset_updated:w.update_states.UP_TO_DATE,surveySaveFail:!1})}).catch(function(e){var o="".concat(t("Your changes could not be saved, likely because of a lost internet connection."),"&nbsp;").concat(t("Keep this window open and try saving again while using a better connection."));"error"!==e.statusText&&(o=e.statusText),b.a.defaults.theme.ok="ajs-cancel";var a=b.a.dialog("alert"),n={title:t("Error saving form"),message:o,label:t("Dismiss")};a.set(n).show(),r.setState({surveySaveFail:!0,asset_updated:w.update_states.SAVE_FAILED})})}this.setState({asset_updated:w.update_states.PENDING_UPDATE})},handleScroll:function(t){var r=t.target.scrollTop;if(!this.state.formHeaderFixed&&r>40){var o=e(".asset-view__row--header").height();this.setState({formHeaderFixed:!0,formHeaderFixedHeight:o})}else this.state.formHeaderFixed&&r<=32&&this.setState({formHeaderFixed:!1})},buttonStates:function(){var e,r={};return this.app?(r.previewDisabled=!0,this.app&&this.app.survey&&(r.previewDisabled=this.app.survey.rows.length<1),r.groupable=!!this.state.groupButtonIsActive,r.showAllOpen=!!this.state.multioptionsExpanded,r.showAllAvailable=(e=!1,this.app.survey.forEachRow(function(t){t._isSelectQuestion()&&(e=!0)}),e),r.name=this.state.name,r.hasSettings=this.state.backRoute===w.ROUTES.FORMS,r.styleValue=this.state.settings__style):r.allButtonsDisabled=!0,this.state.isNewAsset?r.saveButtonText=t("create"):this.state.surveySaveFail?r.saveButtonText="".concat(t("save")," (").concat(t("retry"),") "):r.saveButtonText=t("save"),r},toggleAsideLibrarySearch:function(e){e.target.blur();var t={asideLayoutSettingsVisible:!1,asideLibrarySearchVisible:!this.state.asideLibrarySearchVisible};this.setState(t),this.saveAsideSettings(t)},toggleAsideLayoutSettings:function(e){e.target.blur();var t={asideLayoutSettingsVisible:!this.state.asideLayoutSettingsVisible,asideLibrarySearchVisible:!1};this.setState(t),this.saveAsideSettings(t)},hidePreview:function(){this.setState({enketopreviewOverlay:!1})},hideCascade:function(){this.setState({showCascadePopup:!1})},launchAppForSurveyContent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name&&(t.savedName=t.name);var r=e&&e.settings&&0===Object.keys(e.settings).length&&0===e.survey.length;try{e?(e=O.a.model.Survey.loadDict(e),r&&e.surveyDetails.importDefaults()):e=O.a.model.Survey.create()}catch(e){t.surveyLoadError=e.message,t.surveyAppRendered=!1}if(!t.surveyLoadError){t.surveyAppRendered=!0;var o=new d.a({survey:e});this.app=new O.a.view.SurveyApp({survey:e,stateStore:x.a.surveyState,ngScope:o}),this.app.$el.appendTo(i.a.findDOMNode(this.refs["form-wrap"])),this.app.render(),e.rows.on("change",this.onSurveyChange),e.rows.on("sort",this.onSurveyChange),e.on("change",this.onSurveyChange)}this.setState(t)},clearPreviewError:function(){this.setState({enketopreviewError:!1})},safeNavigateToRoute:function(e){if(this.needsSave()){var r=b.a.dialog("confirm"),o={title:D,message:"",labels:{ok:t("Yes, leave form"),cancel:t("Cancel")},onok:function(){f.f.push(e)},oncancel:r.destroy};r.set(o).show()}else f.f.push(e)},safeNavigateToList:function(){this.state.backRoute?this.safeNavigateToRoute(this.state.backRoute):this.props.location.pathname.startsWith(w.ROUTES.LIBRARY)?this.safeNavigateToRoute(w.ROUTES.LIBRARY):this.safeNavigateToRoute(w.ROUTES.FORMS)},safeNavigateToAsset:function(){var e=this.state.backRoute;this.state.backRoute===w.ROUTES.FORMS?e=w.ROUTES.FORM.replace(":uid",this.state.asset_uid):this.state.backRoute===w.ROUTES.LIBRARY&&(e=w.ROUTES.LIBRARY_ITEM.replace(":uid",this.state.asset_uid)),this.safeNavigateToRoute(e)},renderFormBuilderHeader:function(){var e,r=this.buttonStates(),o=r.previewDisabled,a=r.groupable,s=r.showAllOpen,i=r.showAllAvailable,l=r.saveButtonText;switch(this.state.asset_type){case w.ASSET_TYPES.template.id:e=w.ASSET_TYPES.template.label;break;case w.ASSET_TYPES.survey.id:e=w.ASSET_TYPES.survey.label;break;case w.ASSET_TYPES.block.id:e=w.ASSET_TYPES.block.label;break;case w.ASSET_TYPES.question.id:e=w.ASSET_TYPES.question.label;break;default:e=null}return null===e&&this.state.desiredAssetType===w.ASSET_TYPES.template.id&&(e=w.ASSET_TYPES.template.label),n.a.createElement(E.a.FormBuilderHeader,null,n.a.createElement(E.a.FormBuilderHeader__row,{m:"primary"},n.a.createElement(E.a.FormBuilderHeader__cell,{m:"logo","data-tip":t("Return to list"),className:"left-tooltip",tabIndex:"0",onClick:this.safeNavigateToList},n.a.createElement("i",{className:"k-icon-kobo"})),n.a.createElement(E.a.FormBuilderHeader__cell,{m:"name"},n.a.createElement(E.a.FormModal__item,null,e&&n.a.createElement("label",null,e),n.a.createElement("input",{type:"text",maxLength:w.NAME_MAX_LENGTH,onChange:this.nameChange,value:this.state.name,title:this.state.name,id:"nameField"}))),n.a.createElement(E.a.FormBuilderHeader__cell,{m:"buttonsTopRight"},n.a.createElement(E.a.FormBuilderHeader__button,{m:["save",{savepending:this.state.asset_updated===w.update_states.PENDING_UPDATE,savefailed:this.state.asset_updated===w.update_states.SAVE_FAILED,saveneeded:this.needsSave()}],onClick:this.saveForm,disabled:!this.state.surveyAppRendered||!!this.state.surveyLoadError},n.a.createElement("i",null),l),n.a.createElement(E.a.FormBuilderHeader__close,{m:[{"close-warning":this.needsSave()}],onClick:this.safeNavigateToAsset},n.a.createElement("i",{className:"k-icon-close"})))),n.a.createElement(E.a.FormBuilderHeader__row,{m:"secondary"},n.a.createElement(E.a.FormBuilderHeader__cell,{m:"toolsButtons"},n.a.createElement(E.a.FormBuilderHeader__button,{m:["preview",{previewdisabled:o}],onClick:this.previewForm,disabled:o,"data-tip":t("Preview form")},n.a.createElement("i",{className:"k-icon-view"})),i&&n.a.createElement(E.a.FormBuilderHeader__button,{m:["show-all",{open:s}],onClick:this.showAll,"data-tip":t("Expand / collapse questions")},n.a.createElement("i",{className:"k-icon-view-all-alt"})),n.a.createElement(E.a.FormBuilderHeader__button,{m:["group",{groupable:a}],onClick:this.groupQuestions,disabled:!a,"data-tip":a?t("Create group with selected questions"):t("Grouping disabled. Please select at least one question.")},n.a.createElement("i",{className:"k-icon-group"})),void 0!==this.toggleCascade&&n.a.createElement(E.a.FormBuilderHeader__button,{m:["cascading"],onClick:this.toggleCascade,"data-tip":t("Insert cascading select")},n.a.createElement("i",{className:"k-icon-cascading"}))),n.a.createElement(E.a.FormBuilderHeader__cell,{m:"verticalRule"}),n.a.createElement(E.a.FormBuilderHeader__cell,{m:"spacer"}),n.a.createElement(E.a.FormBuilderHeader__cell,{m:"verticalRule"}),n.a.createElement(E.a.FormBuilderHeader__cell,null,n.a.createElement(E.a.FormBuilderHeader__button,{m:["panel-toggle",this.state.asideLibrarySearchVisible?"active":null],onClick:this.toggleAsideLibrarySearch},n.a.createElement("i",{className:["k-icon",this.state.asideLibrarySearchVisible?"k-icon-close":"k-icon-library"].join(" ")}),n.a.createElement("span",{className:"panel-toggle-name"},t("Add from Library")))),n.a.createElement(E.a.FormBuilderHeader__cell,{m:"verticalRule"}),n.a.createElement(E.a.FormBuilderHeader__cell,null,n.a.createElement(E.a.FormBuilderHeader__button,{m:["panel-toggle",this.state.asideLayoutSettingsVisible?"active":null],onClick:this.toggleAsideLayoutSettings},n.a.createElement("i",{className:["k-icon",this.state.asideLayoutSettingsVisible?"k-icon-close":"k-icon-settings"].join(" ")}),n.a.createElement("span",{className:"panel-toggle-name"},this.hasMetadataAndDetails()&&t("Layout & Settings"),!this.hasMetadataAndDetails()&&t("Layout"))))))},renderAside:function(){var e=this.buttonStates(),r=e.styleValue,o=e.hasSettings,a=this.state.asideLayoutSettingsVisible||this.state.asideLibrarySearchVisible;return n.a.createElement(E.a.FormBuilderAside,{m:a?"visible":null},this.state.asideLayoutSettingsVisible&&n.a.createElement(E.a.FormBuilderAside__content,null,n.a.createElement(E.a.FormBuilderAside__row,null,n.a.createElement(E.a.FormBuilderAside__header,null,t("Form style"),x.a.serverEnvironment&&x.a.serverEnvironment.state.support_url&&n.a.createElement("a",{href:x.a.serverEnvironment.state.support_url+"alternative_enketo.html",target:"_blank","data-tip":t("Read more about form styles")},n.a.createElement("i",{className:"k-icon k-icon-help"}))),n.a.createElement("label",{className:"kobo-select-label",htmlFor:"webform-style"},o?t("Select the form style that you would like to use. This will only affect web forms."):t("Select the form style. This will only affect the Enketo preview, and it will not be saved with the question or block.")),n.a.createElement(l.a,{className:"kobo-select",classNamePrefix:"kobo-select",id:"webform-style",name:"webform-style",ref:"webformStyle",value:this.getStyleSelectVal(r),onChange:this.onStyleChange,placeholder:w.AVAILABLE_FORM_STYLES[0].label,options:w.AVAILABLE_FORM_STYLES,menuPlacement:"bottom"})),this.hasMetadataAndDetails()&&n.a.createElement(E.a.FormBuilderAside__row,null,n.a.createElement(E.a.FormBuilderAside__header,null,t("Metadata")),n.a.createElement(v.a,j({survey:this.app.survey,onChange:this.onMetadataEditorChange},this.state))),this.hasMetadataAndDetails()&&n.a.createElement(E.a.FormBuilderAside__row,null,n.a.createElement(E.a.FormBuilderAside__header,null,t("Details")),n.a.createElement(g.a,{context:w.PROJECT_SETTINGS_CONTEXTS.BUILDER,onProjectDetailsChange:this.onProjectDetailsChange,formAsset:this.state.asset}))),this.state.asideLibrarySearchVisible&&n.a.createElement(E.a.FormBuilderAside__content,null,n.a.createElement(E.a.FormBuilderAside__row,null,n.a.createElement(E.a.FormBuilderAside__header,null,t("Search Library"))),n.a.createElement(E.a.FormBuilderAside__row,null,n.a.createElement(_.a,null))))},renderNotLoadedMessage:function(){return this.state.surveyLoadError?n.a.createElement(L,null,n.a.createElement(P,null,t("Error loading survey:")),n.a.createElement("p",null,this.state.surveyLoadError)):Object(R.b)()},render:function(){var e=this.state.name||t("Untitled");if(!this.state.isNewAsset&&!this.state.asset)return n.a.createElement(p.a,{title:"".concat(e," | KoboToolbox")},Object(R.b)());var r=this.state.isNewAsset||A.b.isSelfOwned(this.state.asset)||this.userCan("change_asset",this.state.asset);return n.a.createElement(p.a,{title:"".concat(e," | KoboToolbox")},n.a.createElement(k.a.Panel,{m:["transparent","fixed"]},this.renderAside(),r&&n.a.createElement(E.a.FormBuilder,null,this.renderFormBuilderHeader(),n.a.createElement(E.a.FormBuilder__contents,null,n.a.createElement("div",{ref:"form-wrap",className:"form-wrap"},!this.state.surveyAppRendered&&this.renderNotLoadedMessage()))),!r&&n.a.createElement(k.a.AccessDeniedMessage,null),this.state.enketopreviewOverlay&&n.a.createElement(k.a.Modal,{open:!0,large:!0,onClose:this.hidePreview,title:t("Form Preview")},n.a.createElement(k.a.Modal.Body,null,n.a.createElement("div",{className:"enketo-holder"},n.a.createElement("iframe",{src:this.state.enketopreviewOverlay})))),!this.state.enketopreviewOverlay&&this.state.enketopreviewError&&n.a.createElement(k.a.Modal,{open:!0,error:!0,onClose:this.clearPreviewError,title:t("Error generating preview")},n.a.createElement(k.a.Modal.Body,null,this.state.enketopreviewError)),this.state.showCascadePopup&&n.a.createElement(k.a.Modal,{open:!0,onClose:this.hideCascade,title:t("Import Cascading Select Questions")},n.a.createElement(k.a.Modal.Body,null,this.renderCascadePopup()))))}},m.a);r.a=F,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(L,"ErrorMessage","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register(P,"ErrorMessage__strong","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register("alternative_enketo.html","WEBFORM_STYLES_SUPPORT_URL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register(D,"UNSAVED_CHANGES_WARNING","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register("kpi.editable-form.aside","ASIDE_CACHE_NAME","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register(F,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/editableForm.es6"))}).call(this,o(19))},386:function(e,r,o){"use strict";(function(e){var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(1),f=o(6),h=o(13),b=o(17),g=o(12),v=o(2),y=o(3);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=T(e);if(t){var a=T(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?S(e):t}(this,r)}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(i,m.a.Component);var o,a,s=x(i);function i(e){var t;return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this,e)).state={},p()(S(t)),t}return o=i,(a=[{key:"componentDidMount",value:function(){this.listenTo(f.a.asset,this.assetLoad)}},{key:"assetLoad",value:function(e){var t=this.currentAssetID(),r=e[t];this.setState(Object(y.assign)({asset:r,assetid:t}))}},{key:"triggerRefresh",value:function(t){if(e(t.target).hasClass("active")){h.f.push("/forms/".concat(this.state.assetid,"/reset"));var r=t.target.getAttribute("data-path");window.setTimeout(function(){h.f.push(r)},50),t.preventDefault()}}},{key:"renderTopTabs",value:function(){if(void 0===this.state.asset)return!1;var e=this.state.asset;return n.a.createElement(_.a.FormView__toptabs,null,n.a.createElement(h.c,{to:v.ROUTES.FORM_DATA.replace(":uid",this.state.assetid),className:"form-view__tab",activeClassName:"active"},t("Data")),this.userCan("change_asset",e)&&n.a.createElement(h.c,{to:v.ROUTES.FORM_SETTINGS.replace(":uid",this.state.assetid),className:"form-view__tab",activeClassName:"active"},t("Settings")),n.a.createElement(h.c,{to:v.ROUTES.FORMS,className:"form-view__link form-view__link--close"},n.a.createElement("i",{className:"k-icon-close"})))}},{key:"renderFormSideTabs",value:function(){var e=this,r=[];return this.state.asset&&this.state.asset.has_deployment&&this.isActiveRoute("/forms/".concat(this.state.assetid,"/data"))&&(r=[{label:t("Reports"),icon:"k-icon-report",path:"/forms/".concat(this.state.assetid,"/data/report")},{label:t("Table"),icon:"k-icon-table",path:"/forms/".concat(this.state.assetid,"/data/table")},{label:t("Gallery"),icon:"k-icon-photo-gallery",path:"/forms/".concat(this.state.assetid,"/data/gallery")},{label:t("Downloads"),icon:"k-icon-download",path:"/forms/".concat(this.state.assetid,"/data/downloads")},{label:t("Map"),icon:"k-icon-map-view",path:"/forms/".concat(this.state.assetid,"/data/map")}]),this.state.asset&&this.isActiveRoute("/forms/".concat(this.state.assetid,"/settings"))&&((r=[]).push({label:t("General"),icon:"k-icon-settings",path:"/forms/".concat(this.state.assetid,"/settings")}),this.state.asset.deployment__active&&g.b.isSelfOwned(this.state.asset)&&r.push({label:t("Media"),icon:"k-icon-photo-gallery",path:"/forms/".concat(this.state.assetid,"/settings/media")}),r.push({label:t("Sharing"),icon:"k-icon-user-share",path:"/forms/".concat(this.state.assetid,"/settings/sharing")}),this.state.asset.deployment__active&&b.a.permissions.userCan(v.PERMISSIONS_CODENAMES.view_submissions,this.state.asset)&&b.a.permissions.userCan(v.PERMISSIONS_CODENAMES.change_asset,this.state.asset)&&r.push({label:t("REST Services"),icon:"k-icon-data-sync",path:"/forms/".concat(this.state.assetid,"/settings/rest")})),r.length>0&&n.a.createElement(_.a.FormView__sidetabs,null,r.map(function(t,r){return n.a.createElement(h.c,{to:t.path,key:r,activeClassName:"active",onlyActiveOnIndex:!0,className:"form-view__tab","data-path":t.path,onClick:e.triggerRefresh},n.a.createElement("i",{className:t.icon}),t.label)}))}},{key:"render",value:function(){return!!this.props.show&&("top"==this.props.type?this.renderTopTabs():"side"==this.props.type?this.renderFormSideTabs():void 0)}}])&&k(o.prototype,a),i}();c()(O.prototype,m.a.ListenerMixin),c()(O.prototype,b.a.contextRouter),c()(O.prototype,b.a.permissions),O.contextTypes={router:i.a.object};var C=O;r.a=C,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(O,"FormViewTabs","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formViewTabs.es6"),__REACT_HOT_LOADER__.register(C,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formViewTabs.es6"))}).call(this,o(19))},39:function(e,t,r){"use strict";r.d(t,"c",function(){return a}),r.d(t,"d",function(){return n}),r.d(t,"e",function(){return s}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return l});var o=r(13);function a(){return"library"===o.f.getCurrentLocation().pathname.split("/")[1]}function n(){var e=o.f.getCurrentLocation().pathname;return"library"===e.split("/")[1]&&"my-library"===e.split("/")[2]}function s(){var e=o.f.getCurrentLocation().pathname;return"library"===e.split("/")[1]&&"public-collections"===e.split("/")[2]}function i(){var e=o.f.getCurrentLocation().pathname;return"library"===e.split("/")[1]&&"asset"===e.split("/")[2]}function l(){var e=o.f.getCurrentLocation().pathname;if("library"===e.split("/")[1]&&"asset"===e.split("/")[2])return e.split("/")[3]}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"isOnLibraryRoute","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/libraryUtils.es6"),__REACT_HOT_LOADER__.register(n,"isOnMyLibraryRoute","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/libraryUtils.es6"),__REACT_HOT_LOADER__.register(s,"isOnPublicCollectionsRoute","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/libraryUtils.es6"),__REACT_HOT_LOADER__.register(i,"isOnLibraryAssetRoute","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/libraryUtils.es6"),__REACT_HOT_LOADER__.register(l,"getCurrentLibraryAssetUID","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/libraryUtils.es6"))},396:function(e,t,r){var o={"./af":152,"./af.js":152,"./ar":153,"./ar-dz":154,"./ar-dz.js":154,"./ar-kw":155,"./ar-kw.js":155,"./ar-ly":156,"./ar-ly.js":156,"./ar-ma":157,"./ar-ma.js":157,"./ar-sa":158,"./ar-sa.js":158,"./ar-tn":159,"./ar-tn.js":159,"./ar.js":153,"./az":160,"./az.js":160,"./be":161,"./be.js":161,"./bg":162,"./bg.js":162,"./bm":163,"./bm.js":163,"./bn":164,"./bn.js":164,"./bo":165,"./bo.js":165,"./br":166,"./br.js":166,"./bs":167,"./bs.js":167,"./ca":168,"./ca.js":168,"./cs":169,"./cs.js":169,"./cv":170,"./cv.js":170,"./cy":171,"./cy.js":171,"./da":172,"./da.js":172,"./de":173,"./de-at":174,"./de-at.js":174,"./de-ch":175,"./de-ch.js":175,"./de.js":173,"./dv":176,"./dv.js":176,"./el":177,"./el.js":177,"./en-au":178,"./en-au.js":178,"./en-ca":179,"./en-ca.js":179,"./en-gb":180,"./en-gb.js":180,"./en-ie":181,"./en-ie.js":181,"./en-il":182,"./en-il.js":182,"./en-in":183,"./en-in.js":183,"./en-nz":184,"./en-nz.js":184,"./en-sg":185,"./en-sg.js":185,"./eo":186,"./eo.js":186,"./es":187,"./es-do":188,"./es-do.js":188,"./es-us":189,"./es-us.js":189,"./es.js":187,"./et":190,"./et.js":190,"./eu":191,"./eu.js":191,"./fa":192,"./fa.js":192,"./fi":193,"./fi.js":193,"./fil":194,"./fil.js":194,"./fo":195,"./fo.js":195,"./fr":196,"./fr-ca":197,"./fr-ca.js":197,"./fr-ch":198,"./fr-ch.js":198,"./fr.js":196,"./fy":199,"./fy.js":199,"./ga":200,"./ga.js":200,"./gd":201,"./gd.js":201,"./gl":202,"./gl.js":202,"./gom-deva":203,"./gom-deva.js":203,"./gom-latn":204,"./gom-latn.js":204,"./gu":205,"./gu.js":205,"./he":206,"./he.js":206,"./hi":207,"./hi.js":207,"./hr":208,"./hr.js":208,"./hu":209,"./hu.js":209,"./hy-am":210,"./hy-am.js":210,"./id":211,"./id.js":211,"./is":212,"./is.js":212,"./it":213,"./it-ch":214,"./it-ch.js":214,"./it.js":213,"./ja":215,"./ja.js":215,"./jv":216,"./jv.js":216,"./ka":217,"./ka.js":217,"./kk":218,"./kk.js":218,"./km":219,"./km.js":219,"./kn":220,"./kn.js":220,"./ko":221,"./ko.js":221,"./ku":222,"./ku.js":222,"./ky":223,"./ky.js":223,"./lb":224,"./lb.js":224,"./lo":225,"./lo.js":225,"./lt":226,"./lt.js":226,"./lv":227,"./lv.js":227,"./me":228,"./me.js":228,"./mi":229,"./mi.js":229,"./mk":230,"./mk.js":230,"./ml":231,"./ml.js":231,"./mn":232,"./mn.js":232,"./mr":233,"./mr.js":233,"./ms":234,"./ms-my":235,"./ms-my.js":235,"./ms.js":234,"./mt":236,"./mt.js":236,"./my":237,"./my.js":237,"./nb":238,"./nb.js":238,"./ne":239,"./ne.js":239,"./nl":240,"./nl-be":241,"./nl-be.js":241,"./nl.js":240,"./nn":242,"./nn.js":242,"./oc-lnc":243,"./oc-lnc.js":243,"./pa-in":244,"./pa-in.js":244,"./pl":245,"./pl.js":245,"./pt":246,"./pt-br":247,"./pt-br.js":247,"./pt.js":246,"./ro":248,"./ro.js":248,"./ru":249,"./ru.js":249,"./sd":250,"./sd.js":250,"./se":251,"./se.js":251,"./si":252,"./si.js":252,"./sk":253,"./sk.js":253,"./sl":254,"./sl.js":254,"./sq":255,"./sq.js":255,"./sr":256,"./sr-cyrl":257,"./sr-cyrl.js":257,"./sr.js":256,"./ss":258,"./ss.js":258,"./sv":259,"./sv.js":259,"./sw":260,"./sw.js":260,"./ta":261,"./ta.js":261,"./te":262,"./te.js":262,"./tet":263,"./tet.js":263,"./tg":264,"./tg.js":264,"./th":265,"./th.js":265,"./tk":266,"./tk.js":266,"./tl-ph":267,"./tl-ph.js":267,"./tlh":268,"./tlh.js":268,"./tr":269,"./tr.js":269,"./tzl":270,"./tzl.js":270,"./tzm":271,"./tzm-latn":272,"./tzm-latn.js":272,"./tzm.js":271,"./ug-cn":273,"./ug-cn.js":273,"./uk":274,"./uk.js":274,"./ur":275,"./ur.js":275,"./uz":276,"./uz-latn":277,"./uz-latn.js":277,"./uz.js":276,"./vi":278,"./vi.js":278,"./x-pseudo":279,"./x-pseudo.js":279,"./yo":280,"./yo.js":280,"./zh-cn":281,"./zh-cn.js":281,"./zh-hk":282,"./zh-hk.js":282,"./zh-mo":283,"./zh-mo.js":283,"./zh-tw":284,"./zh-tw.js":284};function a(e){var t=n(e);return r(t)}function n(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=n,e.exports=a,a.id=396},40:function(e,t,r){"use strict";r.d(t,"a",function(){return y});var o=r(15),a=r(7),n=r.n(a),s=r(452),i=r.n(s),l=r(6),c=r(5),u=r(8),p=r(3),d=r(73),m={searchState:"none",searchResults:!1,searchResultsList:[],searchFilterParams:{},searchResultsDisplayed:!1,searchResultsFor:!1,searchResultsSuccess:null,searchDebugQuery:!1,searchResultsCount:0,parentUid:!1,parentName:!1,allPublic:!1},_=Object(p.assign)({cleared:!1,defaultQueryState:"none",defaultQueryFor:"",defaultQueryDebug:"",defaultQueryFilterParams:{},defaultQueryResults:"",defaultQueryResultsList:[],defaultQueryCount:0},m);function f(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).debounceTime||500,r={},a=n.a.createAction({children:["completed","failed","cancel","refresh"]}),s=this.store=n.a.createStore({init:function(){this.filterParams={},this.state={searchState:"none"},this.listenTo(c.a.resources.updateAsset.completed,this.setAsset),this.listenTo(c.a.resources.deployAsset.completed,this.setAsset),this.listenTo(c.a.resources.createResource.completed,this.setAsset),this.listenTo(c.a.resources.cloneAsset.completed,this.setAsset),this.listenTo(c.a.resources.setDeploymentActive.completed,this.setAsset),this.listenTo(c.a.resources.deleteAsset.completed,this.removeAsset)},setAsset:function(e){var t;(null===(t=this.state.defaultQueryFilterParams)||void 0===t?void 0:t.assetType.includes(e.asset_type))&&(this.setAssetInList(e,"defaultQueryResultsList"),this.setAssetInList(e,"searchResultsList"),this.rebuildCategorizedList(this.state.defaultQueryResultsList,"defaultQueryCategorizedResultsLists"),this.rebuildCategorizedList(this.state.searchResultsList,"searchResultsCategorizedResultsLists"))},setAssetInList:function(e,t){var r=this.state[t];if(r&&0!==r.length){for(var o={},a=!0,n=0;n<r.length;n++)if(r[n].uid===e.uid){r[n]=e,a=!1;break}a&&r.unshift(e),o[t]=r,this.update(o)}},rebuildCategorizedList:function(e,t){var r=this.state[t];if(this.state.defaultQueryResultsList,r&&e&&0!==e.length){var o={};o[t]=_(e),this.update(o)}},removeAsset:function(e){var t;(null===(t=this.state.defaultQueryFilterParams)||void 0===t?void 0:t.assetType.includes(e.assetType))&&(this.removeAssetFromList(e.uid,"defaultQueryResultsList"),this.removeAssetFromList(e.uid,"searchResultsList"),this.rebuildCategorizedList(this.state.defaultQueryResultsList,"defaultQueryCategorizedResultsLists"),this.rebuildCategorizedList(this.state.searchResultsList,"searchResultsCategorizedResultsLists"))},removeAssetFromList:function(e,t){var r=this.state[t];if(r&&0!==r.length){var o={};r=r.filter(function(t){return t.uid!==e}),o[t]=r,this.update(o)}},update:function(e){this.quietUpdate(e),this.triggerState()},triggerState:function(){this.trigger(this.state)},quietUpdate:function(e){e.cleared||(e.cleared=!1),Object(p.assign)(this.state,e)},filterTagQueryData:function(){if(this.filterTags)return{q:this.filterTags}},removeItem:function(e){delete this.state[e]},toDataObject:function(){var e={};return this.state.searchTags&&(e.tags=this.state.searchTags),this.state.searchString&&(e.string=this.state.searchString),this.state.parentUid&&(e.parentUid="parent__uid:".concat(this.state.parentUid)),this.state.parentName&&(e.parentName=this.state.parentName),!0===this.state.allPublic&&(e.allPublic=!0),Object(p.assign)({},this.filterParams,e)},toQueryData:function(e){var t=e||this.toDataObject(),r=[],a={};return"tags"in t&&(t.tags&&t.tags.length>0&&r.push(t.tags.map(function(e){return'tag:"'.concat(e.value,'"')}).join(" AND ")),delete t.tags),"string"in t&&(t.string&&t.string.length>0&&r.push(t.string),delete t.string),"parent"in t&&(t.parent&&t.parent.length>0&&(a.parent=t.parent),delete t.parent),"allPublic"in t&&(a.all_public=t.allPublic,delete t.allPublic),"parentName"in t&&delete t.parentName,(r=r.concat(o.default.values(t))).length>1?a.q=r.map(function(e){return"(".concat(e,")")}).join(" AND "):1===r.length&&(a.q=r[0]),a}}),_=function(e){return{Deployed:e.filter(function(e){return e.has_deployment&&e.deployment__active}),Draft:e.filter(function(e){return!e.has_deployment}),Archived:e.filter(function(e){return e.has_deployment&&!e.deployment__active})}};a.listen(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=s.toDataObject(),n=Object(p.assign)({},o),i=s.toQueryData(o),l=!t.cacheAsDefaultSearch;l&&r.search&&(r.search.searchAborted=!0,r.search.abort(),r.search=!1),e={params:i,dataObject:o};var u=c.a.search.assets(i,{onComplete:function(e,r){a.completed(o,r,{cacheAsDefaultSearch:t.cacheAsDefaultSearch})},onFailed:function(e,t){a.failed(t,o)}});r[l?"search":"default"]=u,l?s.update({searchState:"loading",searchFor:n}):s.update({defaultQueryState:"loading",defaultQueryFor:n})}),a.refresh.listen(function(){c.a.search.assets(e.params,{onComplete:function(t,r){a.completed(e.dataObject,r,{cacheAsDefaultSearch:!1})},onFailed:function(t,r){a.failed(r,e.dataObject)}})}),a.completed.listen(function(e,t,r){t.results=t.results.map(d.b),t.results.forEach(l.a.allAssets.registerAsset);var o,a=t.count;o=r.cacheAsDefaultSearch?{defaultQueryState:"done",defaultQueryFor:e,defaultQueryDebug:e.__builtQueryString,defaultQueryFilterParams:s.filterParams,defaultQueryResults:t,defaultQueryResultsList:t.results,defaultQueryCount:a,defaultQueryCategorizedResultsLists:_(t.results)}:{searchState:"done",searchResultsFor:e,searchDebugQuery:e.__builtQueryString,searchBaseFilterParams:s.filterParams,searchResults:t,searchResultsList:t.results,searchResultsCount:a,searchResultsDisplayed:!0,searchResultsSuccess:a>0,searchResultsCategorizedResultsLists:_(t.results)},s.update(o)}),a.failed.listen(function(){}),a.cancel.listen(function(){r.search&&r.search.abort(),s.update(Object(p.assign)({cleared:!0},m))}),this.mixin={debouncedSearch:t?o.default.debounce(a,t):a,searchValue:a,updateStore:function(e){s.update(e)},quietUpdateStore:function(e){s.quietUpdate(e)},searchStore:s,searchSemaphore:function(){var e=this;void 0===s.state.defaultQueryResultsList?this.searchDefault():(s.update({defaultQueryState:"done"}),u.a.assetsHash().done(function(t){t.hash&&t.hash!==function(e){if(e.length<1)return!1;var t=e.map(function(e){return e.version_id});return t.sort(),i.a.hash(t.join(""))}(s.state.defaultQueryResultsList)&&e.searchDefault()}).fail(function(){e.searchDefault()}))},searchDefault:function(){s.quietUpdate(Object(p.assign)({cleared:!0,searchString:!1},m)),a({cacheAsDefaultSearch:!0})},getSearchActions:function(){return{search:a}}}}var h={getInitialState:function(){return _},componentDidMount:function(){this.extendSearchContext()},extendSearchContext:function(){var e,t=this.props.searchContext||this.state.searchContext;e=t instanceof f?t:v(t),Object(p.assign)(this,e.mixin)},searchTagsChange:function(e){this.quietUpdateStore({searchTags:e}),this.searchValue()},searchCollectionChange:function(e){this.quietUpdateStore({parentUid:e}),this.searchValue()},searchChangeEvent:function(e){var t=e.target.value.trim();this.searchStore.state.searchString!==t&&(this.quietUpdateStore({searchString:t}),this.debouncedSearch())},searchClear:function(){this.searchStore.removeItem("searchString"),this.searchStore.removeItem("searchTags"),this.getSearchActions().search.cancel()}};function b(e){return e instanceof f}var g={};function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g[e]||(g[e]=new f),t.filterParams&&(g[e].store.filterParams=t.filterParams),t.showDefault&&(g[e].store.showDefault=t.showDefault),t.filterTags&&(g[e].store.filterTags=t.filterTags),g[e]}var y={getSearchContext:v,common:h,isSearchContext:b};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"emptySearchState","/home/sujit/projects/ndrrma/survey/source/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(_,"initialState","/home/sujit/projects/ndrrma/survey/source/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(f,"SearchContext","/home/sujit/projects/ndrrma/survey/source/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(h,"commonMethods","/home/sujit/projects/ndrrma/survey/source/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(b,"isSearchContext","/home/sujit/projects/ndrrma/survey/source/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(g,"contexts","/home/sujit/projects/ndrrma/survey/source/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(v,"getSearchContext","/home/sujit/projects/ndrrma/survey/source/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(y,"searches","/home/sujit/projects/ndrrma/survey/source/jsapp/js/searches.es6"))},42:function(e,t,r){"use strict";r.d(t,"a",function(){return _});var o=r(20),a=r(2),n=r(3);function s(e){var t=[];if(e.formView&&t.push(c(e.username,a.PERMISSIONS_CODENAMES.view_asset)),e.formEdit&&t.push(c(e.username,a.PERMISSIONS_CODENAMES.change_asset)),e.formManage&&t.push(c(e.username,a.PERMISSIONS_CODENAMES.manage_asset)),e.submissionsViewPartial){var r=c(e.username,a.PERMISSIONS_CODENAMES.partial_submissions);r.partial_permissions=[{url:o.a.getPermissionByCodename(a.PERMISSIONS_CODENAMES.view_submissions).url,filters:[{_submitted_by:{$in:e.submissionsViewPartialUsers}}]}],t.push(r)}else e.submissionsView&&t.push(c(e.username,a.PERMISSIONS_CODENAMES.view_submissions));return e.submissionsAdd&&t.push(c(e.username,a.PERMISSIONS_CODENAMES.add_submissions)),e.submissionsEdit&&t.push(c(e.username,a.PERMISSIONS_CODENAMES.change_submissions)),e.submissionsDelete&&t.push(c(e.username,a.PERMISSIONS_CODENAMES.delete_submissions)),e.submissionsValidate&&t.push(c(e.username,a.PERMISSIONS_CODENAMES.validate_submissions)),l(t=i(t))}function i(e){var t=new Set;return e.forEach(function(e){o.a.getPermission(e.permission).contradictory.forEach(function(e){t.add(e)})}),e.filter(function(e){return!t.has(e.permission)})}function l(e){var t=new Set;return e.forEach(function(e){o.a.getPermission(e.permission).implied.forEach(function(e){t.add(e)})}),e.filter(function(e){return!t.has(e.permission)})}function c(e,t){return{user:Object(n.buildUserUrl)(e),permission:o.a.getPermissionByCodename(t).url}}function u(e){var t={};return e.forEach(function(e){e.permission===o.a.getPermissionByCodename(a.PERMISSIONS_CODENAMES.view_asset).url&&(t.formView=!0),e.permission===o.a.getPermissionByCodename(a.PERMISSIONS_CODENAMES.change_asset).url&&(t.formEdit=!0),e.permission===o.a.getPermissionByCodename(a.PERMISSIONS_CODENAMES.manage_asset).url&&(t.formManage=!0),e.permission===o.a.getPermissionByCodename(a.PERMISSIONS_CODENAMES.partial_submissions).url&&(t.submissionsView=!0,t.submissionsViewPartial=!0,e.partial_permissions.forEach(function(e){e.filters.forEach(function(e){e._submitted_by&&(t.submissionsViewPartialUsers=e._submitted_by.$in)})})),e.permission===o.a.getPermissionByCodename(a.PERMISSIONS_CODENAMES.add_submissions).url&&(t.submissionsAdd=!0),e.permission===o.a.getPermissionByCodename(a.PERMISSIONS_CODENAMES.view_submissions).url&&(t.submissionsView=!0),e.permission===o.a.getPermissionByCodename(a.PERMISSIONS_CODENAMES.change_submissions).url&&(t.submissionsEdit=!0),e.permission===o.a.getPermissionByCodename(a.PERMISSIONS_CODENAMES.delete_submissions).url&&(t.submissionsDelete=!0),e.permission===o.a.getPermissionByCodename(a.PERMISSIONS_CODENAMES.validate_submissions).url&&(t.submissionsValidate=!0)}),t}function p(e){var t=[];return e.forEach(function(e){e.permissions.forEach(function(r){var o={user:e.user.url,permission:r.permission};r.partial_permissions&&(o.partial_permissions=r.partial_permissions),t.push(o)})}),t}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[],s={};return e.forEach(function(e){(Object(n.getUsernameFromUrl)(e.user)!==a.ANON_USERNAME||r)&&(s[e.user]||(s[e.user]=[]),s[e.user].push({url:e.url,permission:e.permission,partial_permissions:e.partial_permissions?e.partial_permissions:void 0}))}),Object.keys(s).forEach(function(e){o.push({user:{url:e,name:Object(n.getUsernameFromUrl)(e),isOwner:e===t||Object(n.getUsernameFromUrl)(e)===Object(n.getUsernameFromUrl)(t)},permissions:s[e]})}),m(o)}function m(e){return e.sort(function(e,t){return e.user.isOwner?-1:t.user.isOwner?1:e.user.url<t.user.url?-1:e.user.url>t.user.url?1:0})}var _={parseFormData:s,buildFormData:u,parseBackendData:d,parseUserWithPermsList:p,sortParseBackendOutput:m};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"parseFormData","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(i,"removeContradictoryPerms","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(l,"removeImpliedPerms","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(c,"buildBackendPerm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(u,"buildFormData","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(p,"parseUserWithPermsList","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(d,"parseBackendData","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(m,"sortParseBackendOutput","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(_,"permParser","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permParser.es6"))},43:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return l});var o=r(7),a=r.n(o),n=r(13),s=r(39),i={};new Set(["MY_LIBRARY","PUBLIC_COLLECTIONS"]).forEach(function(e){i[e]=e}),Object.freeze(i);var l=a.a.createStore({previousPath:n.f.getCurrentLocation().pathname,data:{context:null,searchPhrase:""},init:function(){n.f.listen(this.onRouteChange.bind(this)),this.resetContext()},onRouteChange:function(e){this.previousPath.split("/")[1]!==e.pathname.split("/")[1]&&this.clear(),this.previousPath=e.pathname,this.resetContext()},getSearchPhrase:function(){return this.data.searchPhrase},setSearchPhrase:function(e){this.data.searchPhrase!==e&&(this.data.searchPhrase=e,this.trigger(this.data))},getContext:function(){return this.data.context},resetContext:function(){var e=null;Object(s.d)()?e=i.MY_LIBRARY:Object(s.e)()&&(e=i.PUBLIC_COLLECTIONS),this.data.context!==e&&(this.data.context=e,this.data.searchPhrase="",this.trigger(this.data))},clear:function(){this.setSearchPhrase("")}});"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("","DEFAULT_SEARCH_PHRASE","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/header/searchBoxStore.es6"),__REACT_HOT_LOADER__.register(i,"SEARCH_CONTEXTS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/header/searchBoxStore.es6"),__REACT_HOT_LOADER__.register(l,"searchBoxStore","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/header/searchBoxStore.es6"))},45:function(e,t,r){var o,a,n,s,i,l,c,u,p,d,m=[].slice;r(15),a=r(331),o=r(332),n=r(333),l=r(334),s=r(335),i=r(336),c=r(337),u=r(338),e.exports=((d={choices:a,params:n,row:l,rowDetail:s,rowSelector:i,surveyApp:c,surveyDetails:u})["AcceptedFilesView.input"]=o.acceptedFilesInput,d["ParamsView.numberParam"]=n.numberParam,d["ParamsView.booleanParam"]=n.booleanParam,d["xlfListView.addOptionButton"]=a.addOptionButton,d.xlfSurveyDetailView=u.xlfSurveyDetailView,d["row.mandatorySettingSelector"]=l.mandatorySettingSelector,d["row.rowErrorView"]=l.rowErrorView,d["row.xlfRowView"]=l.xlfRowView,d["row.scoreView"]=l.scoreView,d["row.rankView"]=l.rankView,d.surveyApp=c.surveyApp,d["xlfRowSelector.line"]=i.line,d["xlfRowSelector.cell"]=i.cell,d["xlfRowSelector.namer"]=i.namer,d.xlfDetailView=s,p=function(){var e,t,r;if(e=arguments[0],t=2<=arguments.length?m.call(arguments,1):[],!(r=d[e]))throw new Error("Template not available: '"+e+"'");if("function"!=typeof r)throw new Error("Template not a function: '"+e+"'");return r.apply(null,t)},d.$$render=p,d)},451:function(e,r,o){"use strict";(function(e){var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(13),m=o(18),_=o(6),f=o(7),h=o.n(f),b=o(1),g=o(5),v=o(17),y=o(8),w=o(3),k=o(12),E=o(2),x=o(40),S=o(116),T=o(453),O=o(454),C=o(36);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=D(e);if(t){var a=D(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?P(e):t}(this,r)}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,h.a.Component);var o,a,s=L(i);function i(e){var t;return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this,e)).state=Object(w.assign)({asset:!1,currentLang:Object(w.currentLang)(),isLanguageSelectorVisible:!1,formFiltersContext:x.a.getSearchContext("forms",{filterParams:{assetType:E.COMMON_QUERIES.s},filterTags:E.COMMON_QUERIES.s})},_.a.pageState.state),t.stores=[_.a.session,_.a.pageState],t.unlisteners=[],p()(P(t)),t}return o=i,(a=[{key:"componentDidMount",value:function(){this.unlisteners.push(_.a.asset.listen(this.onAssetLoad),C.a.listen(this.forceRender))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"componentWillUpdate",value:function(e){this.props.assetid!==e.assetid&&this.setState({asset:!1})}},{key:"forceRender",value:function(){this.setState(this.state)}},{key:"isSearchBoxDisabled",value:function(){return!!this.isMyLibrary()&&null===C.a.getCurrentUserTotalAssets()}},{key:"onAssetLoad",value:function(e){var t=e[this.props.assetid];this.setState(Object(w.assign)({asset:t}))}},{key:"logout",value:function(){g.a.auth.logout()}},{key:"toggleLanguageSelector",value:function(){this.setState({isLanguageSelectorVisible:!this.state.isLanguageSelectorVisible})}},{key:"accountSettings",value:function(){g.a.auth.verifyLogin.triggerAsync().then(function(){d.f.push(E.ROUTES.ACCOUNT_SETTINGS)})}},{key:"languageChange",value:function(r){r.preventDefault();var o=e(r.target).data("key");o&&y.a.setLanguage({language:o}).always(function(){"reload"in window.location?window.location.reload():window.alert(t("Please refresh the page"))})}},{key:"renderLangItem",value:function(e){return n.a.createElement(b.a.AccountBox__menuLI,{key:e.value},n.a.createElement(b.a.AccountBox__menuLink,{onClick:this.languageChange,"data-key":e.value},e.label))}},{key:"renderAccountNavMenu",value:function(){var e=!1;if(_.a.session&&_.a.session.environment&&"string"==typeof _.a.session.environment.terms_of_service_url&&A(_.a.session.environment.terms_of_service_url.length)>=1&&(e=!0),_.a.session&&_.a.session.environment&&"string"==typeof _.a.session.environment.privacy_policy_url&&A(_.a.session.environment.privacy_policy_url.length)>=1&&(e=!0),_.a.session.environment&&_.a.session.environment.interface_languages,_.a.session.currentAccount){var r=_.a.session.currentAccount.username,o=_.a.session.currentAccount.email,a={background:"#".concat(Object(w.stringToColor)(r))},s=n.a.createElement(b.a.AccountBox__initials,{style:a},r.charAt(0));return n.a.createElement(b.a.AccountBox,null,n.a.createElement(m.a.PopoverMenu,{type:"account-menu",triggerLabel:s,buttonType:"text"},n.a.createElement(b.a.AccountBox__menu,null,n.a.createElement(b.a.AccountBox__menuLI,{key:"1"},n.a.createElement(b.a.AccountBox__menuItem,{m:"avatar"},s),n.a.createElement(b.a.AccountBox__menuItem,{m:"mini-profile"},n.a.createElement("span",{className:"account-username"},r),n.a.createElement("span",{className:"account-email"},o)),n.a.createElement(b.a.AccountBox__menuItem,{m:"settings"},n.a.createElement(b.a.KoboButton,{onClick:this.accountSettings,m:["blue","fullwidth"]},t("Account Settings")))),e&&n.a.createElement(b.a.AccountBox__menuLI,{key:"2",className:"environment-links"},_.a.session.environment.terms_of_service_url&&n.a.createElement("a",{href:_.a.session.environment.terms_of_service_url,target:"_blank"},t("Terms of Service")),_.a.session.environment.privacy_policy_url&&n.a.createElement("a",{href:_.a.session.environment.privacy_policy_url,target:"_blank"},t("Privacy Policy"))),n.a.createElement(b.a.AccountBox__menuLI,{m:"logout",key:"4"},n.a.createElement(b.a.AccountBox__menuLink,{onClick:this.logout},n.a.createElement("i",{className:"k-icon-logout"}),t("Logout"))))))}return null}},{key:"renderGitRevInfo",value:function(){if(_.a.session.currentAccount&&_.a.session.currentAccount.git_rev){var e=_.a.session.currentAccount.git_rev;return n.a.createElement(b.a.GitRev,null,n.a.createElement(b.a.GitRev__item,null,"branch: ",e.branch),n.a.createElement(b.a.GitRev__item,null,"commit: ",e.short))}return!1}},{key:"toggleFixedDrawer",value:function(){_.a.pageState.toggleFixedDrawer()}},{key:"render",value:function(){var e=!1;this.state.asset&&(e=this.userCan("change_asset",this.state.asset));var r="";this.state.asset&&(r=Object(k.d)(this.state.asset));var o=t("Search My Library");return this.isPublicCollections()&&(o=t("Search Public Collections")),n.a.createElement(b.a.MainHeader,{className:"mdl-layout__header"},n.a.createElement("div",{className:"mdl-layout__header-row"},n.a.createElement(b.a.Button,{m:"icon",onClick:this.toggleFixedDrawer},n.a.createElement("i",{className:"fa fa-bars"})),n.a.createElement("span",{className:"mdl-layout-title"},n.a.createElement("a",{href:"/"},n.a.createElement(b.a.Header__logo,null))),this.isFormList()&&n.a.createElement("div",{className:"mdl-layout__header-searchers"},n.a.createElement(S.c,{searchContext:this.state.formFiltersContext,placeholderText:t("Search Projects")})),(this.isMyLibrary()||this.isPublicCollections())&&n.a.createElement("div",{className:"mdl-layout__header-searchers"},n.a.createElement(O.a,{placeholder:o,disabled:this.isSearchBoxDisabled()})),!this.isLibrary()&&this.state.asset&&this.isFormSingle()&&n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a.MainHeader__icon,{className:r}),n.a.createElement(T.a,{asset:this.state.asset,isEditable:e}),this.isFormSingle()&&this.state.asset.has_deployment&&n.a.createElement(b.a.MainHeader__counter,null,this.state.asset.deployment__submission_count," ",t("submissions"))),this.renderAccountNavMenu()),this.renderGitRevInfo())}}])&&R(o.prototype,a),i}();c()(F.prototype,h.a.ListenerMixin),c()(F.prototype,v.a.contextRouter),c()(F.prototype,v.a.permissions),F.contextTypes={router:i.a.object};var M=F;r.a=M,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(F,"MainHeader","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/header.es6"),__REACT_HOT_LOADER__.register(M,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/header.es6"))}).call(this,o(19))},453:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(7),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(14),m=o.n(d),_=o(1),f=o(6),h=o(5),b=o(12),g=o(2);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=x(e);if(t){var a=x(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?E(e):t}(this,r)}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(s,n.a.Component);var r,o,a=k(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).typingTimer=null,t.state={name:t.props.asset.name,isPending:!1},p()(E(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(f.a.asset,this.onAssetLoad)}},{key:"onAssetLoad",value:function(){this.setState({name:this.props.asset.name,isPending:!1})}},{key:"updateAssetTitle",value:function(){return this.state.name.trim()||this.props.asset.asset_type!==g.ASSET_TYPES.survey.id?(this.setState({isPending:!0}),h.a.resources.updateAsset(this.props.asset.uid,{name:this.state.name}),!0):(m.a.error(t("Please enter a title for your ##type##").replace("##type##",g.ASSET_TYPES[this.props.asset.asset_type].label)),!1)}},{key:"assetTitleChange",value:function(e){this.setState({name:Object(b.l)(e.target.value)}),clearTimeout(this.typingTimer),this.typingTimer=setTimeout(this.updateAssetTitle.bind(this),1500)}},{key:"assetTitleKeyDown",value:function(e){e.keyCode===g.KEY_CODES.ENTER&&(clearTimeout(this.typingTimer),this.updateAssetTitle()&&e.currentTarget.blur())}},{key:"render",value:function(){var e=[];"string"==typeof this.state.name&&this.state.name.length>125&&e.push("long");var r="",o=Object(b.c)(this.props.asset);switch(this.props.asset.asset_type){case g.ASSET_TYPES.question.id:case g.ASSET_TYPES.block.id:case g.ASSET_TYPES.template.id:r=o.question?o.question:t("untitled ##type##").replace("##type##",g.ASSET_TYPES[this.props.asset.asset_type].label);break;case g.ASSET_TYPES.collection.id:r=t("untitled collection");break;case g.ASSET_TYPES.survey.id:r=t("project title")}return n.a.createElement(_.a.MainHeader__title,{m:e},n.a.createElement("input",{type:"text",name:"title",maxLength:g.NAME_MAX_LENGTH,placeholder:r,value:this.state.name,onChange:this.assetTitleChange.bind(this),onKeyDown:this.assetTitleKeyDown.bind(this),disabled:!this.props.isEditable||this.state.isPending}))}}])&&y(r.prototype,o),s}();c()(S.prototype,i.a.ListenerMixin);var T=S;r.a=T,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(S,"HeaderTitleEditor","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/header/headerTitleEditor.es6"),__REACT_HOT_LOADER__.register(T,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/header/headerTitleEditor.es6"))},454:function(e,r,o){"use strict";o.d(r,"a",function(){return E});var a=o(15),n=o(0),s=o.n(n),i=o(7),l=o.n(i),c=o(11),u=o.n(c),p=o(9),d=o.n(p),m=o(18),_=o(1),f=o(43),h=o(2);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=k(e);if(t){var a=k(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?w(e):t}(this,r)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,s.a.Component);var r,o,n=y(i);function i(e){var t;return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=n.call(this,e)).state={inputVal:f.b.getSearchPhrase()},t.setSearchPhraseDebounced=a.default.debounce(t.setSearchPhrase,500),d()(w(t)),t}return r=i,(o=[{key:"componentDidMount",value:function(){this.listenTo(f.b,this.searchBoxStoreChanged)}},{key:"searchBoxStoreChanged",value:function(e){this.setState({inputVal:e.searchPhrase})}},{key:"onInputChange",value:function(e){var t=e.target.value;this.setState({inputVal:t}),this.setSearchPhraseDebounced(t)}},{key:"onInputKeyUp",value:function(e){e.keyCode===h.KEY_CODES.ENTER&&this.setSearchPhrase(e.target.value.trim())}},{key:"setSearchPhrase",value:function(e){f.b.setSearchPhrase(e.trim())}},{key:"clear",value:function(){f.b.clear()}},{key:"render",value:function(){return s.a.createElement(_.a.Search,null,s.a.createElement(_.a.Search__icon,null),s.a.createElement(m.a.SearchBox,{value:this.state.inputVal,onChange:this.onInputChange,onKeyUp:this.onInputKeyUp,placeholder:this.props.placeholder||t("Search…"),disabled:this.props.disabled}),""!==this.state.inputVal&&s.a.createElement(_.a.Search__cancel,{onClick:this.clear}))}}])&&g(r.prototype,o),i}();u()(E.prototype,l.a.ListenerMixin),"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(E,"SearchBox","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/header/searchBox.es6")},455:function(e,r,o){"use strict";var a=o(5),n=o(3);function s(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t){var r=t.survey;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.survey=r}var r,o;return r=e,(o=[{key:"add_row_to_question_library",value:function(e,r){if("Row"===e.constructor.kls){var o,s=e.toJSON2(),i=this.survey.toFlatJSON(),l=JSON.parse(Object(n.unnullifyTranslations)(JSON.stringify(i),r)),c=l.settings,u=l.survey;if("select_one"===s.type||"select_multiple"===s.type){var p=l.choices.filter(function(e){return e.list_name===s.select_from_list_name});for(var d in u)u[d].$kuid==e.toJSON2().$kuid&&(o=JSON.stringify({survey:[u[d]],choices:p,settings:c}))}else for(var m in u)u[m].$kuid==e.toJSON2().$kuid&&(o=JSON.stringify({survey:[u[m]],choices:p,settings:c}));a.a.resources.createResource.triggerAsync({asset_type:"question",content:o}).then(function(){Object(n.notify)(t("question has been added to the library"))})}else console.error("cannot add group to question library")}},{key:"handleItem",value:function(e){var t=e.position,r=e.itemUid,o=e.groupId;if(!r)throw new Error("itemUid not provided!");a.a.survey.addExternalItemAtPosition({position:t,uid:r,survey:this.survey,groupId:o})}}])&&s(r.prototype,o),e}(),l=i;r.a=l,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"SurveyScope","/home/sujit/projects/ndrrma/survey/source/jsapp/js/models/surveyScope.es6"),__REACT_HOT_LOADER__.register(l,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/models/surveyScope.es6"))},456:function(e,r,o){"use strict";o.d(r,"a",function(){return b});var a=o(0),n=o.n(a),s=o(33),i=o.n(s),l=o(1),c=o(70),u=o.n(c),p=o(15),d=o(6),m=l.a.create("cascade-popup"),_=l.a.create("cascade-popup__message"),f=l.a.create("cascade-popup__buttonWrapper"),h=l.a.create("cascade-popup__button","<button>"),b={toggleCascade:function(){var e=p.default.last(this.app.selectedRows()),t=e?this.app.survey.rows.indexOf(e):-1;this.setState({showCascadePopup:!this.state.showCascadePopup,cascadeTextareaValue:"",cascadeLastSelectedRowIndex:t})},cancelCascade:function(){this.setState({cascadeError:!1,cascadeReady:!1,cascadeReadySurvey:!1,addCascadePopup:!1,cascadeTextareaValue:"",cascadeStr:"",showCascadePopup:!1})},cascadePopopChange:function(e){var r={cascadeTextareaValue:i.a.findDOMNode(this.refs.cascade).value};try{var o=u.a.model.utils.split_paste(r.cascadeTextareaValue),a=new u.a.model.Survey({survey:[],choices:o});if(0===a.choices.length)throw new Error(t("Paste your formatted table from excel in the box below."));a.choices.at(0).create_corresponding_rows();var n=a.rows.length;if(0===n)throw new Error(t("Paste your formatted table from excel in the box below."));r.cascadeReady=!0,r.cascadeReadySurvey=a,r.cascadeMessage={msgType:"ready",addCascadeMessage:t("add cascade with # questions").replace("#",n)}}catch(e){r.cascadeReady=!1,r.cascadeMessage={msgType:"warning",message:e.message}}this.setState(r)},renderCascadePopup:function(){var e=this;return n.a.createElement(m,null,this.state.cascadeMessage?n.a.createElement(_,{m:this.state.cascadeMessage.msgType},this.state.cascadeMessage.message):n.a.createElement(_,{m:"instructions"},t("Paste your formatted table from excel in the box below.")),this.state.cascadeReady?n.a.createElement(_,{m:"ready"},t("OK")):null,n.a.createElement("textarea",{ref:"cascade",onChange:this.cascadePopopChange,value:this.state.cascadeTextareaValue}),d.a.serverEnvironment&&d.a.serverEnvironment.state.support_url&&n.a.createElement("div",{className:"cascade-help right-tooltip"},n.a.createElement("a",{href:d.a.serverEnvironment.state.support_url+"cascading_select.html",target:"_blank","data-tip":t("Learn more about importing cascading lists from Excel")},n.a.createElement("i",{className:"k-icon-help"}))),n.a.createElement(f,null,n.a.createElement(h,{disabled:!this.state.cascadeReady,onClick:function(){e.app.survey.insertSurvey(e.state.cascadeReadySurvey,e.state.cascadeLastSelectedRowIndex),e.cancelCascade()}},t("DONE"))))}};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"CascadePopup","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/cascadeMixin.es6"),__REACT_HOT_LOADER__.register(_,"CascadePopup__message","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/cascadeMixin.es6"),__REACT_HOT_LOADER__.register(f,"CascadePopup__buttonWrapper","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/cascadeMixin.es6"),__REACT_HOT_LOADER__.register(h,"CascadePopup__button","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/cascadeMixin.es6"),__REACT_HOT_LOADER__.register("cascading_select.html","CHOICE_LIST_SUPPORT_URL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/cascadeMixin.es6"),__REACT_HOT_LOADER__.register(b,"cascadeMixin","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/cascadeMixin.es6"))},457:function(e,r,o){"use strict";(function(e){var a=o(0),n=o.n(a),s=o(33),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(6),f=o(1),h=o(40),b=o(18),g=o(2),v=o(116);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t,r){return t&&k(e.prototype,t),r&&k(e,r),e}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=O(e);if(t){var a=O(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?T(e):t}(this,r)}}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(r){x(a,n.a.Component);var o=S(a);function a(e){var t;return w(this,a),(t=o.call(this,e)).state={},p()(T(t)),t}return E(a,[{key:"componentDidMount",value:function(){this.searchClear(),this.listenTo(this.searchStore,this.searchStoreChanged)}},{key:"searchStoreChanged",value:function(e){this.setState(e)}},{key:"activateSortable",value:function(){if(this.refs.liblist){var t=e(i.a.findDOMNode(this.refs.liblist));t.hasClass("ui-sortable")&&t.sortable("destroy"),t.sortable({helper:"clone",cursor:"move",distance:5,items:"> li",connectWith:[".survey-editor__list",".group__rows"],opacity:.9,scroll:!1,deactivate:function(){t.sortable("cancel")}})}}},{key:"render",value:function(){var e,r,o,a=this,s=this.state.searchResultsDisplayed;return s?(o=this.state.searchState,e=this.state.searchResultsList,r=this.state.searchResultsCount):(o=this.state.defaultQueryState,e=this.state.defaultQueryResultsList,r=this.state.defaultQueryCount),"done"!==o?n.a.createElement(f.a.LibList,{m:"empty"},n.a.createElement(f.a.LibList__item,{m:"message"},t("loading"))):0===r?n.a.createElement(f.a.LibList,{m:"empty"},n.a.createElement(f.a.LibList__item,{m:"message"},t("no search results found"))):(window.setTimeout(function(){a.activateSortable()},1),n.a.createElement(f.a.LibList,{m:["done",s?"search":"default"],ref:"liblist"},e.map(function(e){var r=[e.asset_type],o=e.summary;return null!=o.row_count&&e.asset_type!==g.ASSET_TYPES.survey.id&&n.a.createElement(f.a.LibList__item,{m:r,key:e.uid,"data-uid":e.uid},n.a.createElement(f.a.LibList__dragbox,null),n.a.createElement(f.a.LibList__label,{m:"name"},n.a.createElement(b.a.AssetName,e)),"block"===e.asset_type&&n.a.createElement(f.a.LibList__qtype,null,t("block of ___ questions").replace("___",o.row_count)),_.a.pageState.state.assetNavExpanded&&"block"===e.asset_type&&n.a.createElement("ol",null,o.labels.map(function(e,t){return n.a.createElement("li",{key:t},e)})),_.a.pageState.state.assetNavExpanded&&n.a.createElement(f.a.LibList__tags,null,(e.tags||[]).map(function(e,t){return n.a.createElement(f.a.LibList__tag,{key:t},e)})))})))}}]),a}();c()(C.prototype,h.a.common),c()(C.prototype,m.a.ListenerMixin);var A=function(e){x(o,m.a.Component);var r=S(o);function o(e){var t;return w(this,o),(t=r.call(this,e)).state={searchResults:{},imports:[],searchContext:h.a.getSearchContext("library",{filterParams:{assetType:g.COMMON_QUERIES.qbt}}),selectedTags:[]},t.store=_.a.tags,p()(T(t)),t}return E(o,[{key:"componentDidMount",value:function(){this.listenTo(_.a.pageState,this.handlePageStateStore),this.state.searchContext.mixin.searchDefault()}},{key:"filterSearchResults",value:function(e){if(this.searchFieldValue()===e.query)return e.results}},{key:"handlePageStateStore",value:function(e){this.setState(e)}},{key:"getImportsByStatus",value:function(e){return this.imports.filter(function(t){return t.status===e})}},{key:"searchFieldValue",value:function(){return this.refs.navigatorSearchBox.getValue()}},{key:"toggleTagSelected",value:function(e){var t=this.state.selectedTags,r=t.indexOf(e);-1===r?t.push(e):t.splice(t.indexOf(r),1),this.setState({selectedTags:t})}},{key:"render",value:function(){return n.a.createElement(f.a.LibNav,null,n.a.createElement(f.a.LibNav__header,null,n.a.createElement(f.a.LibNav__search,null,n.a.createElement(v.c,{ref:"navigatorSearchBox",placeholder:t("search library"),searchContext:this.state.searchContext})),n.a.createElement(v.d,{searchContext:this.state.searchContext}),n.a.createElement(v.a,{searchContext:this.state.searchContext}),n.a.createElement(v.b,{searchContext:this.state.searchContext})),n.a.createElement(f.a.LibNav__content,null,n.a.createElement(C,{searchContext:this.state.searchContext})),n.a.createElement(f.a.LibNav__footer,null))}}]),o}();c()(A.prototype,m.a.connectFilter(_.a.assetSearch,"searchResults",A.prototype.filterSearchResults));var R=A;r.a=R,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(C,"AssetNavigatorListView","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/assetNavigator.es6"),__REACT_HOT_LOADER__.register(A,"AssetNavigator","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/assetNavigator.es6"),__REACT_HOT_LOADER__.register(R,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/editorMixins/assetNavigator.es6"))}).call(this,o(19))},459:function(e,r,o){"use strict";o.d(r,"a",function(){return y});var a=o(0),n=o.n(a),s=o(9),i=o.n(s),l=o(22),c=o(26),u=o(3),p=o(2),d=o(1),m=o(6);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=v(e);if(t){var a=v(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?g(e):t}(this,r)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,n.a.Component);var r,o,a=b(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={metaProperties:[]},i()(g(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.rebuildState()}},{key:"rebuildState",value:function(){var e=this,t={metaProperties:[]};Object.keys(p.META_QUESTION_TYPES).forEach(function(r){var o=e.getSurveyDetail(r);o&&t.metaProperties.push(Object(u.assign)({},o.attributes))}),this.setState(t)}},{key:"getMetaProperty",value:function(e){return this.state.metaProperties.find(function(t){return t.name===e})}},{key:"getSurveyDetail",value:function(e){return this.props.survey.surveyDetails.filter(function(t){return t.attributes.name===e})[0]}},{key:"onCheckboxChange",value:function(e,t){this.getSurveyDetail(e).set("value",t),this.rebuildState(),"function"==typeof this.props.onChange&&this.props.onChange()}},{key:"onAuditParametersChange",value:function(e){this.getSurveyDetail(p.META_QUESTION_TYPES.audit).set("parameters",e),this.rebuildState(),"function"==typeof this.props.onChange&&this.props.onChange()}},{key:"isAuditEnabled",value:function(){return!0===this.getMetaProperty(p.META_QUESTION_TYPES.audit).value}},{key:"getAuditParameters",value:function(){return this.getMetaProperty(p.META_QUESTION_TYPES.audit).parameters}},{key:"renderAuditInputLabel",value:function(){return n.a.createElement(n.a.Fragment,null,t("Audit settings"),m.a.serverEnvironment&&m.a.serverEnvironment.state.support_url&&n.a.createElement(d.a.TextBox__labelLink,{href:m.a.serverEnvironment.state.support_url+"audit_logging.html",target:"_blank"},n.a.createElement("i",{className:"k-icon k-icon-help"})))}},{key:"render",value:function(){var e=this;if(0===this.state.metaProperties.length)return null;var t=[p.META_QUESTION_TYPES.start,p.META_QUESTION_TYPES.end,p.META_QUESTION_TYPES.today,p.META_QUESTION_TYPES.deviceid,p.META_QUESTION_TYPES.audit],r=[p.META_QUESTION_TYPES.username,p.META_QUESTION_TYPES.simserial,p.META_QUESTION_TYPES.subscriberid,p.META_QUESTION_TYPES.phonenumber];return n.a.createElement(d.a.FormBuilderMeta,null,n.a.createElement(d.a.FormBuilderMeta__columns,null,n.a.createElement(d.a.FormBuilderMeta__column,null,t.map(function(t){var r=e.getMetaProperty(t);return n.a.createElement(l.a,{key:"meta-".concat(r.name),label:r.label,checked:r.value,onChange:e.onCheckboxChange.bind(e,r.name)})})),n.a.createElement(d.a.FormBuilderMeta__column,null,r.map(function(t){var r=e.getMetaProperty(t);return n.a.createElement(l.a,{key:"meta-".concat(r.name),label:r.label,checked:r.value,onChange:e.onCheckboxChange.bind(e,r.name)})}))),this.isAuditEnabled()&&n.a.createElement(d.a.FormBuilderMeta__row,null,n.a.createElement(c.a,{label:this.renderAuditInputLabel(),value:this.getAuditParameters(),onChange:this.onAuditParametersChange})))}}])&&f(r.prototype,o),s}();"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("audit_logging.html","AUDIT_SUPPORT_URL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/metadataEditor.es6"),__REACT_HOT_LOADER__.register(y,"MetadataEditor","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/metadataEditor.es6"))},460:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(28),f=o.n(_),h=o(84),b=o(17),g=o(1),v=o(3),y=o(36),w=o(130),k=o(21);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=C(e);if(t){var a=C(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?O(e):t}(this,r)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(s,n.a.Component);var r,o,a=T(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state=t.getFreshState(),t.unlisteners=[],p()(O(t)),t}return r=s,(o=[{key:"getFreshState",value:function(){return{isLoading:y.a.data.isFetchingData,assets:y.a.data.assets,metadata:y.a.data.metadata,totalAssets:y.a.data.totalSearchAssets,orderColumnId:y.a.data.orderColumnId,orderValue:y.a.data.orderValue,filterColumnId:y.a.data.filterColumnId,filterValue:y.a.data.filterValue,currentPage:y.a.data.currentPage,totalPages:y.a.data.totalPages}}},{key:"componentDidMount",value:function(){this.unlisteners.push(y.a.listen(this.myLibraryStoreChanged))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"myLibraryStoreChanged",value:function(){this.setState(this.getFreshState())}},{key:"onAssetsTableOrderChange",value:function(e,t){y.a.setOrder(e,t)}},{key:"onAssetsTableFilterChange",value:function(e,t){y.a.setFilter(e,t)}},{key:"onAssetsTableSwitchPage",value:function(e){y.a.setCurrentPage(e)}},{key:"render",value:function(){var e=t("Your search returned no results.");return 0===y.a.data.totalUserAssets&&(e=n.a.createElement("div",null,t("Let's get started by creating your first library question, block, template or collection. Click the New button to create it."),n.a.createElement("div",{className:"pro-tip"},t("Advanced users: You can also drag and drop XLSForms here and they will be uploaded and converted to library items.")))),n.a.createElement(f.a,{title:"".concat(t("My Library")," | KoboToolbox")},n.a.createElement(h.a,{onDrop:this.dropFiles,disableClick:!0,multiple:!0,className:"dropzone",activeClassName:"dropzone--active",accept:Object(v.validFileTypes)()},n.a.createElement(g.a.Breadcrumbs,{m:"gray-wrapper"},n.a.createElement(g.a.Breadcrumbs__crumb,null,k.d.MY_LIBRARY.label)),n.a.createElement(w.a,{context:k.b.MY_LIBRARY,isLoading:this.state.isLoading,assets:this.state.assets,totalAssets:this.state.totalAssets,metadata:this.state.metadata,orderColumnId:this.state.orderColumnId,orderValue:this.state.orderValue,onOrderChange:this.onAssetsTableOrderChange.bind(this),filterColumnId:this.state.filterColumnId,filterValue:this.state.filterValue,onFilterChange:this.onAssetsTableFilterChange.bind(this),currentPage:this.state.currentPage,totalPages:this.state.totalPages,onSwitchPage:this.onAssetsTableSwitchPage.bind(this),emptyMessage:e}),n.a.createElement("div",{className:"dropzone-active-overlay"},n.a.createElement("i",{className:"k-icon k-icon-upload"}),t("Drop files to upload"))))}}])&&x(r.prototype,o),s}();A.contextTypes={router:i.a.object},c()(A.prototype,b.a.droppable),c()(A.prototype,m.a.ListenerMixin);var R=A;r.a=R,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(A,"MyLibraryRoute","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/myLibraryRoute.es6"),__REACT_HOT_LOADER__.register(R,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/myLibraryRoute.es6"))},462:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(28),f=o.n(_),h=o(1),b=o(51),g=o(130),v=o(21);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=S(e);if(t){var a=S(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?x(e):t}(this,r)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(s,n.a.Component);var r,o,a=E(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state=t.getFreshState(),t.unlisteners=[],p()(x(t)),t}return r=s,(o=[{key:"getFreshState",value:function(){return{isLoading:b.a.data.isFetchingData,assets:b.a.data.assets,metadata:b.a.data.metadata,totalAssets:b.a.data.totalSearchAssets,orderColumnId:b.a.data.orderColumnId,orderValue:b.a.data.orderValue,filterColumnId:b.a.data.filterColumnId,filterValue:b.a.data.filterValue,currentPage:b.a.data.currentPage,totalPages:b.a.data.totalPages}}},{key:"componentDidMount",value:function(){this.unlisteners.push(b.a.listen(this.publicCollectionsStoreChanged))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"publicCollectionsStoreChanged",value:function(){this.setState(this.getFreshState())}},{key:"onAssetsTableOrderChange",value:function(e,t){b.a.setOrder(e,t)}},{key:"onAssetsTableFilterChange",value:function(e,t){b.a.setFilter(e,t)}},{key:"onAssetsTableSwitchPage",value:function(e){b.a.setCurrentPage(e)}},{key:"render",value:function(){return n.a.createElement(f.a,{title:"".concat(t("Public Collections")," | KoboToolbox")},n.a.createElement("div",{className:"public-collections-wrapper"},n.a.createElement(h.a.Breadcrumbs,{m:"gray-wrapper"},n.a.createElement(h.a.Breadcrumbs__crumb,null,v.d.PUBLIC_COLLECTIONS.label)),n.a.createElement(g.a,{context:v.b.PUBLIC_COLLECTIONS,isLoading:this.state.isLoading,assets:this.state.assets,totalAssets:this.state.totalAssets,metadata:this.state.metadata,orderColumnId:this.state.orderColumnId,orderValue:this.state.orderValue,onOrderChange:this.onAssetsTableOrderChange.bind(this),filterColumnId:this.state.filterColumnId,filterValue:this.state.filterValue,onFilterChange:this.onAssetsTableFilterChange.bind(this),currentPage:this.state.currentPage,totalPages:this.state.totalPages,onSwitchPage:this.onAssetsTableSwitchPage.bind(this)})))}}])&&w(r.prototype,o),s}();T.contextTypes={router:i.a.object},c()(T.prototype,m.a.ListenerMixin);var O=T;r.a=O,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(T,"PublicCollectionsRoute","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/publicCollectionsRoute.es6"),__REACT_HOT_LOADER__.register(O,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/publicCollectionsRoute.es6"))},463:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(13),f=o(1),h=o(8),b=o(6),g=o(18),v=o(17),y=o(5),w=o(28),k=o.n(w),E=o(385),x=o.n(E),S=o(2),T=o(3);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=L(e);if(t){var a=L(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?j(e):t}(this,r)}}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(s,n.a.Component);var r,o,a=R(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={selectedCollectMethod:"offline_url",DVCOUNT_LIMIT:20,nextPageUrl:null,nextPagesVersions:[]},p()(j(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(y.a.resources.deployAsset.completed,this.resetLoadedVersions)}},{key:"resetLoadedVersions",value:function(){this.setState({DVCOUNT_LIMIT:20,nextPageUrl:null,nextPagesVersions:[]})}},{key:"enketoPreviewModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:S.MODAL_TYPES.ENKETO_PREVIEW,assetid:this.state.uid})}},{key:"callUnarchiveAsset",value:function(){this.unarchiveAsset()}},{key:"renderFormInfo",value:function(e){var r,o=this.state.deployed_versions.count;return this.isCurrentVersionDeployed()||(r="(".concat(t("undeployed"),")"),o+=1),n.a.createElement(f.a.FormView__cell,{m:["columns","padding"]},n.a.createElement(f.a.FormView__cell,null,n.a.createElement(f.a.FormView__cell,{m:"version"},o>0?"v".concat(o):""),r&&e&&n.a.createElement(f.a.FormView__cell,{m:"undeployed"}," ",r),n.a.createElement(f.a.FormView__cell,{m:"date"},t("Last Modified")," : ",Object(T.formatTime)(this.state.date_modified)," - ",n.a.createElement("span",{className:"question-count"},this.state.summary.row_count||"0"," ",t("questions")))),n.a.createElement(f.a.FormView__cell,{m:"buttons"},e&&this.state.has_deployment&&this.state.deployment__active&&n.a.createElement("a",{className:"kobo-button kobo-button--blue",onClick:this.deployAsset},t("redeploy")),e&&!this.state.has_deployment&&!this.state.deployment__active&&n.a.createElement("a",{className:"kobo-button kobo-button--blue",onClick:this.deployAsset},t("deploy")),e&&this.state.has_deployment&&!this.state.deployment__active&&n.a.createElement("a",{className:"kobo-button kobo-button--blue",onClick:this.callUnarchiveAsset},t("unarchive"))))}},{key:"showSharingModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:S.MODAL_TYPES.SHARING,assetid:this.state.uid})}},{key:"showReplaceProjectModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:S.MODAL_TYPES.REPLACE_PROJECT,asset:this.state})}},{key:"isCurrentVersionDeployed",value:function(){var e=this;return!!(this.state.deployment__active&&this.state.deployed_versions.count>0&&this.state.deployed_version_id)&&this.state.deployed_versions.results.find(function(t){return t.uid===e.state.deployed_version_id}).content_hash===this.state.version__content_hash}},{key:"isFormRedeploymentNeeded",value:function(){return!this.isCurrentVersionDeployed()&&this.userCan("change_asset",this.state)}},{key:"hasLanguagesDefined",value:function(e){return e&&(e.length>1||null!==e[0])}},{key:"showLanguagesModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:S.MODAL_TYPES.FORM_LANGUAGES,asset:this.state})}},{key:"showEncryptionModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:S.MODAL_TYPES.ENCRYPT_FORM,asset:this.state})}},{key:"loadMoreVersions",value:function(){var e=this;this.state.DVCOUNT_LIMIT+20<=this.state.deployed_versions.count+20&&this.setState({DVCOUNT_LIMIT:this.state.DVCOUNT_LIMIT+20});var t=null;this.state.nextPageUrl?t=this.state.nextPageUrl:this.state.deployed_versions.next&&(t=this.state.deployed_versions.next),null!==t&&h.a.loadNextPageUrl(t).done(function(t){e.setState({nextPageUrl:t.deployed_versions.next});var r=e.state.nextPagesVersions;Object.values(t.deployed_versions.results).forEach(function(e){r.push(e)}),e.setState({nextPagesVersions:r})})}},{key:"renderHistory",value:function(){var e=this,r=this.state.deployed_versions.count,o=this.state.deployed_versions.results.concat(this.state.nextPagesVersions);return n.a.createElement(f.a.FormView__row,{className:this.state.historyExpanded?"historyExpanded":"historyHidden"},n.a.createElement(f.a.FormView__cell,{m:["columns","label","first","history-label"]},n.a.createElement(f.a.FormView__cell,{m:"label"},t("Form history"))),n.a.createElement(f.a.FormView__cell,{m:["box","history-table"]},n.a.createElement(f.a.FormView__group,{m:"deployments"},n.a.createElement(f.a.FormView__group,{m:["items","headings"]},n.a.createElement(f.a.FormView__label,{m:"version"},t("Version")),n.a.createElement(f.a.FormView__label,{m:"date"},t("Last Modified")),n.a.createElement(f.a.FormView__label,{m:"clone"},t("Clone"))),o.map(function(o,a){if(r-a>0)return n.a.createElement(f.a.FormView__group,{m:"items",key:a,className:a>=e.state.DVCOUNT_LIMIT?"hidden":""},n.a.createElement(f.a.FormView__label,{m:"version"},"v".concat(r-a),o.uid===e.state.deployed_version_id&&e.state.deployment__active&&n.a.createElement(f.a.FormView__cell,{m:"deployed"},t("Deployed"))),n.a.createElement(f.a.FormView__label,{m:"date"},Object(T.formatTime)(o.date_deployed)),n.a.createElement(f.a.FormView__label,{m:"clone",className:"right-tooltip"},n.a.createElement(f.a.FormView__link,{m:"clone","data-version-id":o.uid,"data-tip":t("Clone this version as a new project"),onClick:e.saveCloneAs},n.a.createElement("i",{className:"k-icon-clone"}))))}))),this.state.deployed_versions.count>1&&n.a.createElement(f.a.FormView__cell,{m:["centered"]},n.a.createElement(f.a.Button,{m:"colored",onClick:this.toggleDeploymentHistory},this.state.historyExpanded?t("Hide full history"):t("Show full history")),this.state.historyExpanded&&this.state.DVCOUNT_LIMIT<r&&n.a.createElement(f.a.Button,{m:"colored",onClick:this.loadMoreVersions},t("Load more"))))}},{key:"renderCollectData",value:function(){var e=this,r=new Map([["offline_url",{label:t("Online-Offline (multiple submission)"),desc:t("This allows online and offline submissions and is the best option for collecting data in the field. ")}],["url",{label:t("Online-Only (multiple submissions)"),desc:t("This is the best option when entering many records at once on a computer, e.g. for transcribing paper records.")}],["single_url",{label:t("Online-Only (single submission)"),desc:t('This allows a single submission, and can be paired with the "return_url" parameter to redirect the user to a URL of your choice after the form has been submitted.')}],["single_once_url",{label:t("Online-only (once per respondent)"),desc:t("This allows your web form to only be submitted once per user, using basic protection to prevent the same user (on the same browser & device) from submitting more than once.")}],["iframe_url",{label:t("Embeddable web form code"),desc:t("Use this html5 code snippet to integrate your form on your own website using smaller margins. ")}],["preview_url",{label:t("View only"),desc:t("Use this version for testing, getting feedback. Does not allow submitting data. ")}],["android",{label:t("Android application"),desc:t("Use this option to collect data in the field with your Android device.")}]]),o=[];r.forEach(function(e,t){o.push({key:t,label:e.label,desc:e.desc})});var a=this.state.selectedCollectMethod,s=document.createElement("a");s.href=this.state.deployment__identifier;var i=s.origin;return n.a.createElement(f.a.FormView__row,null,n.a.createElement(f.a.FormView__cell,{m:["label","first"]},t("Collect data")),n.a.createElement(f.a.FormView__cell,{m:"box"},n.a.createElement(f.a.FormView__cell,{m:["columns","padding"]},n.a.createElement(f.a.FormView__cell,null,n.a.createElement(g.a.PopoverMenu,{type:"collectData-menu",triggerLabel:r.get(a).label},o.map(function(t){return n.a.createElement(f.a.PopoverMenu__link,{m:["collect-row"],key:"c-".concat(t.key),"data-method":t.key,onClick:e.setCollectMethod},n.a.createElement("div",{className:"collect-data-label"},t.label),n.a.createElement("div",{className:"collect-data-desc"},t.desc))}))),n.a.createElement(f.a.FormView__cell,null,"iframe_url"!==a&&"android"!==a&&this.state.deployment__links[a]&&n.a.createElement(x.a,{text:this.state.deployment__links[a],onCopy:function(){return Object(T.notify)(t("copied to clipboard"))},options:{format:"text/plain"}},n.a.createElement("button",{className:"copy mdl-button mdl-button--colored"},t("Copy"))),"iframe_url"!==a&&"android"!==a&&n.a.createElement("a",{className:"collect-link mdl-button mdl-button--colored",target:"_blank",href:this.state.deployment__links[a]},t("Open")),"android"===a&&n.a.createElement("a",{className:"collect-link mdl-button mdl-button--colored",target:"_blank",href:"https://play.google.com/store/apps/details?id=org.koboc.collect.android&hl=en"},t("Download KoboCollect")),"iframe_url"===a&&n.a.createElement(x.a,{text:"<iframe src=".concat(this.state.deployment__links[a],' width="800" height="600"></iframe>'),onCopy:function(){return Object(T.notify)(t("copied to clipboard"))},options:{format:"text/plain"}},n.a.createElement("button",{className:"copy mdl-button mdl-button--colored"},t("Copy"))))),n.a.createElement(f.a.FormView__cell,{m:["padding","bordertop","collect-meta"]},"android"!==a&&r.get(a).desc,"iframe_url"===a&&n.a.createElement("pre",null,'<iframe src="'.concat(this.state.deployment__links[a],'" width="800" height="600"></iframe>')),"android"===a&&n.a.createElement("ol",null,n.a.createElement("li",null,t("Install")," ",n.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=org.koboc.collect.android&hl=en",target:"_blank"},"KoboCollect")," ",t("on your Android device.")),n.a.createElement("li",null,t("Click on")," ",n.a.createElement("i",{className:"fa fa-ellipsis-v"})," ",t("to open settings.")),n.a.createElement("li",null,t("Enter the server URL")," ",n.a.createElement("code",null,i)," ",t("and your username and password")),n.a.createElement("li",null,t('Open "Get Blank Form" and select this project. ')),n.a.createElement("li",null,t('Open "Enter Data."'))))))}},{key:"setCollectMethod",value:function(e){this.setState({selectedCollectMethod:e.currentTarget.dataset.method})}},{key:"renderButtons",value:function(e){var r=[];return this.state.downloads&&(r=this.state.downloads),n.a.createElement(n.a.Fragment,null,e?n.a.createElement(_.c,{to:"/forms/".concat(this.state.uid,"/edit"),className:"form-view__link form-view__link--edit","data-tip":t("Edit in Form Builder")},n.a.createElement("i",{className:"k-icon-edit"})):n.a.createElement(f.a.FormView__link,{m:["edit","disabled"],className:"right-tooltip","data-tip":t("Editing capabilities not granted, you can only view this form")},n.a.createElement("i",{className:"k-icon-edit"})),n.a.createElement(f.a.FormView__link,{m:"preview",onClick:this.enketoPreviewModal,"data-tip":t("Preview")},n.a.createElement("i",{className:"k-icon-view"})),e&&n.a.createElement(f.a.FormView__link,{m:"upload","data-tip":t("Replace form"),onClick:this.showReplaceProjectModal},n.a.createElement("i",{className:"k-icon-replace"})),n.a.createElement(g.a.PopoverMenu,{type:"formLanding-menu",triggerLabel:n.a.createElement("i",{className:"k-icon-more"}),triggerTip:t("More Actions")},r.map(function(e){return n.a.createElement(f.a.PopoverMenu__link,{m:"dl-".concat(e.format),href:e.url,key:"dl-".concat(e.format)},n.a.createElement("i",{className:"k-icon-".concat(e.format,"-file")}),t("Download")," ",e.format.toString().toUpperCase())}),e&&n.a.createElement(f.a.PopoverMenu__link,{onClick:this.showSharingModal},n.a.createElement("i",{className:"k-icon-user-share"}),t("Share this project")),n.a.createElement(f.a.PopoverMenu__link,{onClick:this.saveCloneAs},n.a.createElement("i",{className:"k-icon-clone"}),t("Clone this project")),n.a.createElement(f.a.PopoverMenu__link,{onClick:this.cloneAsTemplate,"data-asset-uid":this.state.uid,"data-asset-name":this.state.name},n.a.createElement("i",{className:"k-icon-template-new"}),t("Create template")),e&&this.state.content.survey.length>0&&n.a.createElement(f.a.PopoverMenu__link,{onClick:this.showLanguagesModal},n.a.createElement("i",{className:"k-icon-language"}),t("Manage Translations"))))}},{key:"renderLanguages",value:function(e){var r=this.state.content.translations;return n.a.createElement(f.a.FormView__cell,{m:["columns","padding","bordertop"]},n.a.createElement(f.a.FormView__cell,{m:"translation-list"},n.a.createElement("strong",null,t("Languages:"))," ",!this.hasLanguagesDefined(r)&&t("This project has no languages defined yet"),this.hasLanguagesDefined(r)&&n.a.createElement("ul",null,r.map(function(e,r){return n.a.createElement("li",{key:r},e||t("Unnamed language"))}))),e&&n.a.createElement(f.a.FormView__cell,null,n.a.createElement(f.a.FormView__link,{"data-tip":t("Manage Translations"),onClick:this.showLanguagesModal},n.a.createElement("i",{className:"k-icon-language"}))))}},{key:"render",value:function(){var e=this.state.name||t("Untitled"),r=this.userCan("change_asset",this.state);return void 0===this.state.uid?n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null),t("loading..."))):n.a.createElement(k.a,{title:"".concat(e," | KoboToolbox")},n.a.createElement(f.a.FormView,{m:"form"},n.a.createElement(f.a.FormView__row,null,n.a.createElement(f.a.FormView__cell,{m:["columns","first"]},n.a.createElement(f.a.FormView__cell,{m:"label"},this.state.deployment__active?t("Current version"):this.state.has_deployment?t("Archived version"):t("Draft version")),n.a.createElement(f.a.FormView__cell,{m:"action-buttons"},this.renderButtons(r))),n.a.createElement(f.a.FormView__cell,{m:"box"},this.isFormRedeploymentNeeded()&&n.a.createElement(f.a.FormView__cell,{m:"warning"},n.a.createElement("i",{className:"k-icon-alert"}),n.a.createElement("p",null,t("If you want to make these changes public, you must deploy this form."))),this.renderFormInfo(r),this.renderLanguages(r))),this.state.deployed_versions.count>0&&this.renderHistory(),this.state.deployed_versions.count>0&&this.state.deployment__active&&this.renderCollectData()))}}])&&C(r.prototype,o),s}();c()(P.prototype,v.a.permissions),c()(P.prototype,v.a.dmix),c()(P.prototype,m.a.ListenerMixin),P.contextTypes={router:i.a.object};var D=P;r.a=D,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(20,"DVCOUNT_LIMIT_MINIMUM","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formLanding.es6"),__REACT_HOT_LOADER__.register(P,"FormLanding","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formLanding.es6"),__REACT_HOT_LOADER__.register(D,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formLanding.es6"))},464:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(33),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(13),f=o(8),h=o(6),b=o(17),g=o(1),v=o(18),y=o(28),w=o.n(y),k=o(10),E=o.n(k),x=o(65),S=o.n(x),T=o(3),O=o(2);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=P(e);if(t){var a=P(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?L(e):t}(this,r)}}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(s,n.a.Component);var r,o,a=j(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={subsCurrentPeriod:"",subsPreviousPeriod:"",lastSubmission:!1,chartVisible:!1,chart:{},chartPeriod:"week"},t.submissionsChart=!1,p()(L(t)),t}return r=s,(o=[{key:"componentDidUpdate",value:function(e,t){this.submissionsChart||this.createChart(),t.chartPeriod==this.state.chartPeriod&&this.props.params==e.params||this.state.permissions&&this.userCan("view_submissions",this.state)&&this.prep()}},{key:"prep",value:function(){var e=this.props.params.assetid||this.props.params.uid;this.getLatestSubmissionTime(e),this.prepSubmissions(e)}},{key:"createChart",value:function(){S.a.defaults.global.elements.rectangle.backgroundColor="rgba(61, 194, 212, 0.6)";var e={type:"bar",options:{maintainAspectRatio:!1,responsive:!0,events:[""],legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0,userCallback:function(e,t,r){if(Math.floor(e)===e)return e}}}]}}},t=i.a.findDOMNode(this.refs.canvas);t&&(this.submissionsChart=new S.a(t,e),this.prep())}},{key:"prepSubmissions",value:function(e){var t=this,r="week"==this.state.chartPeriod?E()().startOf("days").subtract(6,"days"):E()().startOf("days").subtract(30,"days"),o="week"==this.state.chartPeriod?E()().startOf("days").subtract(13,"days"):E()().startOf("days").subtract(60,"days"),a='query={"_submission_time": {"$gte":"'.concat(r.toISOString(),'"}}&fields=["_id","_submission_time"]');f.a.getSubmissionsQuery(e,a).done(function(a){var n=a.results.length,s='query={"_submission_time": {"$gte":"'.concat(o.toISOString(),'"}}&fields=["_id"]');f.a.getSubmissionsQuery(e,s).done(function(e){if(n>0){var o;o="week"==t.state.chartPeriod?[0,0,0,0,0,0,0]:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a.results.forEach(function(e,t){var a=new Date(e._submission_time),n=E()(a.valueOf()-60*a.getTimezoneOffset()*1e3).diff(r,"days");o[n]+=1});for(var s=[],i=r,l=E()();i<=l;)s.push(i.format("DD MMM")),i=i.clone().add(1,"d");t.submissionsChart.data&&(t.submissionsChart.data.labels=s,t.submissionsChart.data.datasets=[{data:o}],t.submissionsChart.update())}t.setState({subsPreviousPeriod:e.results.length-n,subsCurrentPeriod:n,chartVisible:!!n})})})}},{key:"getLatestSubmissionTime",value:function(e){var t=this;f.a.getSubmissions(e,1,0,[{id:"_id",desc:!0}],["_id","end"]).done(function(e){var r=e.results;e.count?t.setState({lastSubmission:r[0].end}):t.setState({lastSubmission:!1})})}},{key:"renderSubmissionsGraph",value:function(){return n.a.createElement(g.a.FormView__row,{m:"summary-submissions"},n.a.createElement(g.a.FormView__cell,{m:["label","first"]},t("Submissions")),n.a.createElement(g.a.FormView__cell,{m:["box"]},n.a.createElement(g.a.FormView__cell,{m:"subs-graph"},n.a.createElement(g.a.FormView__cell,{m:"subs-graph-toggle"},n.a.createElement("a",{onClick:this.showGraphWeek,className:"week"==this.state.chartPeriod?"active":""},t("Past 7 days")),n.a.createElement("a",{onClick:this.showGraphMonth,className:"month"==this.state.chartPeriod?"active":""},t("Past 31 days"))),n.a.createElement(g.a.FormView__cell,{m:"summary-chart",className:this.state.subsCurrentPeriod?"active":"inactive"},n.a.createElement("canvas",{ref:"canvas",className:this.state.chartVisible?"visible":""})),n.a.createElement(g.a.FormView__cell,{m:"chart-no-data"},n.a.createElement("span",null,t("No chart data available for current period.")))),n.a.createElement(g.a.FormView__group,{m:["submission-stats"]},n.a.createElement(g.a.FormView__cell,null,n.a.createElement("span",{className:"subs-graph-number"},this.state.subsCurrentPeriod),n.a.createElement(g.a.FormView__label,null,"week"==this.state.chartPeriod&&"".concat(Object(T.formatDate)(E()().subtract(6,"days"))," - ").concat(Object(T.formatDate)(E()())),"week"!=this.state.chartPeriod&&"".concat(Object(T.formatDate)(E()().subtract(30,"days"))," - ").concat(Object(T.formatDate)(E()())))),n.a.createElement(g.a.FormView__cell,null,n.a.createElement("span",{className:"subs-graph-number"},this.state.subsPreviousPeriod),n.a.createElement(g.a.FormView__label,null,"week"==this.state.chartPeriod&&"".concat(Object(T.formatDate)(E()().subtract(13,"days"))," - ").concat(Object(T.formatDate)(E()().subtract(7,"days"))),"week"!=this.state.chartPeriod&&"".concat(Object(T.formatDate)(E()().subtract(60,"days"))," - ").concat(Object(T.formatDate)(E()().subtract(31,"days"))))),n.a.createElement(g.a.FormView__cell,null,n.a.createElement("span",{className:"subs-graph-number"},this.state.deployment__submission_count),n.a.createElement(g.a.FormView__label,null,t("Total"))))))}},{key:"showGraphWeek",value:function(){this.setState({chartPeriod:"week"})}},{key:"showGraphMonth",value:function(){this.setState({chartPeriod:"month"})}},{key:"renderQuickLinks",value:function(){return n.a.createElement(g.a.FormView__cell,{m:"data-tabs"},n.a.createElement(_.c,{to:"/forms/".concat(this.state.uid,"/data"),key:"data",className:"form-view__tab","data-path":"/forms/".concat(this.state.uid,"/data"),onClick:this.triggerRefresh},n.a.createElement("i",{className:"k-icon-projects"}),t("Collect data"),n.a.createElement("i",{className:"fa fa-angle-right"})),this.userCan("change_asset",this.state)&&n.a.createElement(g.a.PopoverMenu__link,{onClick:this.sharingModal},n.a.createElement("i",{className:"k-icon-user-share"}),t("Share project"),n.a.createElement("i",{className:"fa fa-angle-right"})),this.userCan("change_asset",this.state)&&n.a.createElement(_.c,{to:"/forms/".concat(this.state.uid,"/edit"),key:"edit",className:"form-view__tab","data-path":"/forms/".concat(this.state.uid,"/edit"),onClick:this.triggerRefresh},n.a.createElement("i",{className:"k-icon-edit"}),t("Edit form"),n.a.createElement("i",{className:"fa fa-angle-right"})),n.a.createElement(g.a.PopoverMenu__link,{onClick:this.enketoPreviewModal},n.a.createElement("i",{className:"k-icon-view"}),t("Preview form"),n.a.createElement("i",{className:"fa fa-angle-right"})))}},{key:"renderDataTabs",value:function(){var e=this,r=[{label:t("Reports"),icon:"k-icon-report",path:"/forms/".concat(this.state.uid,"/data/report")},{label:t("Table"),icon:"k-icon-table",path:"/forms/".concat(this.state.uid,"/data/table")},{label:t("Gallery"),icon:"k-icon-photo-gallery",path:"/forms/".concat(this.state.uid,"/data/gallery")},{label:t("Downloads"),icon:"k-icon-download",path:"/forms/".concat(this.state.uid,"/data/downloads")},{label:t("Map"),icon:"k-icon-map-view",path:"/forms/".concat(this.state.uid,"/data/map")}];return n.a.createElement(g.a.FormView__cell,{m:"data-tabs"},r.map(function(t,r){return n.a.createElement(_.c,{to:t.path,key:r,activeClassName:"active",onlyActiveOnIndex:!0,className:"form-view__tab","data-path":t.path,onClick:e.triggerRefresh},n.a.createElement("i",{className:t.icon}),t.label,n.a.createElement("i",{className:"fa fa-angle-right"}))}))}},{key:"sharingModal",value:function(e){e.preventDefault(),h.a.pageState.showModal({type:O.MODAL_TYPES.SHARING,assetid:this.state.uid})}},{key:"enketoPreviewModal",value:function(e){e.preventDefault(),h.a.pageState.showModal({type:O.MODAL_TYPES.ENKETO_PREVIEW,assetid:this.state.uid})}},{key:"renderTeam",value:function(){var e=[];return this.state.permissions.forEach(function(t){t.user__username&&!e.includes(t.user__username)&&"AnonymousUser"!=t.user__username&&e.push(t.user__username)}),!(e.length<2)&&n.a.createElement(g.a.FormView__row,{m:"team"},n.a.createElement(g.a.FormView__cell,{m:["label","first"]},t("Team members")),this.userCan("change_asset",this.state)&&n.a.createElement("a",{onClick:this.sharingModal,className:"team-sharing-button"},n.a.createElement("i",{className:"k-icon-user-share"})),n.a.createElement(g.a.FormView__cell,{m:["box","padding"]},e.map(function(e,t){return n.a.createElement(g.a.UserRow,{key:t},n.a.createElement(g.a.UserRow__avatar,{"data-tip":e},n.a.createElement(g.a.AccountBox__initials,{style:{background:"#".concat(Object(T.stringToColor)(e))}},e.charAt(0))))})))}},{key:"render",value:function(){var e=this.state.name||t("Untitled"),r=this.userCan("view_submissions",this.state)||this.userCan("partial_submissions",this.state);return this.state.permissions?r?n.a.createElement(w.a,{title:"".concat(e," | KoboToolbox")},n.a.createElement(g.a.FormView,{m:"summary"},n.a.createElement(g.a.FormView__column,{m:"left"},this.state.settings&&(this.state.settings.country||this.state.settings.sector||this.state.settings.description)&&n.a.createElement(g.a.FormView__row,{m:"summary-description"},n.a.createElement(g.a.FormView__cell,{m:["label","first"]},t("Description")),n.a.createElement(g.a.FormView__cell,{m:["box"]},(this.state.settings.country||this.state.settings.sector)&&n.a.createElement(g.a.FormView__group,{m:["items","description-cols"]},this.state.settings.country&&n.a.createElement(g.a.FormView__cell,null,n.a.createElement(g.a.FormView__label,{m:"country"},t("Project country")),this.state.settings.country.label),this.state.settings.sector&&n.a.createElement(g.a.FormView__cell,null,n.a.createElement(g.a.FormView__label,{m:"sector"},t("Sector")),this.state.settings.sector.label)),this.state.settings.description&&n.a.createElement(g.a.FormView__cell,{m:["padding","description"]},this.state.settings.description))),this.renderSubmissionsGraph(),n.a.createElement(g.a.FormView__row,{m:"summary-details"},n.a.createElement(g.a.FormView__cell,{m:["label","first"]},t("Form details")),n.a.createElement(g.a.FormView__cell,{m:["box"]},n.a.createElement(g.a.FormView__group,{m:"summary-details-cols"},n.a.createElement(g.a.FormView__cell,null,n.a.createElement(g.a.FormView__label,null,t("Last modified")),Object(T.formatTime)(this.state.date_modified)),this.state.lastSubmission&&n.a.createElement(g.a.FormView__cell,null,n.a.createElement(g.a.FormView__label,null,t("Latest submission")),Object(T.formatTime)(this.state.lastSubmission)),this.state.summary&&n.a.createElement(g.a.FormView__cell,null,n.a.createElement(g.a.FormView__label,null,t("Questions")),this.state.summary.row_count),this.state.summary&&this.state.summary.languages&&this.state.summary.languages.length>1&&n.a.createElement(g.a.FormView__cell,null,n.a.createElement(g.a.FormView__label,null,t("Languages")),this.state.summary.languages.map(function(e,t){return n.a.createElement(g.a.FormView__cell,{key:"lang-".concat(t),"data-index":t},e)})))))),n.a.createElement(g.a.FormView__column,{m:"right"},n.a.createElement(g.a.FormView__row,{m:"quick-links"},n.a.createElement(g.a.FormView__cell,{m:["label","first"]},t("Quick Links")),n.a.createElement(g.a.FormView__cell,{m:"box"},this.renderQuickLinks())),this.state.deployment__submission_count>0&&n.a.createElement(g.a.FormView__row,{m:"data-links"},n.a.createElement(g.a.FormView__cell,{m:["label","first"]},t("Data")),n.a.createElement(g.a.FormView__cell,{m:"box"},this.renderDataTabs())),this.renderTeam()))):n.a.createElement(v.a.AccessDeniedMessage,null):n.a.createElement(g.a.Loading,null,n.a.createElement(g.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")))}}])&&A(r.prototype,o),s}();c()(D.prototype,b.a.dmix),c()(D.prototype,b.a.permissions),c()(D.prototype,m.a.ListenerMixin);var F=D;r.a=F,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(D,"FormSummary","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formSummary.es6"),__REACT_HOT_LOADER__.register(F,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formSummary.es6"))},466:function(e,r,o){"use strict";(function(e){var a=o(0),n=o.n(a),s=o(9),i=o.n(s),l=o(11),c=o.n(l),u=o(5),p=o(1),d=o(6),m=o(18),_=o(17),f=o(14),h=o.n(f),b=o(2),g=o(3);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=x(e);if(t){var a=x(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?E(e):t}(this,r)}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(l,n.a.Component);var o,a,s=k(l);function l(e){var t;return function(e,t){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this,e)).currentDialog=null,i()(E(t)),t}return o=l,(a=[{key:"componentDidMount",value:function(){u.a.submissions.bulkDeleteStatus.completed.listen(this.closeCurrentDialog),u.a.submissions.bulkDeleteStatus.failed.listen(this.closeCurrentDialog),u.a.submissions.bulkPatchStatus.completed.listen(this.closeCurrentDialog),u.a.submissions.bulkPatchStatus.failed.listen(this.closeCurrentDialog),u.a.submissions.bulkDelete.completed.listen(this.closeCurrentDialog),u.a.submissions.bulkDelete.failed.listen(this.closeCurrentDialog)}},{key:"closeCurrentDialog",value:function(){null!==this.currentDialog&&(this.currentDialog.destroy(),this.currentDialog=null)}},{key:"onClearSelection",value:function(){this.props.onClearSelection()}},{key:"onUpdateStatus",value:function(e){var r,o=this,a={},n=null===e?u.a.submissions.bulkDeleteStatus:u.a.submissions.bulkPatchStatus;this.props.selectedAllPages?(this.props.fetchState.filtered.length?(a.query={},a["validation_status.uid"]=e,this.props.fetchState.filtered.map(function(e){a.query[e.id]=e.value})):(a.confirm=!0,a["validation_status.uid"]=e),r=this.props.totalRowsCount):(a.submission_ids=Object.keys(this.props.selectedRows),a["validation_status.uid"]=e,r=a.submission_ids.length),this.closeCurrentDialog(),this.currentDialog=h.a.dialog("confirm");var s={title:t("Update status of selected submissions"),message:t("You have selected ## submissions. Are you sure you would like to update their status? This action is irreversible.").replace("##",r),labels:{ok:t("Update Validation Status"),cancel:t("Cancel")},onok:function(){return n(o.props.asset.uid,a),!1},oncancel:this.closeCurrentDialog};this.currentDialog.set(s).show()}},{key:"onDelete",value:function(){var r,o,a,n=this,s={};this.props.selectedAllPages?(this.props.fetchState.filtered.length?(s.query={},this.props.fetchState.filtered.map(function(e){s.query[e.id]=e.value})):s.confirm=!0,r=this.props.totalRowsCount):(s.submission_ids=Object.keys(this.props.selectedRows),r=s.submission_ids.length),o=t("You are about to permanently delete ##count## data entries.").replace("##count##",r),o+="".concat(Object(g.renderCheckbox)("dt1",t("All selected data associated with this form will be deleted."))),o+="".concat(Object(g.renderCheckbox)("dt2",t("I understand that if I delete the selected entries I will not be able to recover them."))),this.closeCurrentDialog(),this.currentDialog=h.a.dialog("confirm"),a=function(){var t=n.currentDialog.elements.buttons.primary.firstChild,r=e(".alertify-toggle input");t.disabled=!0,r.each(function(){e(this).prop("checked",!1)}),r.change(function(){t.disabled=!1,r.each(function(){e(this).prop("checked")||(t.disabled=!0)})})};var i={title:t("Delete selected submissions"),message:o,labels:{ok:t("Delete selected"),cancel:t("Cancel")},onshow:a,onok:function(){return u.a.submissions.bulkDelete(n.props.asset.uid,s),!1},oncancel:this.closeCurrentDialog};this.currentDialog.set(i).show()}},{key:"onEdit",value:function(){d.a.pageState.showModal({type:b.MODAL_TYPES.BULK_EDIT_SUBMISSIONS,asset:this.props.asset,data:this.props.data,totalSubmissions:this.props.totalRowsCount,selectedSubmissions:Object.keys(this.props.selectedRows)})}},{key:"render",value:function(){var e=this,r=Object.keys(this.props.selectedRows).length;this.props.selectedAllPages&&(r=this.props.totalRowsCount);var o=t("##count## selected").replace("##count##",r),a=Math.min(this.props.pageSize,this.props.data.length),s=Object.keys(this.props.selectedRows).length===a&&this.props.totalRowsCount>this.props.pageSize;return n.a.createElement(p.a.TableMeta__bulkOptions,null,r>1&&n.a.createElement(p.a.KoboLightBadge,null,o,n.a.createElement("a",{className:"bulk-clear-badge-icon",onClick:this.onClearSelection},"×")),r>1&&n.a.createElement("span",null,":"),Object.keys(this.props.selectedRows).length>0&&n.a.createElement(m.a.PopoverMenu,{type:"bulkUpdate-menu",triggerLabel:t("Change status")},this.userCan("validate_submissions",this.props.asset)&&b.VALIDATION_STATUSES_LIST.map(function(r,o){return n.a.createElement(p.a.PopoverMenu__link,{onClick:e.onUpdateStatus.bind(e,r.value),key:o},t("Set status: ##status##").replace("##status##",r.label))})),Object.keys(this.props.selectedRows).length>0&&this.userCan("change_submissions",this.props.asset)&&n.a.createElement(p.a.KoboLightButton,{m:"blue",onClick:this.onEdit,disabled:this.props.selectedAllPages&&s},n.a.createElement(p.a.TableMeta__additionalText,null,n.a.createElement("i",{className:"k-icon k-icon-edit"})),t("Edit")),Object.keys(this.props.selectedRows).length>0&&this.userCan("change_submissions",this.props.asset)&&n.a.createElement(p.a.KoboLightButton,{m:"red",onClick:this.onDelete},n.a.createElement(p.a.TableMeta__additionalText,null,n.a.createElement("i",{className:"k-icon k-icon-trash"})),t("Delete")))}}])&&y(o.prototype,a),l}();c()(S.prototype,_.a.permissions);var T=S;r.a=T,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(S,"TableBulkOptions","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/tableBulkOptions.es6"),__REACT_HOT_LOADER__.register(T,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/tableBulkOptions.es6"))}).call(this,o(19))},467:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(9),i=o.n(s),l=o(1),c=o(18),u=o(22);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?f(e):t}(this,r)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,n.a.Component);var r,o,a=_(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e),i()(f(t)),t}return r=s,(o=[{key:"onSelectAllPages",value:function(){this.props.onSelectAllPages()}},{key:"onSelectCurrentPage",value:function(){this.props.onSelectCurrentPage()}},{key:"onToggleCurrentPage",value:function(){this.props.selectedRowsCount===this.props.visibleRowsCount?this.onClearSelection():this.onSelectCurrentPage()}},{key:"onClearSelection",value:function(){this.props.onClearSelection()}},{key:"render",value:function(){return n.a.createElement("div",{className:"table-bulk-checkbox"},n.a.createElement(u.a,{checked:this.props.selectedRowsCount===this.props.visibleRowsCount,onChange:this.onToggleCurrentPage}),n.a.createElement(c.a.PopoverMenu,{type:"table-bulk-checkbox",triggerLabel:"",additionalModifiers:["right"]},n.a.createElement(l.a.PopoverMenu__link,{onClick:this.onSelectAllPages},t("Select all results (##count##)").replace("##count##",this.props.totalRowsCount)),n.a.createElement(l.a.PopoverMenu__link,{onClick:this.onSelectCurrentPage},t("Select visible results (##count##)").replace("##count##",this.props.visibleRowsCount)),n.a.createElement(l.a.PopoverMenu__link,{onClick:this.onClearSelection},t("None"))))}}])&&d(r.prototype,o),s}(),g=b;r.a=g,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"TableBulkCheckbox","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/tableBulkCheckbox.es6"),__REACT_HOT_LOADER__.register(g,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/tableBulkCheckbox.es6"))},468:function(e,r,o){"use strict";(function(e){o.d(r,"a",function(){return x});var a=o(0),n=o.n(a),s=o(9),i=o.n(s),l=o(14),c=o.n(l),u=o(10),p=o.n(u),d=o(22),m=o(1),_=o(28),f=o.n(_),h=o(8),b=o(3);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=E(e);if(t){var a=E(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?k(e):t}(this,r)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,n.a.Component);var o,a,s=w(l);function l(e){var t;return function(e,t){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this,e)).state={type:"xls",lang:"_default",hierInLabels:!1,groupSep:"/",fieldsFromAllVersions:t.props.asset.deployed_versions.count>1,exports:!1,formSubmitDisabled:!1},i()(k(t)),t}return o=l,(a=[{key:"handleChange",value:function(e,t){var r;r=e.target?"checkbox"===e.target.type?e.target.checked:e.target.value:e,this.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r))}},{key:"typeChange",value:function(e){this.handleChange(e,"type")}},{key:"langChange",value:function(e){this.handleChange(e,"lang")}},{key:"fieldFromAllVersionsChange",value:function(e){this.handleChange(e,"fieldsFromAllVersions")}},{key:"hierInLabelsChange",value:function(e){this.handleChange(e,"hierInLabels")}},{key:"groupSepChange",value:function(e){this.handleChange(e,"groupSep")}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({formSubmitDisabled:!0}),window.location="/exports/?source="+encodeURIComponent(this.props.asset.url)}},{key:"componentDidMount",value:function(){var e=this.props.asset.content.translations;e.length>1&&this.setState({lang:e[0]}),this.getExports()}},{key:"componentWillUnmount",value:function(){clearInterval(this.pollingInterval)}},{key:"refreshExport",value:function(e){}},{key:"getExports",value:function(){var e=this;clearInterval(this.pollingInterval),h.a.getAssetExports(this.props.asset.uid).done(function(r){r.count>0?(r.results.reverse(),r.results.map(function(e){if("spss_labels"!==e.data.type)switch(e.data.lang){case"_default":case null:e.data.langDescription=t("Default");break;case"_xml":case!1:e.data.langDescription=t("XML");break;default:e.data.langDescription=e.data.lang}else e.data.langDescription=""}),e.setState({exports:r.results}),r.results.every(function(t){return"created"!==t.status&&"processing"!==t.status||(e.pollingInterval=setInterval(e.refreshExport,4e3,t.url),!1)})):e.setState({exports:!1})})}},{key:"deleteExport",value:function(r){var o=this,a=e(r.target).closest("[data-euid]").get(0).getAttribute("data-euid"),n=c.a.dialog("confirm"),s={title:t("Delete export?"),message:t("Are you sure you want to delete this export? This action is not reversible."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){h.a.deleteAssetExport(a).then(function(){o.getExports()}).fail(function(e){c.a.error(t("Failed to delete export."))})},oncancel:function(){n.destroy()}};n.set(s).show()}},{key:"render",value:function(){var e=this,r=this.props.asset.content.translations,o=this.props.asset.deployed_versions.count,a=this.props.asset.name||t("Untitled");return n.a.createElement(f.a,{title:"".concat(a," | KoboToolbox")},n.a.createElement(m.a.FormView,{m:"form-data-downloads"},n.a.createElement(m.a.FormView__row,null,n.a.createElement(m.a.FormView__cell,{m:["label","first"]},t("Download Data")),n.a.createElement(m.a.FormView__cell,{m:["box","padding"]},n.a.createElement(m.a.FormModal__form,{onSubmit:this.handleSubmit},[n.a.createElement(m.a.FormModal__item,{key:"t",m:"export-type"},n.a.createElement("label",{htmlFor:"type"},t("Select export type")),n.a.createElement("select",{name:"type",value:this.state.type,onChange:this.typeChange},n.a.createElement("option",{value:"xls"},t("XLS")),n.a.createElement("option",{value:"xls_legacy"},t("XLS (legacy)")),n.a.createElement("option",{value:"csv"},t("CSV")),n.a.createElement("option",{value:"csv_legacy"},t("CSV (legacy)")),n.a.createElement("option",{value:"zip_legacy"},t("Media Attachments (ZIP)")),n.a.createElement("option",{value:"kml_legacy"},t("GPS coordinates (KML)")),n.a.createElement("option",{value:"spss_labels"},t("SPSS Labels")))),["xls","csv","spss_labels"].includes(this.state.type)?[["xls","csv"].includes(this.state.type)?[n.a.createElement(m.a.FormModal__item,{key:"x",m:"export-format"},n.a.createElement("label",{htmlFor:"lang"},t("Value and header format")),n.a.createElement("select",{name:"lang",value:this.state.lang,onChange:this.langChange},n.a.createElement("option",{value:"_xml"},t("XML values and headers")),r.length<2&&n.a.createElement("option",{value:"_default"},t("Labels")),r&&r.map(function(e,t){if(e)return n.a.createElement("option",{value:e,key:t},e)}))),n.a.createElement(m.a.FormModal__item,{key:"h",m:"export-group-headers"},n.a.createElement(d.a,{checked:this.state.hierInLabels,onChange:this.hierInLabelsChange,label:t("Include groups in headers")})),n.a.createElement(m.a.FormModal__item,{key:"g"},n.a.createElement("label",{htmlFor:"group_sep"},t("Group separator")),n.a.createElement("input",{type:"text",name:"group_sep",value:this.state.groupSep,onChange:this.groupSepChange}))]:null,o>1?n.a.createElement(m.a.FormModal__item,{key:"v",m:"export-fields-from-all-versions"},n.a.createElement(d.a,{checked:this.state.fieldsFromAllVersions,onChange:this.fieldFromAllVersionsChange,label:t("Include fields from all ___ deployed versions").replace("___",o)})):null]:null,this.state.type.indexOf("_legacy")>0?n.a.createElement(m.a.FormModal__item,{m:"downloads",key:"d"},n.a.createElement("iframe",{src:this.props.asset.deployment__data_download_links[this.state.type]})):n.a.createElement(m.a.FormModal__item,{key:"s",m:"export-submit"},n.a.createElement("input",{type:"submit",value:t("Export"),className:"kobo-button kobo-button--blue",disabled:this.state.formSubmitDisabled}))]))),this.state.exports&&!this.state.type.endsWith("_legacy")&&n.a.createElement(m.a.FormView__row,null,n.a.createElement(m.a.FormView__cell,{m:["label","first"]},t("Exports")),n.a.createElement(m.a.FormView__cell,{m:["box","exports-table"]},n.a.createElement(m.a.FormView__group,{m:["items","headings"]},n.a.createElement(m.a.FormView__label,{m:"type"},t("Type")),n.a.createElement(m.a.FormView__label,{m:"date"},t("Created")),n.a.createElement(m.a.FormView__label,{m:"lang"},t("Language")),n.a.createElement(m.a.FormView__label,{m:"include-groups"},t("Include Groups")),n.a.createElement(m.a.FormView__label,{m:"multi-versioned"},t("Multiple Versions")),n.a.createElement(m.a.FormView__label,null)),this.state.exports.map(function(r,o){var a=p()().diff(p()(r.date_created),"seconds");return n.a.createElement(m.a.FormView__group,{m:"items",key:r.uid,className:a<45?"recent":""},n.a.createElement(m.a.FormView__label,{m:"type"},"spss_labels"==r.data.type?"spss":r.data.type),n.a.createElement(m.a.FormView__label,{m:"date"},Object(b.formatTime)(r.date_created)),n.a.createElement(m.a.FormView__label,{m:"lang"},r.data.langDescription),n.a.createElement(m.a.FormView__label,{m:"include-groups"},"true"===r.data.hierarchy_in_labels?t("Yes"):t("No")),n.a.createElement(m.a.FormView__label,{m:"multi-versioned"},"false"===r.data.fields_from_all_versions?t("No"):t("Yes")),n.a.createElement(m.a.FormView__label,{m:"action"},"complete"==r.status&&n.a.createElement("a",{className:"form-view__link form-view__link--export-download",href:r.result,"data-tip":t("Download")},n.a.createElement("i",{className:"k-icon-download"})),"error"==r.status&&n.a.createElement("span",{"data-tip":r.messages.error},t("Export Failed")),"error"!=r.status&&"complete"!=r.status&&n.a.createElement("span",{className:"animate-processing"},t("processing...")),n.a.createElement("a",{className:"form-view__link form-view__link--export-delete",onClick:e.deleteExport,"data-euid":r.uid,"data-tip":t("Delete")},n.a.createElement("i",{className:"k-icon-trash"}))))})))))}}])&&v(o.prototype,a),l}();"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(x,"ProjectDownloads","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/projectDownloads.es6")}).call(this,o(19))},470:function(e,r,o){"use strict";(function(e){var a=o(0),n=o.n(a),s=o(11),i=o.n(s),l=o(7),c=o.n(l),u=o(1),p=o(18),d=o(9),m=o.n(d),_=o(5),f=o(17),h=o(84),b=o(14),g=o.n(b),v=o(2),y=o(8);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t,r){return t&&E(e.prototype,t),r&&E(e,r),e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=C(e);if(t){var a=C(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?O(e):t}(this,r)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=["a","b","c","d","e"],R=new Map([["colors",{id:"colors",label:t("Marker Colors")}],["querylimit",{id:"querylimit",label:t("Query Limit")}],["geoquestion",{id:"geoquestion",label:t("Geopoint question")}],["overlays",{id:"overlays",label:t("Overlays")}]]),j=function(e){S(o,n.a.Component);var r=T(o);function o(e){var t;return k(this,o),t=r.call(this,e),m()(O(t)),t.state={selected:e.mapSettings.colorSet?e.mapSettings.colorSet:"a"},t}return x(o,[{key:"onChange",value:function(e){this.props.onChange(e.currentTarget.value),this.setState({selected:e.currentTarget.value})}},{key:"defaultValue",value:function(e){return this.state.selected===e}},{key:"colorRows",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=[],o=1;o<t;o++)r.push(n.a.createElement("span",{key:o,className:"map-marker map-marker-".concat(e).concat(o)}));return r}},{key:"render",value:function(){var e=A.map(function(e,r){var o=10,a=!1;return"a"===e&&(o=16),"a"===e&&(a=t("Best for qualitative data")),"b"===e&&(a=t("Best for sequential data")),"d"===e&&(a=t("Best for diverging data")),n.a.createElement(u.a.FormModal__item,{m:"map-color-item",key:r},a&&n.a.createElement("label",null,a),n.a.createElement(u.a.GraphSettings__radio,null,n.a.createElement("input",{type:"radio",name:"chart_colors",value:e,checked:this.defaultValue(e),onChange:this.onChange,id:"c-"+r}),n.a.createElement("label",{htmlFor:"c-"+r},this.colorRows(e,o))))},this);return n.a.createElement(u.a.GraphSettings__colors,null,e)}}]),o}(),L=function(r){S(a,n.a.Component);var o=T(a);function a(e){var t;k(this,a),t=o.call(this,e),m()(O(t));var r=[];e.asset.content.survey.forEach(function(e){e.type&&"geopoint"===e.type&&r.push({value:e.name||e.$autoname,label:e.label[0]})});var n=e.asset.deployment__submission_count,s=R.get("colors").id;n>1e3?s=R.get("querylimit").id:r.length>1?s=R.get("geoquestion").id:t.userCan("change_asset",t.props.asset)&&(s=R.get("overlays").id);var i=Object.assign({},t.props.asset.map_styles);return t.props.overridenStyles&&Object.assign(i,t.props.overridenStyles),t.state={activeModalTab:s,geoQuestions:r,mapSettings:i,files:[],layerName:"",queryCount:n},t}return x(a,[{key:"componentDidMount",value:function(){_.a.resources.getAssetFiles(this.props.asset.uid),this.listenTo(_.a.resources.getAssetFiles.completed,this.updateFileList)}},{key:"switchTab",value:function(e){this.setState({activeModalTab:e.target.getAttribute("data-tabid")})}},{key:"resetMapSettings",value:function(){this.saveMapSettings({})}},{key:"onSave",value:function(){this.saveMapSettings(this.state.mapSettings)}},{key:"saveMapSettings",value:function(e){var t=this.props.asset.uid;this.userCan("change_asset",this.props.asset)?_.a.map.setMapStyles(t,e):this.props.overrideStyles(e),this.props.toggleMapSettings()}},{key:"onGeoPointQuestionChange",value:function(e){var t=this.state.mapSettings;t.selectedQuestion=e.target.value,this.setState({mapSettings:t})}},{key:"onQueryLimitChange",value:function(e){var t=this.state.mapSettings;t.querylimit=e.target.value,this.setState({mapSettings:t})}},{key:"onColorChange",value:function(e){var t=this.state.mapSettings;t.colorSet=e,this.setState({mapSettings:t})}},{key:"onLayerNameChange",value:function(e){this.setState({layerName:e.target.value})}},{key:"updateFileList",value:function(e){e.results&&this.setState({files:e.results})}},{key:"dropFiles",value:function(e,r){var o=this,a=this.props.asset.uid,n=this,s=this.state.layerName;if(!s)return g.a.error(t("Please add a name for your layer file.")),!1;e.map(function(e){var r={type:e.name.split(".").pop(),size:e.size},i={content:e,name:s,file_type:"map_layer",metadata:JSON.stringify(r)};y.a.uploadAssetFile(a,i).done(function(){n.setState({layerName:""}),_.a.resources.getAssetFiles(o.props.asset.uid)}).fail(function(e){var r=t("Upload error: ##error_message##.").replace("##error_message##",e.statusText);g.a.error(r)})}),r.map(function(){var e=t("Upload error: not a valid map overlay format.");g.a.error(e)})}},{key:"deleteFile",value:function(r){var o=this,a=e(r.target).closest("[data-uid]").get(0).getAttribute("data-uid"),n=g.a.dialog("confirm"),s={title:t("Delete File"),message:t("Are you sure you want to delete this file? <br/><br/><strong>This action cannot be undone.</strong>"),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){y.a.deleteAssetFile(o.props.asset.uid,a).done(function(){_.a.resources.getAssetFiles(o.props.asset.uid),n.destroy()})},oncancel:function(){n.destroy()}};n.set(s).show()}},{key:"render",value:function(){var e=this,r=this.props.asset,o=this.state.geoQuestions,a=this.state.activeModalTab,s=this.state.mapSettings.querylimit||v.QUERY_LIMIT_DEFAULT,i=this.state.queryCount,l=[R.get("colors").id];this.userCan("change_asset",r)&&l.unshift(R.get("overlays").id),o.length>1&&l.unshift(R.get("geoquestion").id),i>1e3&&l.unshift(R.get("querylimit").id);var c=l.map(function(e,t){return n.a.createElement("button",{className:"mdl-button mdl-button--tab ".concat(this.state.activeModalTab===e?"active":""),onClick:this.switchTab,"data-tabid":e,key:t},R.get(e).label)},this);return n.a.createElement(u.a.GraphSettings,null,n.a.createElement(p.a.Modal.Tabs,null,c),n.a.createElement(p.a.Modal.Body,null,n.a.createElement("div",{className:"tabs-content map-settings"},a===R.get("geoquestion").id&&n.a.createElement("div",{className:"map-settings__GeoQuestions"},n.a.createElement("p",null,t("Choose the Geopoint question you would like to display on the map:")),o.map(function(t,r){return n.a.createElement("label",{htmlFor:"GeopointQuestion-"+r,key:r},n.a.createElement("input",{type:"radio",name:"trnsltn",value:t.value,onChange:e.onGeoPointQuestionChange,checked:e.state.mapSettings.selectedQuestion===t.value,id:"GeopointQuestion-"+r}),t.label)})),a===R.get("overlays").id&&n.a.createElement("div",{className:"map-settings__overlay"},this.state.files.length>0&&n.a.createElement(u.a.FormModal__item,{m:"list-files"},n.a.createElement("label",null,t("Uploaded layers")),this.state.files.map(function(r,o){return n.a.createElement("div",{className:"list-file-row",key:o},n.a.createElement("span",{className:"file-type"},r.metadata.type),n.a.createElement("span",{className:"file-layer-name"},r.name),n.a.createElement("span",{className:"file-delete",onClick:e.deleteFile,"data-tip":t("Delete layer"),"data-uid":r.uid},n.a.createElement("i",{className:"k-icon-trash"})))})),n.a.createElement(u.a.FormModal__item,{m:"layer-upload"},n.a.createElement("label",{htmlFor:"name"},t("Use the form below to upload files with map data in one of these formats: CSV, KML, KMZ, WKT or GEOJSON. The data will be made available as layers for display on the map.")),n.a.createElement("input",{type:"text",id:"name",placeholder:t("Layer name"),value:this.state.layerName,onChange:this.onLayerNameChange}),n.a.createElement(h.a,{onDrop:this.dropFiles,multiple:!1,className:"dropzone",accept:".csv,.kml,.geojson,.wkt,.json,.kmz"},n.a.createElement(u.a.KoboButton,{m:"blue"},t("Upload"))))),a===R.get("colors").id&&n.a.createElement(u.a.FormModal__item,null,n.a.createElement("div",{className:"map-settings__colors"},t("Choose the color set for the disaggregated map markers."),n.a.createElement(j,{onChange:this.onColorChange,mapSettings:this.state.mapSettings}))),a===R.get("querylimit").id&&n.a.createElement(u.a.FormModal__item,null,n.a.createElement("div",{className:"map-settings__querylimit"},t("By default the map is limited to the ##QUERY_LIMIT_DEFAULT## most recent submissions. You can temporarily increase this limit to a different value. Note that this is reset whenever you reopen the map.").replace("##QUERY_LIMIT_DEFAULT##",v.QUERY_LIMIT_DEFAULT),n.a.createElement("p",{className:"change-limit-warning"},"Warning: Displaying a large number of points requires a lot of memory."),n.a.createElement("form",null,n.a.createElement("input",{id:"limit-slider",className:"change-limit-slider",type:"range",step:1e3,min:1e3,max:3e4,value:s,onChange:this.onQueryLimitChange}),n.a.createElement("output",{id:"limit-slider-value",className:"change-limit-slider-value",htmlFor:"limit-slider"},s)))))),[R.get("geoquestion").id,R.get("colors").id,R.get("querylimit").id].includes(a)&&n.a.createElement(u.a.Modal__footer,null,this.userCan("change_asset",this.props.asset)&&s!==v.QUERY_LIMIT_DEFAULT&&n.a.createElement(u.a.KoboButton,{m:"whitegray",onClick:this.resetMapSettings},t("Reset")),n.a.createElement(u.a.KoboButton,{m:"blue",onClick:this.onSave},t("Save"))))}}]),a}();i()(L.prototype,c.a.ListenerMixin),i()(L.prototype,f.a.permissions);var P=L;r.a=P,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(A,"COLOR_SETS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(1e3,"QUERY_LIMIT_MINIMUM","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(3e4,"QUERY_LIMIT_MAXIMUM","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(R,"TABS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(j,"MapColorPicker","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(L,"MapSettings","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(P,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/mapSettings.es6"))}).call(this,o(19))},471:function(e,r,o){"use strict";(function(e){o.d(r,"a",function(){return A});var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(9),c=o.n(l),u=o(11),p=o.n(u),d=o(7),m=o.n(d),_=o(14),f=o.n(_),h=o(6),b=o(1),g=o(5),v=o(17),y=o(8),w=o(3),k=o(2);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=C(e);if(t){var a=C(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?O(e):t}(this,r)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(i,n.a.Component);var o,a,s=T(i);function i(e){var t;return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this,e)).state={hookName:null,isHookActive:!1,assetUid:e.assetUid,hookUid:e.hookUid,isLoadingHook:!0,isLoadingLogs:!0,logs:[],nextPageUrl:null},c()(O(t)),t}return o=i,(a=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(g.a.hooks.getLogs.completed,this.onLogsUpdated),y.a.getHook(this.state.assetUid,this.state.hookUid).done(function(t){e.setState({isLoadingHook:!1,hookName:t.name,isHookActive:t.active})}).fail(function(){e.setState({isLoadingHook:!1}),f.a.error(t("Could not load REST Service"))}),g.a.hooks.getLogs(this.state.assetUid,this.state.hookUid,{onComplete:function(t){e.setState({isLoadingLogs:!1,logs:t.results,nextPageUrl:t.next,totalLogsCount:t.count})},onFail:function(){e.setState({isLoadingLogs:!1}),f.a.error(t("Could not load REST Service logs"))}})}},{key:"loadMore",value:function(){var e=this;this.setState({isLoadingLogs:!1}),y.a.loadNextPageUrl(this.state.nextPageUrl).done(function(t){var r=[].concat(e.state.logs,t.results);e.setState({isLoadingLogs:!1,logs:r,nextPageUrl:t.next,totalLogsCount:t.count})}).fail(function(){e.setState({isLoadingLogs:!1}),f.a.error(t("Could not load REST Service logs"))})}},{key:"onLogsUpdated",value:function(e){this.setState({logs:e.results})}},{key:"retryAll",value:function(){var e=this,t=[];this.state.logs.forEach(function(e){e.status===k.HOOK_LOG_STATUSES.FAILED&&t.push(e.uid)}),this.overrideLogsStatus(t,k.HOOK_LOG_STATUSES.PENDING),g.a.hooks.retryLogs(this.state.assetUid,this.state.hookUid,{onComplete:function(t){e.overrideLogsStatus(t.pending_uids,k.HOOK_LOG_STATUSES.PENDING)}})}},{key:"retryLog",value:function(e){var t=this;e.status===k.HOOK_LOG_STATUSES.FAILED&&(this.overrideLogsStatus([e.uid],k.HOOK_LOG_STATUSES.PENDING),g.a.hooks.retryLog(this.state.assetUid,this.state.hookUid,e.uid,{onFail:function(r){r.responseJSON&&r.responseJSON.detail&&t.overrideLogMessage(e.uid,r.responseJSON.detail),t.overrideLogsStatus([e.uid],k.HOOK_LOG_STATUSES.FAILED)}}))}},{key:"overrideLogMessage",value:function(e,t){var r=this.state.logs;r.forEach(function(r){r.uid===e&&(r.message=t)}),this.setState({logs:r})}},{key:"overrideLogsStatus",value:function(e,t){var r=this.state.logs;r.forEach(function(r){e.includes(r.uid)&&(r.status=t)}),this.setState({logs:r})}},{key:"showLogInfo",value:function(r){var o=t("Submission Failure Detail (##id##)").replace("##id##",r.instance_id),a=e("<div/>").text(r.message).html();f.a.alert(o,"<pre>".concat(a,"</pre>"))}},{key:"openSubmissionModal",value:function(e){var t=this.currentAsset();h.a.pageState.switchModal({type:k.MODAL_TYPES.SUBMISSION,sid:e.instance_id,asset:t,ids:[e.instance_id]})}},{key:"hasAnyFailedLogs",value:function(){var e=!1;return this.state.logs.forEach(function(t){t.status===k.HOOK_LOG_STATUSES.FAILED&&(e=!0)}),e}},{key:"hasInfoToDisplay",value:function(e){return e.status!==k.HOOK_LOG_STATUSES.SUCCESS&&e.message.length>0}},{key:"renderHeader",value:function(){return n.a.createElement("header",{className:"rest-services-list__header"},n.a.createElement("a",{className:"rest-services-list__header-back-button",href:"/#/forms/".concat(this.state.assetUid,"/settings/rest")},n.a.createElement("i",{className:"k-icon-prev"}),t("Back to REST Services")),n.a.createElement("h2",{className:"rest-services-list__header-label rest-services-list__header-label--big"},this.state.hookName))}},{key:"renderLoadMoreButton",value:function(){return null===this.state.nextPageUrl?null:n.a.createElement(b.a.ServiceRowButton,{m:this.state.isLoadingLogs?"loading":null,onClick:this.loadMore},this.state.isLoadingLogs?t("Loading…"):t("Load more"))}},{key:"renderEmptyView",value:function(){return n.a.createElement(b.a.FormView,{m:"form-settings",className:"rest-services"},n.a.createElement(b.a.FormView__cell,{m:"rest-services-list",className:"rest-services-list--empty"},this.renderHeader(),n.a.createElement(b.a.EmptyContent,null,n.a.createElement(b.a.EmptyContent__message,null,t("There are no logs yet")))))}},{key:"renderListView",value:function(){var e=this;return n.a.createElement(b.a.FormView,{m:"form-settings",className:"rest-services"},n.a.createElement(b.a.FormView__cell,{m:"rest-services-list"},this.renderHeader(),n.a.createElement(b.a.FormView__cell,{m:["box"]},n.a.createElement(b.a.ServiceRow,{m:"header"},n.a.createElement(b.a.ServiceRow__column,{m:"submission"},t("Submission")),n.a.createElement(b.a.ServiceRow__column,{m:"status"},t("Status"),this.hasAnyFailedLogs()&&n.a.createElement(b.a.ServiceRow__actionButton,{onClick:this.retryAll.bind(this),"data-tip":t("Retry all submissions"),disabled:!this.state.isHookActive},n.a.createElement("i",{className:"k-icon-replace-all"}))),n.a.createElement(b.a.ServiceRow__column,{m:"date"},t("Date"))),this.state.logs.map(function(r,o){var a={key:o},s="",i="";return r.status===k.HOOK_LOG_STATUSES.SUCCESS&&(s="success",i=t("Success"),a.m="clickable",a.onClick=e.openSubmissionModal.bind(e,r)),r.status===k.HOOK_LOG_STATUSES.PENDING&&(s="pending",i=t("Pending"),r.tries&&r.tries>1&&(i=t("Pending (##count##×)").replace("##count##",r.tries))),r.status===k.HOOK_LOG_STATUSES.FAILED&&(s="failed",i=t("Failed")),n.a.createElement(b.a.ServiceRow,a,n.a.createElement(b.a.ServiceRow__column,{m:"submission"},r.instance_id),n.a.createElement(b.a.ServiceRow__column,{m:["status",s]},i,r.status===k.HOOK_LOG_STATUSES.FAILED&&n.a.createElement(b.a.ServiceRow__actionButton,{disabled:!e.state.isHookActive,onClick:e.retryLog.bind(e,r),"data-tip":t("Retry submission")},n.a.createElement("i",{className:"k-icon-replace"})),e.hasInfoToDisplay(r)&&n.a.createElement(b.a.ServiceRow__actionButton,{onClick:e.showLogInfo.bind(e,r),"data-tip":t("More info")},n.a.createElement("i",{className:"k-icon-information"}))),n.a.createElement(b.a.ServiceRow__column,{m:"date"},Object(w.formatTime)(r.date_modified)))})),this.renderLoadMoreButton()))}},{key:"render",value:function(){return this.state.isLoadingHook||this.state.isLoadingLogs&&0===this.state.logs.length?n.a.createElement(b.a.Loading,null,n.a.createElement(b.a.Loading__inner,null,n.a.createElement("i",null),t("loading..."))):0===this.state.logs.length?this.renderEmptyView():this.renderListView()}}])&&x(o.prototype,a),i}();p()(A.prototype,m.a.ListenerMixin),p()(A.prototype,v.a.contextRouter),A.contextTypes={router:i.a.object},"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(A,"RESTServiceLogs","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/RESTServices/RESTServiceLogs.es6")}).call(this,o(19))},472:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(11),i=o.n(s),l=o(7),c=o.n(l),u=o(9),p=o.n(u),d=o(20),m=o(5),_=o(15),f=o(3);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=w(e);if(t){var a=w(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?y(e):t}(this,r)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=t("The stored permissions are invalid. Please assign them again. If this problem persists, contact help@kobotoolbox.org"),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,r,o=v(a);function a(e){var t;return function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),t=o.call(this,e),p()(y(t)),t}return t=a,(r=[{key:"componentDidMount",value:function(){this.listenTo(m.a.permissions.getAssetPermissions.completed,this.validateBackendData)}},{key:"validateBackendData",value:function(e){var t=[],r=[],o=function(e,t){return"".concat(e,"###").concat(t)},a=function(e,t){return e.map(function(e){return o(e,t)})};e.forEach(function(e){var o=d.a.getPermission(e.permission);t=_.default.union(t,a(o.implied,e.user)),r=_.default.union(r,a(o.contradictory,e.user))});var n=!1;r.forEach(function(t){e.forEach(function(e){o(e.permission,e.user)===t&&(n=!0)})}),n&&Object(f.notify)(Object(f.replaceSupportEmail)(k),"error")}},{key:"render",value:function(){return null}}])&&b(t.prototype,r),a}(n.a.Component);i()(E.prototype,c.a.ListenerMixin);var x=E;r.a=x,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(k,"INVALID_PERMS_ERROR","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permValidator.es6"),__REACT_HOT_LOADER__.register(E,"PermValidator","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permValidator.es6"),__REACT_HOT_LOADER__.register(x,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/permissions/permValidator.es6"))},473:function(e,r,o){"use strict";(function(e){o.d(r,"a",function(){return A});var a=o(0),n=o.n(a),s=o(9),i=o.n(s),l=o(129),c=o(14),u=o.n(c),p=o(1),d=o(8),m=o(5),_=o(6),f=o(27),h=o(22),b=o(114),g=o(26),v=o(2);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function k(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=T(e);if(t){var a=T(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?S(e):t}(this,r)}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O={json:{value:"json",label:t("JSON")},xml:{value:"xml",label:t("XML")}},C={no_auth:{value:"no_auth",label:t("No Authorization")},basic_auth:{value:"basic_auth",label:t("Basic Authorization")}},A=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(c,n.a.Component);var o,a,s=x(c);function c(e){var t;return function(e,t){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this,e)).state={isLoadingHook:!0,isSubmitPending:!1,assetUid:e.assetUid,hookUid:e.hookUid,name:"",nameError:null,endpoint:"",endpointError:null,type:O.json.value,typeOptions:[O.json,O.xml],isActive:!0,emailNotification:!0,authLevel:null,authOptions:[C.no_auth,C.basic_auth],authUsername:"",authPassword:"",subsetFields:[],customHeaders:[t.getEmptyHeaderRow()],payloadTemplate:"",payloadTemplateErrors:[]},i()(S(t)),t}return o=c,(a=[{key:"componentDidMount",value:function(){var e=this;this.state.hookUid?d.a.getHook(this.state.assetUid,this.state.hookUid).done(function(t){var r={isLoadingHook:!1,name:t.name,endpoint:t.endpoint,isActive:t.active,emailNotification:t.email_notification,subsetFields:t.subset_fields||[],type:t.export_type,authLevel:C[t.auth_level]||null,customHeaders:e.headersObjToArr(t.settings.custom_headers),payloadTemplate:t.payload_template};0===r.customHeaders.length&&r.customHeaders.push(e.getEmptyHeaderRow()),t.settings.username&&(r.authUsername=t.settings.username),t.settings.password&&(r.authPassword=t.settings.password),e.setState(r)}).fail(function(){e.setState({isSubmitPending:!1}),u.a.error(t("Could not load REST Service"))}):this.setState({isLoadingHook:!1})}},{key:"getEmptyHeaderRow",value:function(){return{name:"",value:""}}},{key:"headersObjToArr",value:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push({name:r,value:e[r]});return t}},{key:"headersArrToObj",value:function(e){var t,r={},o=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,n=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw n}}}}(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.name&&(r[a.name]=a.value)}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"handleNameChange",value:function(e){this.setState({name:e,nameError:null})}},{key:"handleEndpointChange",value:function(e){this.setState({endpoint:e,endpointError:null})}},{key:"handleAuthTypeChange",value:function(e){this.setState({authLevel:e})}},{key:"handleAuthUsernameChange",value:function(e){this.setState({authUsername:e})}},{key:"handleAuthPasswordChange",value:function(e){this.setState({authPassword:e})}},{key:"handleActiveChange",value:function(e){this.setState({isActive:e})}},{key:"handleEmailNotificationChange",value:function(e){this.setState({emailNotification:e})}},{key:"handleTypeRadioChange",value:function(e,t){this.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,t))}},{key:"handleCustomHeaderChange",value:function(e){var t=e.target.name,r=e.target.value,o=e.target.dataset.index,a=this.state.customHeaders;"headerName"===t&&(a[o].name=r),"headerValue"===t&&(a[o].value=r),this.setState({customHeaders:a})}},{key:"handleCustomWrapperChange",value:function(e){this.setState({payloadTemplate:e,payloadTemplateErrors:[]})}},{key:"getDataForBackend",value:function(){var e=C.no_auth.value;null!==this.state.authLevel&&(e=this.state.authLevel.value);var t={name:this.state.name,endpoint:this.state.endpoint,active:this.state.isActive,subset_fields:this.state.subsetFields,email_notification:this.state.emailNotification,export_type:this.state.type,auth_level:e,settings:{custom_headers:this.headersArrToObj(this.state.customHeaders)},payload_template:this.state.payloadTemplate};return this.state.authUsername&&(t.settings.username=this.state.authUsername),this.state.authPassword&&(t.settings.password=this.state.authPassword),t}},{key:"validateForm",value:function(){var e=!0;return""===this.state.name.trim()&&(this.setState({nameError:t("Name required")}),e=!1),""===this.state.endpoint.trim()&&(this.setState({endpointError:t("URL required")}),e=!1),e}},{key:"onSubmit",value:function(e){var r=this;if(e.preventDefault(),this.validateForm()){var o={onComplete:function(){_.a.pageState.hideModal(),m.a.resources.loadAsset({id:r.state.assetUid})},onFail:function(e){var t=[];e.responseJSON&&e.responseJSON.payload_template&&0!==e.responseJSON.payload_template.length&&(t=e.responseJSON.payload_template),r.setState({payloadTemplateErrors:t,isSubmitPending:!1})}};return this.setState({isSubmitPending:!0}),this.state.hookUid?m.a.hooks.update(this.state.assetUid,this.state.hookUid,this.getDataForBackend(),o):m.a.hooks.add(this.state.assetUid,this.getDataForBackend(),o),!1}u.a.error(t("Please enter both name and url of your service."))}},{key:"onCustomHeaderInputKeyPress",value:function(t){t.keyCode===v.KEY_CODES.ENTER&&"headerName"===t.currentTarget.name&&(t.preventDefault(),e(t.currentTarget).parent().find('input[name="headerValue"]').focus()),t.keyCode===v.KEY_CODES.ENTER&&"headerValue"===t.currentTarget.name&&(t.preventDefault(),this.addNewCustomHeaderRow())}},{key:"addNewCustomHeaderRow",value:function(t){t&&t.preventDefault();var r=this.state.customHeaders;r.push(this.getEmptyHeaderRow()),this.setState({customHeaders:r}),setTimeout(function(){e('input[name="headerName"]').last().focus()},0)}},{key:"removeCustomHeaderRow",value:function(e){e.preventDefault();var t=this.state.customHeaders,r=e.currentTarget.dataset.index;t.splice(r,1),0===t.length&&t.push(this.getEmptyHeaderRow()),this.setState({customHeaders:t})}},{key:"renderCustomHeaders",value:function(){var e=this;return n.a.createElement(p.a.FormModal__item,{m:"http-headers"},n.a.createElement("label",null,t("Custom HTTP Headers")),this.state.customHeaders.map(function(r,o){return n.a.createElement(p.a.FormModal__item,{m:"http-header-row",key:o},n.a.createElement("input",{type:"text",placeholder:t("Name"),id:"headerName-".concat(o),name:"headerName",value:e.state.customHeaders[o].name,"data-index":o,onChange:e.handleCustomHeaderChange,onKeyPress:e.onCustomHeaderInputKeyPress}),n.a.createElement("input",{type:"text",placeholder:t("Value"),id:"headerValue-".concat(o),name:"headerValue",value:e.state.customHeaders[o].value,"data-index":o,onChange:e.handleCustomHeaderChange,onKeyPress:e.onCustomHeaderInputKeyPress}),n.a.createElement(p.a.Button,{m:"icon",className:"http-header-row-remove","data-index":o,onClick:e.removeCustomHeaderRow},n.a.createElement("i",{className:"k-icon k-icon-trash"})))}),n.a.createElement(p.a.KoboButton,{m:"small",onClick:this.addNewCustomHeaderRow},n.a.createElement("i",{className:"k-icon k-icon-plus"}),t("Add header")))}},{key:"onSubsetFieldsChange",value:function(e){this.setState({subsetFields:e.split(",")})}},{key:"renderFieldsSelector",value:function(){return n.a.createElement(p.a.FormModal__item,null,n.a.createElement(l.a,{tags:this.state.subsetFields.join(","),onChange:this.onSubsetFieldsChange,placeholder:t("Add field(s)"),label:t("Select fields subset")}))}},{key:"render",value:function(){var e=Boolean(this.state.hookUid);if(this.state.isLoadingHook)return n.a.createElement(p.a.Loading,null,n.a.createElement(p.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")));var r="%SUBMISSION%";return _.a.session.environment&&_.a.session.environment.submission_placeholder&&(r=_.a.session.environment.submission_placeholder),n.a.createElement(p.a.FormModal__form,{onSubmit:this.onSubmit.bind(this)},n.a.createElement(p.a.FormModal__item,{m:"wrapper"},n.a.createElement(p.a.FormModal__item,null,n.a.createElement(g.a,{label:t("Name"),type:"text",placeholder:t("Service Name"),value:this.state.name,errors:this.state.nameError,onChange:this.handleNameChange.bind(this)})),n.a.createElement(p.a.FormModal__item,null,n.a.createElement(g.a,{label:t("Endpoint URL"),type:"text",placeholder:t("https://"),value:this.state.endpoint,errors:this.state.endpointError,onChange:this.handleEndpointChange.bind(this)})),n.a.createElement(p.a.FormModal__item,null,n.a.createElement(h.a,{name:"isActive",id:"active-checkbox",onChange:this.handleActiveChange.bind(this),checked:this.state.isActive,label:t("Enabled")})),n.a.createElement(p.a.FormModal__item,null,n.a.createElement(h.a,{name:"emailNotification",id:"email-checkbox",onChange:this.handleEmailNotificationChange.bind(this),checked:this.state.emailNotification,label:t("Receive emails notifications")})),n.a.createElement(p.a.FormModal__item,null,n.a.createElement(b.a,{name:"type",options:this.state.typeOptions,onChange:this.handleTypeRadioChange.bind(this),selected:this.state.type,title:t("Type")})),n.a.createElement(p.a.FormModal__item,null,n.a.createElement("label",{htmlFor:"rest-service-form--security"},t("Security")),n.a.createElement(f.a,{value:this.state.authLevel,options:this.state.authOptions,onChange:this.handleAuthTypeChange.bind(this),className:"kobo-select",classNamePrefix:"kobo-select",id:"rest-service-form--security",name:"authLevel",menuPlacement:"auto"})),this.state.authLevel&&this.state.authLevel.value===C.basic_auth.value&&n.a.createElement(p.a.FormModal__item,null,n.a.createElement(g.a,{label:t("Username"),type:"text",value:this.state.authUsername,onChange:this.handleAuthUsernameChange.bind(this)}),n.a.createElement(g.a,{label:t("Password"),type:"text",value:this.state.authPassword,onChange:this.handleAuthPasswordChange.bind(this)})),this.renderFieldsSelector(),this.renderCustomHeaders(),this.state.type===O.json.value&&n.a.createElement(p.a.FormModal__item,{m:"rest-custom-wrapper"},n.a.createElement(g.a,{label:t("Add custom wrapper around JSON submission (%SUBMISSION% will be replaced by JSON)").replace("%SUBMISSION%",r),type:"text-multiline",placeholder:t("Add Custom Wrapper"),value:this.state.payloadTemplate,errors:this.state.payloadTemplateErrors,onChange:this.handleCustomWrapperChange.bind(this)}))),n.a.createElement(p.a.Modal__footer,null,n.a.createElement(p.a.KoboButton,{m:"blue",onClick:this.onSubmit,disabled:this.state.isSubmitPending},e?t("Save"):t("Create"))))}}])&&k(o.prototype,a),c}();"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(O,"EXPORT_TYPES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/RESTServices/RESTServicesForm.es6"),__REACT_HOT_LOADER__.register(C,"AUTH_OPTIONS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/RESTServices/RESTServicesForm.es6"),__REACT_HOT_LOADER__.register(A,"RESTServicesForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/RESTServices/RESTServicesForm.es6"))}).call(this,o(19))},474:function(e,r,o){"use strict";(function(e){o.d(r,"a",function(){return P});var a=o(0),n=o.n(a),s=o(11),i=o.n(s),l=o(9),c=o.n(l),u=o(7),p=o.n(u),d=o(28),m=o.n(d),_=o(83),f=o.n(_),h=o(14),b=o.n(h),g=o(5),v=o(1),y=o(6),w=o(27),k=o(26),E=(o(22),o(563),o(13)),x=o(3),S=o(2);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=j(e);if(t){var a=j(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?R(e):t}(this,r)}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=t("You have unsaved changes. Leave settings without saving?"),P=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,n.a.Component);var o,a,s=A(i);function i(e){var t;return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this,e)).state={isPristine:!0,requireAuth:!1,fieldsErrors:{}},c()(R(t)),t}return o=i,(a=[{key:"rebuildState",value:function(){y.a.session&&y.a.session.currentAccount&&y.a.session.environment&&this.setStateFromSession(y.a.session.currentAccount,y.a.session.environment)}},{key:"componentDidMount",value:function(){this.props.router.setRouteLeaveHook(this.props.route,this.routerWillLeave),this.listenTo(y.a.session,this.rebuildState),this.rebuildState()}},{key:"componentWillUnmount",value:function(){this.unpreventClosingTab()}},{key:"routerWillLeave",value:function(){if(!this.state.isPristine)return L}},{key:"setStateFromSession",value:function(e,r){console.log(e),void 0===e.extra_details&&(e.extra_details={}),this.setState({name:e.extra_details.name,email:e.email,organization:e.extra_details.organization,organizationWebsite:e.extra_details.organization_website,primarySector:e.extra_details.primarySector,gender:e.extra_details.gender,bio:e.extra_details.bio,phoneNumber:e.extra_details.phone_number,address:e.extra_details.address,city:e.extra_details.city,country:e.extra_details.country,defaultLanguage:e.extra_details.default_language,requireAuth:e.extra_details.require_auth,twitter:e.extra_details.twitter,linkedin:e.extra_details.linkedin,instagram:e.extra_details.instagram,metadata:e.extra_details.metadata,languageChoices:r.all_languages,countryChoices:r.available_countries,sectorChoices:r.available_sectors,genderChoices:[{value:"male",label:t("Male")},{value:"female",label:t("Female")},{value:"other",label:t("Other")}],fieldsErrors:{}})}},{key:"safeClose",value:function(){var e=this;if(this.state.isPristine)E.f.goBack();else{var r=b.a.dialog("confirm"),o={title:L,message:"",labels:{ok:t("Yes, leave settings"),cancel:t("Cancel")},onok:function(){e.setState({isPristine:!0}),e.unpreventClosingTab(),E.f.goBack()},oncancel:r.destroy};r.set(o).show()}}},{key:"preventClosingTab",value:function(){e(window).on("beforeunload.noclosetab",function(){return L})}},{key:"unpreventClosingTab",value:function(){e(window).off("beforeunload.noclosetab")}},{key:"updateProfile",value:function(){g.a.misc.updateProfile({email:this.state.email,extra_details:JSON.stringify({name:this.state.name,organization:this.state.organization,organization_website:this.state.organizationWebsite,primarySector:this.state.primarySector,gender:this.state.gender,bio:this.state.bio,phone_number:this.state.phoneNumber,address:this.state.address,city:this.state.city,country:this.state.country,default_language:this.state.defaultLanguage,require_auth:this.state.requireAuth,twitter:this.state.twitter,linkedin:this.state.linkedin,instagram:this.state.instagram,metadata:this.state.metadata})},{onComplete:this.onUpdateComplete.bind(this),onFail:this.onUpdateFail.bind(this)})}},{key:"onUpdateComplete",value:function(){this.unpreventClosingTab(),this.setState({isPristine:!0,fieldsErrors:{}})}},{key:"onUpdateFail",value:function(e){this.setState({fieldsErrors:e.responseJSON})}},{key:"handleChange",value:function(e,t){var r;r=e&&e.target?"checkbox"===e.target.type?e.target.checked:e.target.value:e,this.preventClosingTab(),this.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({isPristine:!1},t,r))}},{key:"nameChange",value:function(e){this.handleChange(e,"name")}},{key:"emailChange",value:function(e){this.handleChange(e,"email")}},{key:"organizationChange",value:function(e){this.handleChange(e,"organization")}},{key:"organizationWebsiteChange",value:function(e){this.handleChange(e,"organizationWebsite")}},{key:"primarySectorChange",value:function(e){this.handleChange(e,"primarySector")}},{key:"genderChange",value:function(e){this.handleChange(e,"gender")}},{key:"bioChange",value:function(e){this.handleChange(e,"bio")}},{key:"phoneNumberChange",value:function(e){this.handleChange(e,"phoneNumber")}},{key:"addressChange",value:function(e){this.handleChange(e,"address")}},{key:"cityChange",value:function(e){this.handleChange(e,"city")}},{key:"countryChange",value:function(e){this.handleChange(e,"country")}},{key:"defaultLanguageChange",value:function(e){this.handleChange(e,"defaultLanguage")}},{key:"requireAuthChange",value:function(e){this.handleChange(e,"requireAuth")}},{key:"twitterChange",value:function(e){this.handleChange(e,"twitter")}},{key:"linkedinChange",value:function(e){this.handleChange(e,"linkedin")}},{key:"instagramChange",value:function(e){this.handleChange(e,"instagram")}},{key:"metadataChange",value:function(e){this.handleChange(e,"metadata")}},{key:"render",value:function(){if(!y.a.session||!y.a.session.currentAccount||!y.a.session.environment)return n.a.createElement(v.a.AccountSettings,null,n.a.createElement(v.a.AccountSettings__item,null,n.a.createElement(v.a.Loading,null,n.a.createElement(v.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")))));var e=y.a.session.currentAccount.username,r={background:"#".concat(Object(x.stringToColor)(e))};return n.a.createElement(m.a,{title:"".concat(e," | KoboToolbox")},n.a.createElement(v.a.AccountSettings,null,n.a.createElement(v.a.AccountSettings__actions,null,n.a.createElement(v.a.KoboButton,{onClick:this.updateProfile,m:["blue"]},t("Save Changes"),!this.state.isPristine&&" *"),n.a.createElement(v.a.Button,{onClick:this.safeClose,m:"icon",className:"account-settings-close"},n.a.createElement("i",{className:"k-icon k-icon-close"}))),n.a.createElement(v.a.AccountSettings__item,{m:"column"},n.a.createElement(v.a.AccountSettings__item,{m:"username"},n.a.createElement(v.a.AccountBox__initials,{style:r},e.charAt(0)),n.a.createElement("h4",null,e)),n.a.createElement(v.a.AccountSettings__item,{m:"fields"},n.a.createElement(v.a.AccountSettings__item,null,n.a.createElement(k.a,{label:t("Name"),errors:this.state.fieldsErrors.name,value:this.state.name,onChange:this.nameChange,description:t("Use this to display your real name to other users")})),n.a.createElement(v.a.AccountSettings__item,null,n.a.createElement(k.a,{label:t("Email"),type:"email",errors:this.state.fieldsErrors.email,value:this.state.email,onChange:this.emailChange})),n.a.createElement(v.a.AccountSettings__item,{m:"password"},n.a.createElement("a",{href:"/#".concat(S.ROUTES.CHANGE_PASSWORD),className:"kobo-button kobo-button--teal"},t("Modify Password"))),n.a.createElement(v.a.AccountSettings__item,null,n.a.createElement(k.a,{label:t("Organization"),errors:this.state.fieldsErrors.organization,value:this.state.organization,onChange:this.organizationChange})),n.a.createElement(v.a.AccountSettings__item,null,n.a.createElement(k.a,{label:t("Organization Website"),type:"url",errors:this.state.fieldsErrors.organizationWebsite,value:this.state.organizationWebsite,onChange:this.organizationWebsiteChange})),n.a.createElement(v.a.AccountSettings__item,{m:"primary-sector"},n.a.createElement("label",null,t("Primary Sector"),n.a.createElement(w.a,{value:this.state.primarySector,options:this.state.sectorChoices,onChange:this.primarySectorChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"})),n.a.createElement(v.a.AccountSettings__desc,null,t("Select the primary sector in which you work. "))),n.a.createElement(v.a.AccountSettings__item,{m:"gender"},n.a.createElement("label",null,t("Gender"),n.a.createElement(w.a,{value:this.state.gender,options:this.state.genderChoices,onChange:this.genderChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}))),n.a.createElement(v.a.AccountSettings__item,{m:"bio"},n.a.createElement("label",null,t("Bio"),n.a.createElement(f.a,{onChange:this.bioChange,value:this.state.bio,id:"bio"}))),n.a.createElement(v.a.AccountSettings__item,null,n.a.createElement(k.a,{label:t("Phone Number"),errors:this.state.fieldsErrors.phoneNumber,value:this.state.phoneNumber,onChange:this.phoneNumberChange})),n.a.createElement(v.a.AccountSettings__item,null,n.a.createElement(k.a,{label:t("Address"),errors:this.state.fieldsErrors.address,value:this.state.address,onChange:this.addressChange})),n.a.createElement(v.a.AccountSettings__item,{m:"city"},n.a.createElement(k.a,{label:t("City"),errors:this.state.fieldsErrors.city,value:this.state.city,onChange:this.cityChange})),n.a.createElement(v.a.AccountSettings__item,{m:"country"},n.a.createElement("label",null,t("Country"),n.a.createElement(w.a,{value:this.state.country,options:this.state.countryChoices,onChange:this.countryChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}))),n.a.createElement(v.a.AccountSettings__item,{m:"social"},n.a.createElement("label",null,t("Social")),n.a.createElement("label",null,n.a.createElement("i",{className:"fa fa-twitter"}),n.a.createElement("input",{type:"text",value:this.state.twitter,onChange:this.twitterChange})),n.a.createElement("label",null,n.a.createElement("i",{className:"fa fa-linkedin"}),n.a.createElement("input",{type:"text",value:this.state.linkedin,onChange:this.linkedinChange})),n.a.createElement("label",null,n.a.createElement("i",{className:"fa fa-instagram"}),n.a.createElement("input",{type:"text",value:this.state.instagram,onChange:this.instagramChange}))),n.a.createElement(v.a.AccountSettings__item,null,n.a.createElement(k.a,{label:t("Metadata"),errors:this.state.fieldsErrors.metadata,value:this.state.metadata,onChange:this.metadataChange}))))))}}])&&O(o.prototype,a),i}();i()(P.prototype,p.a.connect(y.a.session,"session")),i()(P.prototype,p.a.ListenerMixin),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(L,"UNSAVED_CHANGES_WARNING","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/accountSettings.es6"),__REACT_HOT_LOADER__.register(P,"AccountSettings","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/accountSettings.es6"))}).call(this,o(19))},475:function(e,r,o){"use strict";o.d(r,"a",function(){return C});var a=o(0),n=o.n(a),s=o(11),i=o.n(s),l=o(9),c=o.n(l),u=o(7),p=o.n(u),d=o(28),m=o.n(d),_=o(5),f=o(1),h=o(6),b=o(26),g=o(13),v=o(307),y=o(3),w=o(2);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=O(e);if(t){var a=O(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?T(e):t}(this,r)}}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(s,n.a.Component);var r,o,a=S(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).errors={},t.state={errors:t.errors,currentPassword:"",newPassword:"",verifyPassword:""},c()(T(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(_.a.auth.changePassword.failed,this.onChangePasswordFailed),this.listenTo(_.a.auth.changePassword.completed,this.onChangePasswordCompleted)}},{key:"validateRequired",value:function(e){this.state[e]||(this.errors[e]=t("This field is required."))}},{key:"close",value:function(){g.f.goBack()}},{key:"changePassword",value:function(){this.errors={},this.validateRequired("currentPassword"),this.validateRequired("newPassword"),this.validateRequired("verifyPassword"),this.state.newPassword!==this.state.verifyPassword&&(this.errors.newPassword=t("This field must match the Verify Password field.")),0===Object.keys(this.errors).length&&_.a.auth.changePassword(this.state.currentPassword,this.state.newPassword),this.setState({errors:this.errors})}},{key:"onChangePasswordFailed",value:function(e){e.responseJSON.current_password&&(this.errors.currentPassword=e.responseJSON.current_password),e.responseJSON.new_password&&(this.errors.newPassword=e.responseJSON.new_password),this.setState({errors:this.errors})}},{key:"onChangePasswordCompleted",value:function(){this.close()}},{key:"currentPasswordChange",value:function(e){this.setState({currentPassword:e})}},{key:"newPasswordChange",value:function(e){this.setState({newPassword:e})}},{key:"verifyPasswordChange",value:function(e){this.setState({verifyPassword:e})}},{key:"render",value:function(){if(!h.a.session||!h.a.session.currentAccount)return n.a.createElement(f.a.AccountSettings,null,n.a.createElement(f.a.AccountSettings__item,null,n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")))));var e=h.a.session.currentAccount.username,r={background:"#".concat(Object(y.stringToColor)(e))};return n.a.createElement(m.a,{title:"".concat(e," | KoboToolbox")},n.a.createElement(f.a.AccountSettings,null,n.a.createElement(f.a.AccountSettings__actions,null,n.a.createElement(f.a.KoboButton,{onClick:this.changePassword,m:["blue"]},t("Save Password")),n.a.createElement("button",{onClick:this.close,className:"account-settings-close mdl-button mdl-button--icon"},n.a.createElement("i",{className:"k-icon k-icon-close"}))),n.a.createElement(f.a.AccountSettings__item,{m:"column"},n.a.createElement(f.a.AccountSettings__item,{m:"username"},n.a.createElement(f.a.AccountBox__initials,{style:r},e.charAt(0)),n.a.createElement("h4",null,e)),n.a.createElement(f.a.AccountSettings__item,{m:"fields"},n.a.createElement(f.a.AccountSettings__item,null,n.a.createElement("h4",null,t("Reset Password"))),n.a.createElement(f.a.AccountSettings__item,null,n.a.createElement(b.a,{label:t("Current Password"),type:"password",errors:this.state.errors.currentPassword,value:this.state.currentPassword,onChange:this.currentPasswordChange}),n.a.createElement("a",{className:"account-settings-link",href:"".concat(w.ROOT_URL,"/accounts/password/reset/")},t("Forgot Password?"))),n.a.createElement(f.a.AccountSettings__item,null,n.a.createElement(b.a,{label:t("New Password"),type:"password",errors:this.state.errors.newPassword,value:this.state.newPassword,onChange:this.newPasswordChange})),""!==this.state.newPassword&&n.a.createElement(f.a.AccountSettings__item,null,n.a.createElement(v.a,{password:this.state.newPassword})),n.a.createElement(f.a.AccountSettings__item,null,n.a.createElement(b.a,{label:t("Verify Password"),type:"password",errors:this.state.errors.verifyPassword,value:this.state.verifyPassword,onChange:this.verifyPasswordChange}))))))}}])&&E(r.prototype,o),s}();i()(C.prototype,p.a.connect(h.a.session,"session")),i()(C.prototype,p.a.ListenerMixin),"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(C,"ChangePassword","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/changePassword.es6")},477:function(e,t,r){"use strict";var o=r(0),a=r.n(o),n=r(4),s=r.n(n),i=r(11),l=r.n(i),c=r(7),u=r.n(c),p=r(2),d=r(40),m=r(17),_=r(478);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=v(e);if(t){var a=v(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,a.a.Component);var t,r,o=g(n);function n(e){var t;return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={searchContext:d.a.getSearchContext("forms",{filterParams:{assetType:p.COMMON_QUERIES.s},filterTags:p.COMMON_QUERIES.s})},t}return t=n,(r=[{key:"componentDidMount",value:function(){this.searchSemaphore()}},{key:"render",value:function(){return a.a.createElement(_.a,{searchContext:this.state.searchContext})}}])&&h(t.prototype,r),n}();y.contextTypes={router:s.a.object},l()(y.prototype,d.a.common),l()(y.prototype,m.a.droppable),l()(y.prototype,u.a.ListenerMixin);var w=y;t.a=w,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(y,"FormsSearchableList","/home/sujit/projects/ndrrma/survey/source/jsapp/js/lists/forms.es6"),__REACT_HOT_LOADER__.register(w,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/lists/forms.es6"))},478:function(e,r,o){"use strict";(function(e){var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(40),f=o(17),h=o(6),b=o(8),g=o(1),v=o(479),y=o(28),w=o.n(y),k=o(84),E=o(3),x=o(2);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function O(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=j(e);if(t){var a=j(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?R(e):t}(this,r)}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,m.a.Component);var o,a,s=A(i);function i(e){var t;return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this,e)).state={ownedCollections:[],fixedHeadings:"",fixedHeadingsWidth:"auto"},t.store=h.a.selectedAsset,p()(R(t)),t}return o=i,(a=[{key:"componentDidMount",value:function(){this.listenTo(this.searchStore,this.searchChanged),this.queryCollections()}},{key:"searchChanged",value:function(e){this.setState(e),"done"===e.searchState&&this.queryCollections()}},{key:"queryCollections",value:function(){var e=this;this.props.searchContext.store.filterTags!==x.COMMON_QUERIES.s&&b.a.getCollections().then(function(t){e.setState({ownedCollections:t.results.filter(function(e){return(!e.access_types||!e.access_types.includes(x.ACCESS_TYPES.shared))&&e.access_types&&e.access_types.includes(x.ACCESS_TYPES.owned)})})})}},{key:"handleScroll",value:function(t){if(this.props.searchContext.store.filterTags===x.COMMON_QUERIES.s){var r=e(t.target).children(".asset-list").offset().top;this.setState({fixedHeadings:r<30?"fixed-headings":"",fixedHeadingsWidth:r<30?e(t.target).children(".asset-list").width()+"px":"auto"})}}},{key:"renderAssetRow",value:function(e){var t,r=h.a.session.currentAccount&&h.a.session.currentAccount.username,o=h.a.selectedAsset.uid===e.uid,a=this.state.ownedCollections;return e.asset_type!==x.ASSET_TYPES.survey.id&&""===e.name&&e.summary&&e.summary.labels&&e.summary.labels.length>0&&(t=e.summary.labels[0]),n.a.createElement(this.props.assetRowClass,T({key:e.uid,currentUsername:r,onActionButtonClick:this.onActionButtonClick,isSelected:o,ownedCollections:a,deleting:e.deleting,firstQuestionLabel:t},e))}},{key:"renderHeadings",value:function(){return[n.a.createElement(g.a.List__heading,{key:"1"},n.a.createElement("span",{className:this.state.parentName?"parent":""},t("My Library")),this.state.parentName&&n.a.createElement("span",null,n.a.createElement("i",{className:"k-icon-next"}),n.a.createElement("span",null,this.state.parentName))),n.a.createElement(g.a.AssetListSorts,{className:"mdl-grid",key:"2"},n.a.createElement(g.a.AssetListSorts__item,{m:"name",className:"mdl-cell mdl-cell--6-col mdl-cell--3-col-tablet mdl-cell--2-col-phone"},t("Name")),n.a.createElement(g.a.AssetListSorts__item,{m:"type",className:"mdl-cell mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone"},t("Type")),n.a.createElement(g.a.AssetListSorts__item,{m:"owner",className:"mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"},t("Owner")),n.a.createElement(g.a.AssetListSorts__item,{m:"modified",className:"mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"},t("Last Modified")))]}},{key:"renderGroupedHeadings",value:function(){return n.a.createElement(g.a.AssetListSorts,{className:"mdl-grid",style:{width:this.state.fixedHeadingsWidth}},n.a.createElement(g.a.AssetListSorts__item,{m:"name",className:"mdl-cell mdl-cell--5-col mdl-cell--4-col-tablet mdl-cell--2-col-phone"},t("Name")),n.a.createElement(g.a.AssetListSorts__item,{m:"owner",className:"mdl-cell mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone"},t("Shared by")),n.a.createElement(g.a.AssetListSorts__item,{m:"created",className:"mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"},t("Created")),n.a.createElement(g.a.AssetListSorts__item,{m:"modified",className:"mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"},t("Last Modified")),n.a.createElement(g.a.AssetListSorts__item,{m:"submissions",className:"mdl-cell mdl-cell--1-col mdl-cell--1-col-tablet mdl-cell--1-col-phone"},t("Submissions")))}},{key:"renderGroupedResults",value:function(){var e=this,t="defaultQueryCategorizedResultsLists";return this.state.searchResultsDisplayed&&(t="searchResultsCategorizedResultsLists"),Object.keys(x.DEPLOYMENT_CATEGORIES).map(function(r,o){return e.state[t][r].length<1?[]:[n.a.createElement(g.a.List__subheading,{key:o},x.DEPLOYMENT_CATEGORIES[r].label),n.a.createElement(g.a.AssetItems,{m:o+1,key:o+2},e.renderGroupedHeadings(),e.state[[t]][r].map(e.renderAssetRow))]})}},{key:"render",value:function(){var e,r=this,o=this.state,a="";return this.props.searchContext.store.filterTags===x.COMMON_QUERIES.s?(e="grouped",a=t("Projects")):(e="regular",a=t("Library")),n.a.createElement(w.a,{title:"".concat(a," | KoboToolbox")},n.a.createElement(k.a,{onDrop:this.dropFiles,disableClick:!0,multiple:!0,className:"dropzone",activeClassName:"dropzone--active",accept:Object(E.validFileTypes)()},n.a.createElement(g.a.List,{m:e,onScroll:this.handleScroll},function(){if("regular"===e)return r.renderHeadings()}(),n.a.createElement(g.a.AssetList,{m:this.state.fixedHeadings},function(){if(o.searchResultsDisplayed){if("loading"===o.searchState)return n.a.createElement(g.a.Loading,null,n.a.createElement(g.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")));if("done"===o.searchState)return 0===o.searchResultsCount?n.a.createElement(g.a.Loading,null,n.a.createElement(g.a.Loading__inner,null,t("Your search returned no results."))):"grouped"===e?r.renderGroupedResults():o.searchResultsList.map(r.renderAssetRow)}else{if("loading"===o.defaultQueryState)return n.a.createElement(g.a.Loading,null,n.a.createElement(g.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")));if("done"===o.defaultQueryState)return o.defaultQueryCount<1?o.defaultQueryFor.assetType===x.COMMON_QUERIES.s?n.a.createElement(g.a.Loading,null,n.a.createElement(g.a.Loading__inner,null,t("Let's get started by creating your first project. Click the New button to create a new form."),n.a.createElement("div",{className:"pro-tip"},t("Advanced users: You can also drag and drop XLSForms here and they will be uploaded and converted to projects.")))):n.a.createElement(g.a.Loading,null,n.a.createElement(g.a.Loading__inner,null,t("Let's get started by creating your first library question or question block. Click the New button to create a new question or block."))):"grouped"===e?r.renderGroupedResults():o.defaultQueryResultsList.map(r.renderAssetRow)}return!1}()),n.a.createElement("div",{className:"dropzone-active-overlay"},n.a.createElement("i",{className:"k-icon-upload"}),t("Drop files to upload")))))}}])&&O(o.prototype,a),i}();L.defaultProps={assetRowClass:v.a,searchContext:"default"},L.contextTypes={router:i.a.object},c()(L.prototype,_.a.common),c()(L.prototype,f.a.clickAssets),c()(L.prototype,m.a.ListenerMixin),c()(L.prototype,f.a.droppable);var P=L;r.a=P,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(L,"SearchCollectionList","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/searchcollectionlist.es6"),__REACT_HOT_LOADER__.register(P,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/searchcollectionlist.es6"))}).call(this,o(19))},479:function(e,r,o){"use strict";(function(e){var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(13),m=o(1),_=o(12),f=o(18),h=o(6),b=o(17),g=o(2),v=o(480),y=o(3);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=T(e);if(t){var a=T(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?S(e):t}(this,r)}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(i,n.a.Component);var o,a,s=x(i);function i(e){var t;return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=s.call(this,e)).state={isTagsInputVisible:!1,clearPopover:!1,popoverVisible:!1},t.escFunction=t.escFunction.bind(S(t)),p()(S(t)),t}return o=i,(a=[{key:"clickAssetButton",value:function(r){var o=e(r.target).closest("[data-action]").get(0);if(o){var a=o.getAttribute("data-action"),n=o.getAttribute("data-asset-name")||t("untitled");h.a.selectedAsset.toggleSelect(this.props.uid,!0),this.props.onActionButtonClick(a,this.props.uid,n)}}},{key:"clickTagsToggle",value:function(){var e=!this.state.isTagsInputVisible;e?document.addEventListener("keydown",this.escFunction):document.removeEventListener("keydown",this.escFunction),this.setState({isTagsInputVisible:e})}},{key:"escFunction",value:function(e){e.keyCode===g.KEY_CODES.ESC&&this.state.isTagsInputVisible&&this.clickTagsToggle()}},{key:"moveToCollection",value:function(e){_.b.moveToCollection(this.props.uid,e.currentTarget.dataset.collid)}},{key:"clearPopover",value:function(){this.state.popoverVisible&&this.setState({clearPopover:!0,popoverVisible:!1})}},{key:"popoverSetVisible",value:function(){this.setState({popoverVisible:!0})}},{key:"render",value:function(){var e=this,r=_.b.isSelfOwned(this.props),o=this.props.summary&&this.props.summary.row_count||0,a="/forms/".concat(this.props.uid),s=(this.props.tags,[]),i=void 0,l=this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&null===this.props.deployed_version_id,c=this.userCan("change_asset",this.props),u=this.props.name||this.props.firstQuestionLabel;return this.props.has_deployment&&this.props.deployment__submission_count&&this.userCan("view_submissions",this.props)&&(a="/forms/".concat(this.props.uid,"/summary")),this.isLibrary()&&(a="/library/asset/".concat(this.props.uid),i=this.state.parent||void 0,s=this.props.ownedCollections.map(function(e){var t=!1;return null!=i&&-1!==i.indexOf(e.uid)&&(t=!0),{value:e.uid,label:e.name||e.uid,hasParent:t}})),n.a.createElement(m.a.AssetRow,{m:{"display-tags":this.state.isTagsInputVisible,deleted:this.props.deleted,deleting:this.props.deleting},className:"mdl-grid",key:this.props.uid,onMouseLeave:this.clearPopover},n.a.createElement(m.a.AssetRow__cell,{m:"asset-details",key:"asset-details",onClick:this.clickAssetButton,"data-asset-type":this.props.kind},n.a.createElement(d.c,{to:a,"data-kind":this.props.kind,"data-asset-type":this.props.kind,draggable:!1,className:"asset-row__link-overlay"}),n.a.createElement(m.a.AssetRow__cell,{m:"title",className:["mdl-cell",this.props.asset_type==g.ASSET_TYPES.survey.id?"mdl-cell--5-col mdl-cell--4-col-tablet mdl-cell--2-col-phone":"mdl-cell--6-col mdl-cell--3-col-tablet mdl-cell--2-col-phone"]},this.props.asset_type&&(this.props.asset_type==g.ASSET_TYPES.template.id||this.props.asset_type==g.ASSET_TYPES.block.id||this.props.asset_type==g.ASSET_TYPES.question.id)&&n.a.createElement("i",{className:"row-icon row-icon--".concat(this.props.asset_type)},o),n.a.createElement(m.a.AssetRow__cell,{m:"name"},n.a.createElement(f.a.AssetName,this.props)),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&this.props.settings.description&&n.a.createElement(m.a.AssetRow__description,null,this.props.settings.description)),this.props.asset_type&&(this.props.asset_type==g.ASSET_TYPES.template.id||this.props.asset_type==g.ASSET_TYPES.block.id||this.props.asset_type==g.ASSET_TYPES.question.id)&&n.a.createElement(m.a.AssetRow__cell,{m:"type",className:["mdl-cell mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone"]},g.ASSET_TYPES[this.props.asset_type].label),n.a.createElement(m.a.AssetRow__cell,{m:"userlink",key:"userlink",className:["mdl-cell",this.props.asset_type==g.ASSET_TYPES.survey.id?"mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone":"mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"]},this.props.asset_type==g.ASSET_TYPES.survey.id&&n.a.createElement("span",null,r?" ":this.props.owner__username),this.props.asset_type!=g.ASSET_TYPES.survey.id&&n.a.createElement("span",null,_.b.getAssetOwnerDisplayName(this.props.owner__username))),this.props.asset_type==g.ASSET_TYPES.survey.id&&n.a.createElement(m.a.AssetRow__cell,{m:"date-created",key:"date-created",className:"mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"},n.a.createElement("span",{className:"date date--created"},Object(y.formatTime)(this.props.date_created))),n.a.createElement(m.a.AssetRow__cell,{m:"date-modified",key:"date-modified",className:["mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"]},n.a.createElement("span",{className:"date date--modified"},Object(y.formatTime)(this.props.date_modified))),this.props.asset_type==g.ASSET_TYPES.survey.id&&n.a.createElement(m.a.AssetRow__cell,{m:"submission-count",key:"submisson-count",className:"mdl-cell mdl-cell--1-col mdl-cell--1-col-tablet mdl-cell--1-col-phone"},this.props.deployment__submission_count?this.props.deployment__submission_count:0)),this.state.isTagsInputVisible&&n.a.createElement(m.a.AssetRow__cell,{m:"tags",key:"tags",className:"mdl-cell mdl-cell--12-col"},n.a.createElement(v.a,{uid:this.props.uid,tags:this.props.tags})),n.a.createElement(m.a.AssetRow__buttons,{onClick:this.clickAssetButton},c&&n.a.createElement(m.a.AssetRow__actionIcon,{m:"edit",key:"edit","data-action":"edit","data-tip":t("Edit"),"data-asset-type":this.props.kind,"data-disabled":!1},n.a.createElement("i",{className:"k-icon-edit"})),c&&n.a.createElement(m.a.AssetRow__actionIcon,{m:"tagsToggle",onClick:this.clickTagsToggle,"data-tip":t("Tags")},n.a.createElement("i",{className:"k-icon-tag"})),c&&n.a.createElement(m.a.AssetRow__actionIcon,{m:"sharing",key:"sharing","data-action":"sharing","data-asset-type":this.props.kind,"data-tip":t("Share"),"data-disabled":!1},n.a.createElement("i",{className:"k-icon-user-share"})),n.a.createElement(m.a.AssetRow__actionIcon,{m:"clone",key:"clone","data-action":"clone","data-tip":t("Clone"),"data-asset-type":this.props.kind,"data-asset-name":u,"data-disabled":!1},n.a.createElement("i",{className:"k-icon-clone"})),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.template.id&&c&&n.a.createElement(m.a.AssetRow__actionIcon,{m:"cloneAsSurvey",key:"cloneAsSurvey","data-action":"cloneAsSurvey","data-tip":t("Create project"),"data-asset-type":this.props.kind,"data-asset-name":u,"data-disabled":!1},n.a.createElement("i",{className:"k-icon-projects"})),this.props.asset_type===g.ASSET_TYPES.collection.id&&["sharing"].map(function(t){return n.a.createElement(m.a.AssetRow__actionIcon,{m:"view"===t?"view-collection":t,"data-action":t,"data-asset-type":e.props.kind,"data-disabled":!1,"data-tip":t},n.a.createElement("i",null))}),n.a.createElement(f.a.PopoverMenu,{type:"assetrow-menu",triggerLabel:n.a.createElement("i",{className:"k-icon-more"}),triggerTip:t("More Actions"),clearPopover:this.state.clearPopover,popoverSetVisible:this.popoverSetVisible},this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&c&&l&&n.a.createElement(m.a.PopoverMenu__link,{m:"deploy","data-action":"deploy","data-asset-type":this.props.kind},n.a.createElement("i",{className:"k-icon-deploy"}),t("Deploy this project")),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&this.props.has_deployment&&!this.props.deployment__active&&c&&n.a.createElement(m.a.PopoverMenu__link,{m:"unarchive","data-action":"unarchive","data-asset-type":this.props.kind},n.a.createElement("i",{className:"k-icon-archived"}),t("Unarchive")),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&c&&n.a.createElement(m.a.PopoverMenu__link,{m:"refresh","data-action":"refresh","data-asset-type":this.props.kind},n.a.createElement("i",{className:"k-icon-replace"}),t("Replace form")),c&&n.a.createElement(m.a.PopoverMenu__link,{"data-action":"translations","data-asset-uid":this.props.uid},n.a.createElement("i",{className:"k-icon-language"}),t("Manage Translations")),this.props.downloads.map(function(e){return n.a.createElement(m.a.PopoverMenu__link,{m:"dl-".concat(e.format),href:e.url,key:"dl-".concat(e.format)},n.a.createElement("i",{className:"k-icon-".concat(e.format,"-file")}),t("Download")," ",e.format.toString().toUpperCase())}),this.props.asset_type&&this.props.asset_type!=g.ASSET_TYPES.survey.id&&s.length>0&&n.a.createElement(m.a.PopoverMenu__heading,null,t("Move to")),this.props.asset_type&&this.props.asset_type!=g.ASSET_TYPES.survey.id&&s.length>0&&n.a.createElement(m.a.PopoverMenu__moveTo,null,s.map(function(t){return n.a.createElement(m.a.PopoverMenu__item,{onClick:e.moveToCollection,"data-collid":t.value,"data-parent":t.hasParent?"true":"false",key:t.value,title:t.label,m:"move-coll-item"},n.a.createElement("i",{className:"k-icon-folder"}),t.label)})),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&this.props.has_deployment&&this.props.deployment__active&&c&&n.a.createElement(m.a.PopoverMenu__link,{m:"archive","data-action":"archive","data-asset-type":this.props.kind},n.a.createElement("i",{className:"k-icon-archived"}),t("Archive")),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&c&&n.a.createElement(m.a.PopoverMenu__link,{m:"cloneAsTemplate","data-action":"cloneAsTemplate","data-asset-type":this.props.kind,"data-asset-name":u},n.a.createElement("i",{className:"k-icon-template-new"}),t("Create template")),r&&n.a.createElement(m.a.PopoverMenu__link,{m:"delete","data-action":"delete","data-asset-type":this.props.kind,"data-asset-name":u},n.a.createElement("i",{className:"k-icon-trash"}),t("Delete")))))}}])&&k(o.prototype,a),i}();c()(O.prototype,b.a.droppable),c()(O.prototype,b.a.permissions),c()(O.prototype,b.a.contextRouter),O.contextTypes={router:i.a.object};var C=O;r.a=C,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(O,"AssetRow","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/assetrow.es6"),__REACT_HOT_LOADER__.register(C,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/assetrow.es6"))}).call(this,o(19))},480:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(9),i=o.n(s),l=o(306),c=o.n(l),u=o(5),p=o(12);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=b(e);if(t){var a=b(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?h(e):t}(this,r)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(s,n.a.Component);var r,o,a=f(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={tags:e.tags,tag:""},i()(h(t)),t}return r=s,(o=[{key:"handleChange",value:function(e){var t=Object(p.a)(e);this.setState({tags:t});var r=this.props.uid;u.a.resources.updateAsset(r,{tag_string:t.join(",")})}},{key:"handleChangeInput",value:function(e){this.setState({tag:e})}},{key:"pasteSplit",value:function(e){return e.split(",").map(function(e){return e.trim()})}},{key:"render",value:function(){var e={placeholder:t("Add tag(s)")};return n.a.createElement(c.a,{value:this.state.tags,onChange:this.handleChange.bind(this),inputValue:this.state.tag,inputProps:e,onChangeInput:this.handleChangeInput.bind(this),onlyUnique:!0,addOnBlur:!0,addOnPaste:!0,pasteSplit:this.pasteSplit})}}])&&m(r.prototype,o),s}(),v=g;r.a=v,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"TagInput","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/tagInput.es6"),__REACT_HOT_LOADER__.register(v,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/tagInput.es6"))},481:function(e,t,r){"use strict";var o=r(0),a=r.n(o),n=r(307);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,a.a.Component);var t,r,o=c(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={currentPass:""},t}return t=s,(r=[{key:"componentDidMount",value:function(){this.watchInput("id_password1")}},{key:"watchInput",value:function(e){var t=this,r=document.getElementById(e);if(!r)throw new Error('Input "'.concat(e,'" not found!'));r.addEventListener("input",function(e){t.setState({currentPass:e.currentTarget.value})})}},{key:"render",value:function(){return a.a.createElement(n.a,{password:this.state.currentPass})}}])&&i(t.prototype,r),s}(),d=p;t.a=d,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("id_password1","PASS_INPUT_ID","/home/sujit/projects/ndrrma/survey/source/jsapp/js/registrationPasswordApp.es6"),__REACT_HOT_LOADER__.register(p,"RegistrationPasswordApp","/home/sujit/projects/ndrrma/survey/source/jsapp/js/registrationPasswordApp.es6"),__REACT_HOT_LOADER__.register(d,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/registrationPasswordApp.es6"))},482:function(e,t,r){"use strict";var o=r(0),a=r.n(o),n=r(8);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,a.a.Component);var t,r,o=c(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={district:"",province:""},t}return t=s,(r=[{key:"componentDidMount",value:function(){this.watchInput("id_district"),this.watchInput("id_province")}},{key:"watchInput",value:function(e){var t=this,r=document.getElementById(e);if("id_province"==e){if(!r)throw new Error('Input "'.concat(e,'" not found!'));r.addEventListener("change",function(e){console.log("inside");var r=e.currentTarget.value;t.setState({province:r}),""==r?(document.getElementById("id_district").innerHTML="<option value=''></option>",document.getElementById("id_municipality").innerHTML="<option value=''></option>"):n.a.districts(r).done(function(e){for(var t="<option value=''></option>",r=0;r<e.length;r++)t+="<option value='"+e[r].code+"'>"+e[r].name+"</option>";document.getElementById("id_district").innerHTML=t})})}if("id_district"==e){if(!r)throw new Error('Input "'.concat(e,'" not found!'));r.addEventListener("change",function(e){var r=e.currentTarget.value;t.setState({district:r}),""==r?document.getElementById("id_municipality").innerHTML="<option value=''></option>":n.a.municipalities(r).done(function(e){for(var t="<option value=''></option>",r=0;r<e.length;r++)t+="<option value='"+e[r].code+"'>"+e[r].name+"</option>";document.getElementById("id_municipality").innerHTML=t})})}}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null)}}])&&i(t.prototype,r),s}(),d=p;t.a=d,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("id_district","DISTRICT_ID","/home/sujit/projects/ndrrma/survey/source/jsapp/js/locationUpdateApp.es6"),__REACT_HOT_LOADER__.register("id_province","PROVINCE_ID","/home/sujit/projects/ndrrma/survey/source/jsapp/js/locationUpdateApp.es6"),__REACT_HOT_LOADER__.register("id_municipality","MUNICIPALITY_ID","/home/sujit/projects/ndrrma/survey/source/jsapp/js/locationUpdateApp.es6"),__REACT_HOT_LOADER__.register(p,"LocationUpdateApp","/home/sujit/projects/ndrrma/survey/source/jsapp/js/locationUpdateApp.es6"),__REACT_HOT_LOADER__.register(d,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/locationUpdateApp.es6"))},483:function(e,t,r){"use strict";var o=r(0),a=r.n(o);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=c(e);if(t){var a=c(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(8);var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,a.a.Component);var t,r,o=l(n);function n(e){var t;return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={district:"",province:""},t}return t=n,(r=[{key:"componentDidMount",value:function(){console.log("mounted here"),this.watchInput("id_role"),this.updateFields()}},{key:"updateFields",value:function(){var e=document.getElementById("id_role").value;"0"==e&&(document.getElementsByClassName("province")[0].style.display="None",document.getElementsByClassName("district")[0].style.display="None",document.getElementsByClassName("municipality")[0].style.display="None",document.getElementById("id_province").required=!1,document.getElementById("id_district").required=!1,document.getElementById("id_municipality").required=!1),"1"==e&&(document.getElementsByClassName("province")[0].style.display="block",document.getElementsByClassName("district")[0].style.display="None",document.getElementsByClassName("municipality")[0].style.display="None"),"2"==e&&(document.getElementsByClassName("province")[0].style.display="block",document.getElementsByClassName("district")[0].style.display="block",document.getElementsByClassName("municipality")[0].style.display="None"),"3"==e&&(document.getElementsByClassName("province")[0].style.display="block",document.getElementsByClassName("district")[0].style.display="block",document.getElementsByClassName("municipality")[0].style.display="block"),"4"==e&&(document.getElementsByClassName("province")[0].style.display="block",document.getElementsByClassName("district")[0].style.display="block",document.getElementsByClassName("municipality")[0].style.display="block")}},{key:"watchInput",value:function(e){var t=this;console.log("mounted here");var r=document.getElementById(e);if(!r)throw new Error('Input "'.concat(e,'" not found!'));r.addEventListener("change",function(e){t.updateFields()})}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null)}}])&&s(t.prototype,r),n}(),p=u;t.a=p,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("id_role","STAFF_ID","/home/sujit/projects/ndrrma/survey/source/jsapp/js/staffRoleUpdateApp.es6"),__REACT_HOT_LOADER__.register("id_district","DISTRICT_ID","/home/sujit/projects/ndrrma/survey/source/jsapp/js/staffRoleUpdateApp.es6"),__REACT_HOT_LOADER__.register("id_province","PROVINCE_ID","/home/sujit/projects/ndrrma/survey/source/jsapp/js/staffRoleUpdateApp.es6"),__REACT_HOT_LOADER__.register("id_municipality","MUNICIPALITY_ID","/home/sujit/projects/ndrrma/survey/source/jsapp/js/staffRoleUpdateApp.es6"),__REACT_HOT_LOADER__.register(u,"StaffRoleUpdateApp","/home/sujit/projects/ndrrma/survey/source/jsapp/js/staffRoleUpdateApp.es6"),__REACT_HOT_LOADER__.register(p,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/staffRoleUpdateApp.es6"))},484:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(11),i=o.n(s),l=o(9),c=o.n(l),u=o(7),p=o.n(u),d=o(14),m=o.n(d),_=o(5),f=o(1),h=o(18),b=o(6),g=o(2),v=o(129),y=o(3),w=o(52);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=O(e);if(t){var a=O(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?T(e):t}(this,r)}}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(s,n.a.Component);var r,o,a=S(s);function s(e){var t,r;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(r=a.call(this,e)).state={isSessionLoaded:!!b.a.session.currentAccount,tags:(null===(t=r.props.asset)||void 0===t?void 0:t.tag_string)||"",isPending:!1},r.unlisteners=[],c()(T(r)),r}return r=s,(o=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(b.a.session,function(){e.setState({isSessionLoaded:!0})}),this.unlisteners.push(_.a.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this)),_.a.resources.updateAsset.failed.listen(this.onUpdateAssetFailed.bind(this)))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"onUpdateAssetCompleted",value:function(){this.setState({isPending:!1}),b.a.pageState.hideModal()}},{key:"onUpdateAssetFailed",value:function(){this.setState({isPending:!1}),Object(y.notify)(t("Failed to update tags"),"error")}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({isPending:!0}),_.a.resources.updateAsset(this.props.asset.uid,{tag_string:this.state.tags})}},{key:"onTagsChange",value:function(e){this.setState({tags:e})}},{key:"getSubmitButtonLabel",value:function(){return this.state.isPending?t("Updating…"):t("Update")}},{key:"render",value:function(){return this.state.isSessionLoaded?n.a.createElement(f.a.FormModal__form,{className:"project-settings"},n.a.createElement(f.a.FormModal__item,{m:"wrapper",disabled:this.state.isPending},n.a.createElement(f.a.FormModal__item,null,n.a.createElement(v.a,{tags:this.state.tags,onChange:this.onTagsChange}))),n.a.createElement(f.a.Modal__footer,null,n.a.createElement(f.a.KoboButton,{m:"blue",type:"submit",onClick:this.onSubmit,disabled:this.state.isPending,className:"mdl-js-button"},this.getSubmitButtonLabel()))):Object(w.b)()}}])&&E(r.prototype,o),s}();i()(C.prototype,p.a.ListenerMixin),"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(C,"AssetTagsForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/assetTagsForm.es6");var A=o(27),R=o(4),j=o.n(R),L=o(26),P=o(83),D=o.n(P),F=o(13),M=o(12),N=o(17),B=o(113);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=q(e);if(t){var a=q(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?z(e):t}(this,r)}}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(s,n.a.Component);var r,o,a=H(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).unlisteners=[],t.state={isSessionLoaded:!!b.a.session.currentAccount,data:{name:"",organization:"",country:null,sector:null,tags:"",description:""},isPending:!1},c()(z(t)),t.props.asset&&t.applyPropsData(),t}return r=s,(o=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(b.a.session,function(){e.setState({isSessionLoaded:!0})}),this.unlisteners.push(_.a.resources.createResource.completed.listen(this.onCreateResourceCompleted.bind(this)),_.a.resources.createResource.failed.listen(this.onCreateResourceFailed.bind(this)),_.a.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this)),_.a.resources.updateAsset.failed.listen(this.onUpdateAssetFailed.bind(this)))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"applyPropsData",value:function(){this.props.asset.name&&(this.state.data.name=this.props.asset.name),this.props.asset.settings.organization&&(this.state.data.organization=this.props.asset.settings.organization),this.props.asset.settings.country&&(this.state.data.country=this.props.asset.settings.country),this.props.asset.settings.sector&&(this.state.data.sector=this.props.asset.settings.sector),this.props.asset.tag_string&&(this.state.data.tags=this.props.asset.tag_string),this.props.asset.settings.description&&(this.state.data.description=this.props.asset.settings.description)}},{key:"onCreateResourceCompleted",value:function(e){this.setState({isPending:!1}),Object(y.notify)(t("##type## ##name## created").replace("##type##",this.getFormAssetType()).replace("##name##",e.name)),b.a.pageState.hideModal(),this.getFormAssetType()===g.ASSET_TYPES.collection.id?F.f.push("/library/asset/".concat(e.uid)):this.getFormAssetType()===g.ASSET_TYPES.template.id&&F.f.push("/library/asset/".concat(e.uid,"/edit"))}},{key:"onCreateResourceFailed",value:function(){this.setState({isPending:!1}),Object(y.notify)(t("Failed to create ##type##").replace("##type##",this.getFormAssetType()),"error")}},{key:"onUpdateAssetCompleted",value:function(){this.setState({isPending:!1}),b.a.pageState.hideModal()}},{key:"onUpdateAssetFailed",value:function(){this.setState({isPending:!1}),Object(y.notify)(t("Failed to update ##type##").replace("##type##",this.getFormAssetType()),"error")}},{key:"onSubmit",value:function(e){if(e.preventDefault(),this.setState({isPending:!0}),this.props.asset)_.a.resources.updateAsset(this.props.asset.uid,{name:this.state.data.name,settings:JSON.stringify({organization:this.state.data.organization,country:this.state.data.country,sector:this.state.data.sector,description:this.state.data.description}),tag_string:this.state.data.tags});else{var t={name:this.state.data.name,asset_type:this.getFormAssetType(),settings:JSON.stringify({organization:this.state.data.organization,country:this.state.data.country,sector:this.state.data.sector,description:this.state.data.description}),tag_string:this.state.data.tags};if(this.isLibrarySingle()&&t.asset_type!==g.ASSET_TYPES.collection.id){var r=B.a.find(this.currentAssetID());r&&r.asset_type===g.ASSET_TYPES.collection.id&&(t.parent=r.url)}_.a.resources.createResource(t)}}},{key:"onPropertyChange",value:function(e,t){var r=this.state.data;r[e]=t,this.setState({data:r})}},{key:"onNameChange",value:function(e){this.onPropertyChange("name",M.b.removeInvalidChars(e))}},{key:"onOrganizationChange",value:function(e){this.onPropertyChange("organization",e)}},{key:"onCountryChange",value:function(e){this.onPropertyChange("country",e)}},{key:"onSectorChange",value:function(e){this.onPropertyChange("sector",e)}},{key:"onTagsChange",value:function(e){this.onPropertyChange("tags",e)}},{key:"onDescriptionChange",value:function(e){this.onPropertyChange("description",M.b.removeInvalidChars(e.target.value))}},{key:"getFormAssetType",value:function(){return this.props.asset?this.props.asset.asset_type:this.props.assetType}},{key:"isSubmitEnabled",value:function(){return!this.state.isPending}},{key:"getSubmitButtonLabel",value:function(){return this.props.asset?this.state.isPending?t("Saving…"):t("Save"):this.state.isPending?t("Creating…"):t("Create")}},{key:"render",value:function(){if(!this.state.isSessionLoaded)return Object(w.b)();var e=b.a.session.environment.available_sectors,r=b.a.session.environment.available_countries;return n.a.createElement(f.a.FormModal__form,{className:"project-settings"},n.a.createElement(f.a.FormModal__item,{m:"wrapper",disabled:this.state.isPending},n.a.createElement(f.a.FormModal__item,null,n.a.createElement(L.a,{value:this.state.data.name,onChange:this.onNameChange,label:t("Name")})),n.a.createElement(f.a.FormModal__item,null,n.a.createElement(L.a,{value:this.state.data.organization,onChange:this.onOrganizationChange,label:t("Organization")})),n.a.createElement(f.a.FormModal__item,null,n.a.createElement("label",{htmlFor:"country"},t("Country")),n.a.createElement(A.a,{id:"country",value:this.state.data.country,onChange:this.onCountryChange,options:r,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isClearable:!0})),n.a.createElement(f.a.FormModal__item,null,n.a.createElement("label",{htmlFor:"sector"},t("Primary Sector")),n.a.createElement(A.a,{id:"sector",value:this.state.data.sector,onChange:this.onSectorChange,options:e,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isClearable:!0})),n.a.createElement(f.a.FormModal__item,null,n.a.createElement(v.a,{tags:this.state.data.tags,onChange:this.onTagsChange,label:t("Tags")})),n.a.createElement(f.a.FormModal__item,null,n.a.createElement(D.a,{onChange:this.onDescriptionChange,value:this.state.data.description,placeholder:t("Enter short description here")}))),n.a.createElement(f.a.Modal__footer,null,Object(w.a)(this.state.isPending),n.a.createElement(f.a.KoboButton,{m:"blue",type:"submit",onClick:this.onSubmit,disabled:!this.isSubmitEnabled(),className:"mdl-js-button"},this.getSubmitButtonLabel())))}}])&&U(r.prototype,o),s}();function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=J(e);if(t){var a=J(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?K(e):t}(this,r)}}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i()(Y.prototype,p.a.ListenerMixin),i()(Y.prototype,N.a.contextRouter),Y.contextTypes={router:j.a.object},"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Y,"LibraryAssetForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/libraryAssetForm.es6");var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(s,n.a.Component);var r,o,a=W(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={isSessionLoaded:!!b.a.session.currentAccount},c()(K(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(b.a.session,function(){e.setState({isSessionLoaded:!0})})}},{key:"goToAssetCreator",value:function(){b.a.pageState.hideModal();var e=g.ROUTES.NEW_LIBRARY_ITEM;if(this.isLibrarySingle()){var t=B.a.find(this.currentAssetID());t&&t.asset_type===g.ASSET_TYPES.collection.id&&(e=g.ROUTES.NEW_LIBRARY_CHILD.replace(":uid",t.uid))}F.f.push(e)}},{key:"goToCollection",value:function(){b.a.pageState.switchModal({type:g.MODAL_TYPES.LIBRARY_COLLECTION,previousType:g.MODAL_TYPES.LIBRARY_NEW_ITEM})}},{key:"goToTemplate",value:function(){b.a.pageState.switchModal({type:g.MODAL_TYPES.LIBRARY_TEMPLATE,previousType:g.MODAL_TYPES.LIBRARY_NEW_ITEM})}},{key:"goToUpload",value:function(){b.a.pageState.switchModal({type:g.MODAL_TYPES.LIBRARY_UPLOAD,previousType:g.MODAL_TYPES.LIBRARY_NEW_ITEM})}},{key:"renderLoading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t("loading…");return n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null),e))}},{key:"render",value:function(){return this.state.isSessionLoaded?n.a.createElement(f.a.FormModal__form,{className:"project-settings project-settings--form-source"},n.a.createElement(f.a.FormModal__item,{m:"form-source-buttons"},n.a.createElement("button",{onClick:this.goToAssetCreator},n.a.createElement("i",{className:"k-icon-block-new"}),t("Question Block")),n.a.createElement("button",{onClick:this.goToTemplate},n.a.createElement("i",{className:"k-icon-template-new"}),t("Template")),n.a.createElement("button",{onClick:this.goToUpload},n.a.createElement("i",{className:"k-icon-upload"}),t("Upload")),n.a.createElement("button",{onClick:this.goToCollection},n.a.createElement("i",{className:"k-icon-folder"}),t("Collection")))):this.renderLoading()}}])&&$(r.prototype,o),s}();i()(X.prototype,p.a.ListenerMixin),i()(X.prototype,N.a.contextRouter),X.contextTypes={router:j.a.object};var Z=X,ee=Z,te=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(X,"LibraryNewItemForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/libraryNewItemForm.es6"),__REACT_HOT_LOADER__.register(Z,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/libraryNewItemForm.es6")),o(84));function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=ie(e);if(t){var a=ie(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?se(e):t}(this,r)}}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(s,n.a.Component);var r,o,a=ne(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={isSessionLoaded:!!b.a.session.currentAccount,isPending:!1},c()(se(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(b.a.session,function(){e.setState({isSessionLoaded:!0})})}},{key:"onFileDrop",value:function(e,t,r){this.setState({isPending:!0}),this.dropFiles(e,t,r)}},{key:"render",value:function(){return this.state.isSessionLoaded?n.a.createElement(f.a.FormModal__form,{className:"project-settings project-settings--upload-file"},n.a.createElement(f.a.Modal__subheader,null,t("Import an XLSForm from your computer.")),!this.state.isPending&&n.a.createElement(te.a,{onDrop:this.onFileDrop.bind(this),multiple:!1,className:"dropzone",activeClassName:"dropzone-active",rejectClassName:"dropzone-reject",accept:Object(y.validFileTypes)()},n.a.createElement("i",{className:"k-icon-xls-file"}),t(" Drag and drop the XLSForm file here or click to browse")),this.state.isPending&&n.a.createElement("div",{className:"dropzone"},Object(w.b)(t("Uploading file…"))),n.a.createElement(f.a.Modal__footer,null,Object(w.a)(this.state.isPending))):Object(w.b)()}}])&&oe(r.prototype,o),s}();i()(le.prototype,p.a.ListenerMixin),i()(le.prototype,N.a.droppable),le.contextTypes={router:j.a.object};var ce=le,ue=ce;function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=he(e);if(t){var a=he(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?fe(e):t}(this,r)}}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(le,"LibraryUploadForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/libraryUploadForm.es6"),__REACT_HOT_LOADER__.register(ce,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/libraryUploadForm.es6"));var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(s,n.a.Component);var r,o,a=_e(s);function s(e){var t,r,o;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e),e.asset&&(r=e.asset.content.settings.submission_url,o=e.asset.content.settings.public_key),t.state={asset:e.asset,assetUid:e.assetUid,submissionURL:r||"",publicKey:o||"",clearEncryption:!1,isPending:!1},c()(fe(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(b.a.asset,this.onAssetsChange),!this.state.asset&&this.state.assetUid&&(b.a.asset.data[this.state.assetUid]?this.onAssetChange(b.a.asset.data[this.state.assetUid]):b.a.allAssets.whenLoaded(this.props.assetUid,this.onAssetChange))}},{key:"onAssetChange",value:function(e){this.setState({asset:e,isPending:!1,submissionURL:e.content.settings.submission_url,publicKey:e.content.settings.public_key}),b.a.pageState.showModal({type:g.MODAL_TYPES.ENCRYPT_FORM,asset:e})}},{key:"onAssetsChange",value:function(e){var t;this.state.asset?t=this.state.asset.uid:this.state.assetUid&&(t=this.state.assetUid),null!==e.uid&&this.onAssetChange(e[t])}},{key:"updateAsset",value:function(e){_.a.resources.updateAsset(this.props.asset.uid,{content:JSON.stringify(e)})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({isPending:!0});var t=this.state.asset.content;t.settings.submission_url=this.state.submissionURL,t.settings.public_key=this.state.publicKey,this.updateAsset(t)}},{key:"onRemove",value:function(e){e.preventDefault(),this.setState({clearEncryption:!0}),this.setState({isPending:!0});var t=this.state.asset.content;t.settings.submission_url="",t.settings.public_key="",this.updateAsset(t)}},{key:"onSubmissionURLChange",value:function(e){this.setState({submissionURL:e,clearEncryption:!1})}},{key:"onPublicKeyChange",value:function(e){this.setState({publicKey:e,clearEncryption:!1})}},{key:"openEncryptionHelp",value:function(){window.open("https://support.kobotoolbox.org/encrypting_forms.html","_blank")}},{key:"render",value:function(){return n.a.createElement(f.a.FormView__form,{m:"add-language-fields"},n.a.createElement(f.a.FormView__cell,{m:"encrypt-url"},n.a.createElement(f.a.FormModal__item,null,n.a.createElement("label",null,t("Submission URL")),n.a.createElement(L.a,{value:this.state.clearEncryption?"":this.state.submissionURL,onChange:this.onSubmissionURLChange}))),n.a.createElement(f.a.FormView__cell,{m:"encrypt-key"},n.a.createElement(f.a.FormModal__item,null,n.a.createElement("label",null,t("Public key")),n.a.createElement(L.a,{value:this.state.clearEncryption?"":this.state.publicKey,onChange:this.onPublicKeyChange}))),n.a.createElement(f.a.FormView__cell,{m:"submit-button"},n.a.createElement("button",{className:"mdl-button mdl-button--raised mdl-button--colored",disabled:this.state.isPending,onClick:this.onSubmit,type:"submit"},t("Set encryption")),n.a.createElement("button",{className:"remove-encryption mdl-button mdl-button--colored mdl-button--red mdl-button--raised",disabled:this.state.isPending,onClick:this.onRemove,type:"submit"},t("Remove encryption")),n.a.createElement("button",{className:"encrypt-help",onClick:this.openEncryptionHelp,"data-tip":t("Learn more about encrypting forms")},n.a.createElement("i",{className:"k-icon k-icon-help"}))))}}])&&de(r.prototype,o),s}();i()(be.prototype,p.a.ListenerMixin);var ge=be,ve=ge,ye=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(be,"EncryptForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/encryptForm.es6"),__REACT_HOT_LOADER__.register(ge,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/encryptForm.es6")),o(57)),we=o.n(ye),ke=o(387);function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach(function(t){Oe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Re(e,t,r){return t&&Ae(e.prototype,t),r&&Ae(e,r),e}function je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=De(e);if(t){var a=De(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?Pe(e):t}(this,r)}}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe={isCaseSensitive:!1,includeScore:!0,minMatchCharLength:1,shouldSort:!1,ignoreFieldNorm:!0,threshold:.2,ignoreLocation:!0},Me=t("n/d"),Ne=t("Multiple responses"),Be=function(e){je(o,n.a.Component);var r=Le(o);function o(e){var t;return Ce(this,o),(t=r.call(this,e)).state={isPending:!1,overrides:{},selectedQuestion:null,selectedQuestionOverride:null,filterByName:"",filterByValue:""},t.unlisteners=[],c()(Pe(t)),t}return Re(o,[{key:"componentDidMount",value:function(){this.unlisteners.push(_.a.submissions.bulkPatchValues.completed.listen(this.onBulkPatchValuesCompleted),_.a.submissions.bulkPatchValues.failed.listen(this.onBulkPatchValuesFailed)),this.setModalTitleToList()}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"onBulkPatchValuesCompleted",value:function(){this.setState({isPending:!1}),this.props.onModalClose()}},{key:"onBulkPatchValuesFailed",value:function(){this.setState({isPending:!1})}},{key:"setModalTitleToList",value:function(){this.props.onSetModalTitle(t("Displaying multiple submissions (##count## selected of ##total##)").replace("##count##",this.props.selectedSubmissions.length).replace("##total##",this.props.totalSubmissions))}},{key:"setModalTitleToSingleQuestion",value:function(e){this.props.onSetModalTitle(t('Editing "##question##" for ##count## submissions').replace("##question##",e).replace("##count##",this.props.selectedSubmissions.length))}},{key:"onRowOverrideChange",value:function(e,t){e===this.state.selectedQuestion.name&&(void 0===t?this.setState({selectedQuestionOverride:null}):this.setState({selectedQuestionOverride:t}))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var r={},o=Object(M.h)(this.props.asset.content.survey);Object.keys(this.state.overrides).forEach(function(e){r[o[e]]=t.state.overrides[e]}),this.setState({isPending:!0}),_.a.submissions.bulkPatchValues(this.props.asset.uid,this.props.selectedSubmissions,r)}},{key:"onReset",value:function(){this.setState({overrides:{}})}},{key:"onFilterByNameChange",value:function(e){this.setState({filterByName:e})}},{key:"onFilterByValueChange",value:function(e){this.setState({filterByValue:e})}},{key:"selectQuestion",value:function(e){this.setState({selectedQuestion:e,selectedQuestionOverride:this.state.overrides[e.name]}),this.setModalTitleToSingleQuestion(e.label)}},{key:"goBackToList",value:function(){this.setState({selectedQuestion:null,selectedQuestionOverride:null}),this.setModalTitleToList()}},{key:"saveOverride",value:function(){var e=we()(this.state.overrides);null===this.state.selectedQuestionOverride||"string"==typeof this.state.selectedQuestionOverride&&this.state.selectedQuestionOverride.length>=1?e[this.state.selectedQuestion.name]=this.state.selectedQuestionOverride:delete e[this.state.selectedQuestion.name],this.setState({overrides:e}),this.goBackToList()}},{key:"getDisplayData",value:function(){var e=this,t=Object(M.f)(this.props.asset.content.survey),r=Object(M.h)(this.props.asset.content.survey);return t.forEach(function(t){t.selectedData=[];var o=r[t.name];e.props.data.forEach(function(r){e.props.selectedSubmissions.includes(String(r._id))&&t.selectedData.push({sid:r._id,value:r[o]})})}),t}},{key:"renderSupportUrlLink",value:function(){var e,r;return(null===(e=b.a.serverEnvironment)||void 0===e||null===(r=e.state)||void 0===r?void 0:r.support_url)?n.a.createElement("a",{href:b.a.serverEnvironment.state.support_url+"howto_edit_multiple_submissions.html",target:"_blank"},t("in the help article")):null}},{key:"renderRow",value:function(e,r){var o=e;void 0!==e.refIndex&&(o=e.item);var a=[];o.hasRepatParent&&a.push("bulk-edit-row-disabled");var s=g.QUESTION_TYPES[o.type];return n.a.createElement(f.a.SimpleTable__row,{key:r,m:a},n.a.createElement(f.a.SimpleTable__cell,null,n.a.createElement("i",{title:s.label,className:["fa",s.faIcon].join(" ")})),n.a.createElement(f.a.SimpleTable__cell,null,o.parents.length>0&&n.a.createElement("small",null,o.parents.join(" / ")+" /"),n.a.createElement("div",null,o.isRequired&&n.a.createElement("strong",{title:t("Required")},"* "),o.label)),n.a.createElement(f.a.SimpleTable__cell,null,o.hasRepatParent&&n.a.createElement("em",null,t("Editing responses from repeat group questions is not possible yet.")),!o.hasRepatParent&&this.renderRowDataValues(o.name,o.selectedData)),n.a.createElement(f.a.SimpleTable__cell,null,n.a.createElement(f.a.KoboTextButton,{m:"blue",onClick:this.selectQuestion.bind(this,o)},t("Edit"))))}},{key:"renderRowDataValues",value:function(e,t){var r=this.state.overrides[e];if(void 0!==r)return null===r?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"blue-response-dot"})," ",Me):n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"blue-response-dot"})," ",r);var o=new Set;t.forEach(function(e){e.value?o.add(e.value):o.add(Me)});var a=Array.from(o);return 1===a.length?a[0]:n.a.createElement("em",null,Ne)}},{key:"renderList",value:function(){var e=this.getDisplayData();return""!==this.state.filterByName&&(e=new ke.a(e,Te(Te({},Fe),{},{keys:["label"]})).search(this.state.filterByName)),""!==this.state.filterByValue&&(e=new ke.a(e,Te(Te({},Fe),{},{keys:["selectedData.value"]})).search(this.state.filterByValue)),n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a.FormModal__item,{m:"wrapper"},t("You are currently seeing multiple submissions at once. You can select specific questions to edit or remove responses in bulk. If you want to edit only one submission, click on the desired submission on the navigation menu on the top-left corner of this table, or go back to the general table view. You can learn more about bulk actions")," ",this.renderSupportUrlLink(),"."),n.a.createElement(f.a.FormModal__item,{m:"wrapper"},n.a.createElement("i",{className:"blue-response-dot"}),t("Updated responses")),n.a.createElement(f.a.SimpleTable,{m:"bulk-edit-list"},n.a.createElement(f.a.SimpleTable__header,null,n.a.createElement(f.a.SimpleTable__row,null,n.a.createElement(f.a.SimpleTable__cell,null,t("Type")),n.a.createElement(f.a.SimpleTable__cell,null,t("Question")),n.a.createElement(f.a.SimpleTable__cell,null,t("Response")),n.a.createElement(f.a.SimpleTable__cell,null,t("Action"))),n.a.createElement(f.a.SimpleTable__row,null,n.a.createElement(f.a.SimpleTable__cell,null),n.a.createElement(f.a.SimpleTable__cell,null,n.a.createElement(L.a,{customModifiers:"on-white",value:this.state.filterByName,onChange:this.onFilterByNameChange,placeholder:t("Type to filter")})),n.a.createElement(f.a.SimpleTable__cell,null,n.a.createElement(L.a,{customModifiers:"on-white",value:this.state.filterByValue,onChange:this.onFilterByValueChange,placeholder:t("Type to filter")})),n.a.createElement(f.a.SimpleTable__cell,null))),n.a.createElement(f.a.SimpleTable__body,null,e.map(this.renderRow))),n.a.createElement(f.a.Modal__footer,null,n.a.createElement(f.a.KoboButton,{m:"red",type:"button",onClick:this.onReset,disabled:this.state.isPending||0===Object.keys(this.state.overrides).length},t("Discard Changes")),n.a.createElement(f.a.KoboButton,{m:"blue",type:"submit",onClick:this.onSubmit,disabled:this.state.isPending||0===Object.keys(this.state.overrides).length},t("Confirm & close"))))}},{key:"renderSelectedQuestion",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a.FormModal__item,{m:"wrapper"},t("You are about to edit responses for one or multiple submissions at once. Use the XML syntax in the text box below. You can also select one of the existing responses from the table of responses. Learn more about how to edit specific responses for one or multiple submissions")," ",this.renderSupportUrlLink(),"."),n.a.createElement(f.a.FormModal__item,{m:"wrapper"},n.a.createElement(Ie,{question:this.state.selectedQuestion,overrideData:this.state.selectedQuestionOverride,originalData:this.state.selectedQuestion.selectedData,onChange:this.onRowOverrideChange})),n.a.createElement(f.a.Modal__footer,null,n.a.createElement(f.a.KoboButton,{className:"footer-back-button",m:"whitegray",type:"button",onClick:this.goBackToList},t("Back")),n.a.createElement(f.a.KoboButton,{m:"blue",type:"button",onClick:this.saveOverride},t("Save"))))}},{key:"render",value:function(){return n.a.createElement(f.a.FormModal__form,{m:"bulk-edit-submissions"},null===this.state.selectedQuestion&&this.renderList(),null!==this.state.selectedQuestion&&this.renderSelectedQuestion())}}]),o}(),Ie=function(e){je(o,n.a.Component);var r=Le(o);function o(e){var t;return Ce(this,o),t=r.call(this,e),c()(Pe(t)),t}return Re(o,[{key:"onChange",value:function(e,t){t&&t.preventDefault(),this.props.onChange(this.props.question.name,e)}},{key:"getPlaceholderValue",value:function(){var e=t("Type new response for selected submissions");return null===this.props.overrideData&&(e=Me),e}},{key:"getUniqueResponses",value:function(){var e=new Map;return this.props.originalData.forEach(function(t){e.has(t.value)?e.set(t.value,e.get(t.value)+1):e.set(t.value,1)}),e=new Map(function(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ee(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.entries()).sort(function(e,t){return t[1]-e[1]}))}},{key:"renderResponseRow",value:function(e){var r=e[1],o=e[0],a=o,s=o;void 0===o&&(a=Me,s=null);var i=(r/this.props.originalData.length*100).toFixed(2);return n.a.createElement(f.a.SimpleTable__row,{key:a},n.a.createElement(f.a.SimpleTable__cell,null,a),n.a.createElement(f.a.SimpleTable__cell,null,r),n.a.createElement(f.a.SimpleTable__cell,null,i),n.a.createElement(f.a.SimpleTable__cell,null,n.a.createElement(f.a.KoboTextButton,{m:"blue",onClick:this.onChange.bind(this,s)},t("Select"))))}},{key:"render",value:function(){var e="";"string"==typeof this.props.overrideData&&(e=this.props.overrideData);var r=g.QUESTION_TYPES[this.props.question.type];return n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a.FormView__cell,{m:["columns","columns-top"]},n.a.createElement(f.a.FormView__cell,{m:"column-icon"},n.a.createElement("i",{title:r.label,className:["fa",r.faIcon].join(" ")})),n.a.createElement(f.a.FormView__cell,{m:"column-1"},n.a.createElement("h2",null,this.props.question.label),n.a.createElement(L.a,{customModifiers:["on-white","bulk-edit-response"],type:"text-multiline",value:e,onChange:this.onChange,placeholder:this.getPlaceholderValue()}))),n.a.createElement(f.a.SimpleTable,{m:"bulk-edit-responses"},n.a.createElement(f.a.SimpleTable__header,null,n.a.createElement(f.a.SimpleTable__row,null,n.a.createElement(f.a.SimpleTable__cell,null,t("Response value")),n.a.createElement(f.a.SimpleTable__cell,null,t("Frequency")),n.a.createElement(f.a.SimpleTable__cell,null,t("Percentage")),n.a.createElement(f.a.SimpleTable__cell,null,t("Action")))),n.a.createElement(f.a.SimpleTable__body,null,Array.from(this.getUniqueResponses()).map(this.renderResponseRow))))}}]),o}(),Ue=Be,Ve=Ue,He=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Fe,"FUSE_OPTIONS","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(Me,"EMPTY_VALUE_LABEL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(null,"EMPTY_VALUE","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(Ne,"MULTIPLE_VALUES_LABEL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register("howto_edit_multiple_submissions.html","HELP_ARTICLE_URL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(Be,"BulkEditSubmissionsForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(Ie,"BulkEditRowForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(Ue,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6")),o(115)),ze=o(473),qe=o(309),Ye=o(305),Ge=o(8),$e=o(54);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=Ze(e);if(t){var a=Ze(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?Xe(e):t}(this,r)}}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(s,n.a.Component);var r,o,a=Je(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e),c()(Xe(t)),t}return r=s,(o=[{key:"renderGroup",value:function(e,r){var o=this;return n.a.createElement(f.a.SubmissionDataTable__row,{m:["group","type-".concat(e.type)],key:"".concat(e.name,"__").concat(r)},null!==e.name&&n.a.createElement(f.a.SubmissionDataTable__row,{m:"group-label"},e.label,this.props.showXMLNames&&n.a.createElement(f.a.SubmissionDataTable__XMLName,null,e.name)),e.type===$e.a.get("group_root")&&n.a.createElement(f.a.SubmissionDataTable__row,{m:["columns","column-names"]},n.a.createElement(f.a.SubmissionDataTable__column,{m:"type"},t("Type")),n.a.createElement(f.a.SubmissionDataTable__column,{m:"label"},t("Question")),n.a.createElement(f.a.SubmissionDataTable__column,{m:"data"},t("Response"))),n.a.createElement(f.a.SubmissionDataTable__row,{m:"group-children"},e.children.map(function(e,t){return $e.a.has(e.type)?o.renderGroup(e,t):o.renderResponse(e,t)})))}},{key:"renderResponse",value:function(e,t){return n.a.createElement(f.a.SubmissionDataTable__row,{m:["columns","response","type-".concat(e.type)],key:"".concat(e.name,"__").concat(t)},n.a.createElement(f.a.SubmissionDataTable__column,{m:"type"},Object(M.m)(e.type)),n.a.createElement(f.a.SubmissionDataTable__column,{m:"label"},e.label,this.props.showXMLNames&&n.a.createElement(f.a.SubmissionDataTable__XMLName,null,e.name)),n.a.createElement(f.a.SubmissionDataTable__column,{m:"data"},this.renderResponseData(e.type,e.data,e.listName)))}},{key:"renderResponseData",value:function(e,t,r){var o,a=this;if(null===t)return null;switch(e){case g.QUESTION_TYPES.select_one.id:case g.SCORE_ROW_TYPE:case g.RANK_LEVEL_TYPE:return(o=this.findChoice(r,t))?n.a.createElement(f.a.SubmissionDataTable__value,null,o.label[this.props.translationIndex]||o.name):(console.error('Choice not found for "'.concat(r,'" and "').concat(t,'".')),t);case g.QUESTION_TYPES.select_multiple.id:return n.a.createElement("ul",null,t.split(" ").map(function(e,t){return(o=a.findChoice(r,e))?n.a.createElement("li",{key:t},n.a.createElement(f.a.SubmissionDataTable__value,null,o.label[a.props.translationIndex]||o.name)):(console.error('Choice not found for "'.concat(r,'" and "').concat(e,'".')),e)}));case g.QUESTION_TYPES.date.id:return n.a.createElement(f.a.SubmissionDataTable__value,null,Object(y.formatDate)(t));case g.QUESTION_TYPES.datetime.id:return n.a.createElement(f.a.SubmissionDataTable__value,null,Object(y.formatTimeDate)(t));case g.QUESTION_TYPES.geopoint.id:return this.renderPointData(t);case g.QUESTION_TYPES.image.id:case g.QUESTION_TYPES.audio.id:case g.QUESTION_TYPES.video.id:case g.QUESTION_TYPES.file.id:return this.renderAttachment(e,t);case g.QUESTION_TYPES.geotrace.id:case g.QUESTION_TYPES.geoshape.id:return this.renderMultiplePointsData(t);default:return n.a.createElement(f.a.SubmissionDataTable__value,null,t)}}},{key:"findChoice",value:function(e,t){return this.props.asset.content.choices.find(function(r){return r.name===t&&r.list_name===e})}},{key:"findAttachmentData",value:function(e){return this.props.submissionData._attachments.find(function(t){return t.filename.endsWith("/".concat(e))})}},{key:"renderPointData",value:function(e){var r=e.split(" ");return n.a.createElement("ul",null,n.a.createElement("li",null,t("latitude (x.y °):")+" ",n.a.createElement(f.a.SubmissionDataTable__value,null,r[0])),n.a.createElement("li",null,t("longitude (x.y °):")+" ",n.a.createElement(f.a.SubmissionDataTable__value,null,r[1])),n.a.createElement("li",null,t("altitude (m):")+" ",n.a.createElement(f.a.SubmissionDataTable__value,null,r[2])),n.a.createElement("li",null,t("accuracy (m):")+" ",n.a.createElement(f.a.SubmissionDataTable__value,null,r[3])))}},{key:"renderMultiplePointsData",value:function(e){var t=this;return e.split(";").map(function(e,r){return n.a.createElement(f.a.SubmissionDataTable__row,{m:["columns","point"],key:r},n.a.createElement(f.a.SubmissionDataTable__column,null,"P",n.a.createElement("sub",null,r+1)),n.a.createElement(f.a.SubmissionDataTable__column,null,t.renderPointData(e)))})}},{key:"renderAttachment",value:function(e,t){var r=this.findAttachmentData(t);return e===g.QUESTION_TYPES.image.id?n.a.createElement("a",{href:r.download_url,target:"_blank"},n.a.createElement("img",{src:r.download_small_url})):n.a.createElement("a",{href:r.download_url,target:"_blank"},t)}},{key:"renderMetaResponse",value:function(e,t){return n.a.createElement(f.a.SubmissionDataTable__row,{m:["columns","response","metadata"]},n.a.createElement(f.a.SubmissionDataTable__column,{m:"type"},n.a.createElement("i",{className:"fa fa-cubes"})),n.a.createElement(f.a.SubmissionDataTable__column,{m:"label"},t,this.props.showXMLNames&&n.a.createElement(f.a.SubmissionDataTable__XMLName,null,e)),n.a.createElement(f.a.SubmissionDataTable__column,{m:"data"},this.props.submissionData[e]))}},{key:"render",value:function(){var e=Object($e.c)(this.props.asset.content.survey,this.props.asset.content.choices,this.props.translationIndex,this.props.submissionData);return n.a.createElement(f.a.SubmissionDataTable,null,this.renderGroup(e),this.renderMetaResponse(g.META_QUESTION_TYPES.start,t("start")),this.renderMetaResponse(g.META_QUESTION_TYPES.end,t("end")),this.renderMetaResponse(g.META_QUESTION_TYPES.today,t("today")),this.renderMetaResponse(g.META_QUESTION_TYPES.username,t("username")),this.renderMetaResponse(g.META_QUESTION_TYPES.simserial,t("sim serial")),this.renderMetaResponse(g.META_QUESTION_TYPES.subscriberid,t("subscriber ID")),this.renderMetaResponse(g.META_QUESTION_TYPES.deviceid,t("device ID")),this.renderMetaResponse(g.META_QUESTION_TYPES.phonenumber,t("phone number")),this.renderMetaResponse(g.META_QUESTION_TYPES.audit,t("audit")),this.renderMetaResponse("__version__",t("__version__")),this.renderMetaResponse("_id",t("_id")),this.renderMetaResponse("meta/instanceID",t("instanceID")),this.renderMetaResponse("_submitted_by",t("Submitted by")))}}])&&We(r.prototype,o),s}(),tt=et,rt=tt,ot=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(et,"SubmissionDataTable","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/submissionDataTable.es6"),__REACT_HOT_LOADER__.register(tt,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/submissionDataTable.es6")),o(22));function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=ct(e);if(t){var a=ct(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?lt(e):t}(this,r)}}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(s,n.a.Component);var r,o,a=it(s);function s(e){var r;!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var o=(r=a.call(this,e)).props.asset.content.translations,n=[];return o.length>1&&(n=o.map(function(e){return{value:e,label:e||t("Unnamed language")}})),r.state={submission:{},loading:!0,error:!1,previous:-1,next:-1,sid:e.sid,showBetaFieldsWarning:!1,isEditLoading:!1,isDuplicated:e.isDuplicated,duplicatedSubmission:e.duplicatedSubmission||null,isEditingDuplicate:!1,promptRefresh:!1,translationIndex:0,translationOptions:n,showXMLNames:!1},c()(lt(r)),r}return r=s,(o=[{key:"componentDidMount",value:function(){this.getSubmission(this.props.asset.uid,this.state.sid),this.listenTo(_.a.resources.updateSubmissionValidationStatus.completed,this.refreshSubmissionValidationStatus),this.listenTo(_.a.resources.removeSubmissionValidationStatus.completed,this.refreshSubmissionValidationStatus),this.listenTo(_.a.resources.deleteSubmission.completed,this.onDeletedSubmissionCompleted)}},{key:"refreshSubmissionValidationStatus",value:function(e){e&&e.uid?this.state.submission._validation_status=e:this.state.submission._validation_status={},this.setState({submission:this.state.submission})}},{key:"isSubmissionEditable",value:function(){return this.props.asset.deployment__active&&!this.state.isEditLoading}},{key:"getSubmission",value:function(e,r){var o=this;Ge.a.getSubmission(e,r).done(function(e){var t=-1,a=-1;if(o.props.ids&&r){var n=o.props.ids.findIndex(function(e){return e===parseInt(r)}),s=o.props.tableInfo||!1;if(o.props.ids[n-1]&&(t=o.props.ids[n-1]),o.props.ids[n+1]&&(a=o.props.ids[n+1]),s){var i=s.resultsTotal>(s.currentPage+1)*s.pageSize;n+1===o.props.ids.length&&i&&(a=-2),s.currentPage>0&&-1===t&&(t=-2)}}o.setState({submission:e,loading:!1,next:a,previous:t})}).fail(function(e){if(e.responseText){var a=e.responseText;'{"detail":"Not found."}'===a&&(a=t("The submission could not be found. It may have been deleted. Submission ID: ##id##").replace("##id##",r)),o.setState({error:a,loading:!1})}else e.statusText?o.setState({error:e.statusText,loading:!1}):o.setState({error:t("Error: could not load data."),loading:!1})})}},{key:"componentWillReceiveProps",value:function(e){this.setState({sid:e.sid,promptRefresh:!1}),this.getSubmission(e.asset.uid,e.sid)}},{key:"deleteSubmission",value:function(){var e=this,r=m.a.dialog("confirm"),o={title:t("Delete submission?"),message:"".concat(t("Are you sure you want to delete this submission?")," ").concat(t("This action cannot be undone"),"."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){_.a.resources.deleteSubmission(e.props.asset.uid,e.props.sid)},oncancel:function(){r.destroy()}};r.set(o).show()}},{key:"onDeletedSubmissionCompleted",value:function(){b.a.pageState.hideModal()}},{key:"launchEditSubmission",value:function(){var e=this;this.setState({promptRefresh:!0,isEditLoading:!0,isEditingDuplicate:!0}),Ye.a.editSubmission(this.props.asset.uid,this.state.sid).then(function(){e.setState({isEditLoading:!1})},function(){e.setState({isEditLoading:!1})})}},{key:"duplicateSubmission",value:function(){b.a.pageState.hideModal(),_.a.resources.duplicateSubmission(this.props.asset.uid,this.state.sid,this.state.submission)}},{key:"triggerRefresh",value:function(){this.getSubmission(this.props.asset.uid,this.props.sid),this.setState({promptRefresh:!1}),_.a.resources.refreshTableSubmissions()}},{key:"switchSubmission",value:function(e){this.setState({loading:!0}),b.a.pageState.showModal({type:g.MODAL_TYPES.SUBMISSION,sid:e,asset:this.props.asset,ids:this.props.ids,tableInfo:this.props.tableInfo||!1})}},{key:"prevTablePage",value:function(){this.setState({loading:!0}),b.a.pageState.showModal({type:g.MODAL_TYPES.SUBMISSION,sid:!1,page:"prev"})}},{key:"nextTablePage",value:function(){this.setState({loading:!0}),b.a.pageState.showModal({type:g.MODAL_TYPES.SUBMISSION,sid:!1,page:"next"})}},{key:"onShowXMLNamesChange",value:function(e){this.setState({showXMLNames:e})}},{key:"validationStatusChange",value:function(e){null===e.value?_.a.resources.removeSubmissionValidationStatus(this.props.asset.uid,this.state.sid):_.a.resources.updateSubmissionValidationStatus(this.props.asset.uid,this.state.sid,{"validation_status.uid":e.value})}},{key:"languageChange",value:function(e){var t=this.state.translationOptions.findIndex(function(t){return t===e});this.setState({translationIndex:t||0})}},{key:"render",value:function(){if(this.state.loading)return n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")));if(this.state.error)return n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,this.state.error));var e=this.state.submission,r=this.state.translationOptions;return this.state.isDuplicated&&!this.state.isEditingDuplicate?n.a.createElement(f.a.FormModal,null,n.a.createElement("h1",{className:"submission-duplicate__header"},t("Duplicate created")),n.a.createElement("p",{className:"submission-duplicate__text"},t("A duplicate of the submission record was successfully created. You can view the new instance below and make changes using the action buttons below."),n.a.createElement("br",null),n.a.createElement("br",null),t("Source submission uuid: "),n.a.createElement("code",null,this.state.duplicatedSubmission._uuid)),n.a.createElement(f.a.FormModal__group,null,n.a.createElement("div",{className:"submission-duplicate__actions"},this.userCan("change_submissions",this.props.asset)&&n.a.createElement("a",{onClick:this.launchEditSubmission.bind(this),className:"kobo-button kobo-button--blue",disabled:!this.isSubmissionEditable()},this.state.isEditLoading&&t("Loading…"),!this.state.isEditLoading&&t("Edit")),this.userCan("delete_submissions",this.props.asset)&&n.a.createElement("a",{onClick:this.deleteSubmission,className:"kobo-button kobo-button--red submission-duplicate__button","data-tip":t("Discard duplicated submission")},t("Discard")))),this.props.asset.deployment__active&&n.a.createElement(f.a.FormModal__group,null,r.length>1&&n.a.createElement("div",{className:"switch--label-language"},n.a.createElement("label",null,t("Language:")),n.a.createElement(A.a,{isClearable:!1,value:r[this.state.translationIndex],options:r,onChange:this.languageChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"})),n.a.createElement("div",{className:"switch--validation-status"},n.a.createElement("label",null,t("Validation status:")),n.a.createElement(A.a,{isDisabled:!this.userCan("validate_submissions",this.props.asset),isClearable:!1,value:!(!e._validation_status||!e._validation_status.uid)&&e._validation_status,options:g.VALIDATION_STATUSES_LIST,onChange:this.validationStatusChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}))),n.a.createElement(rt,{asset:this.props.asset,submissionData:this.state.submission,translationIndex:this.state.translationIndex,showXMLNames:this.state.showXMLNames})):!this.state.isDuplicated||this.state.isEditingDuplicate?n.a.createElement(f.a.FormModal,null,this.state.promptRefresh&&n.a.createElement("div",{className:"submission--warning"},n.a.createElement("p",null,t("Click on the button below to load the most recent data for this submission. ")),n.a.createElement("a",{onClick:this.triggerRefresh,className:"kobo-button kobo-button--blue"},t("Refresh submission"))),this.props.asset.deployment__active&&n.a.createElement(f.a.FormModal__group,null,r.length>1&&n.a.createElement("div",{className:"switch--label-language"},n.a.createElement("label",null,t("Language:")),n.a.createElement(A.a,{isClearable:!1,value:r[this.state.translationIndex],options:r,onChange:this.languageChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"})),n.a.createElement("div",{className:"switch--validation-status"},n.a.createElement("label",null,t("Validation status:")),n.a.createElement(A.a,{isDisabled:!this.userCan("validate_submissions",this.props.asset),isClearable:!1,value:!(!e._validation_status||!e._validation_status.uid)&&e._validation_status,options:g.VALIDATION_STATUSES_LIST,onChange:this.validationStatusChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}))),n.a.createElement(f.a.FormModal__group,null,this.state.isEditingDuplicate&&n.a.createElement("div",{className:"preserveFlexCSS"}),!this.state.isEditingDuplicate&&n.a.createElement("div",{className:"submission-pager"},this.state.previous>-1&&n.a.createElement("a",{onClick:this.switchSubmission.bind(this,this.state.previous),className:"mdl-button mdl-button--colored"},n.a.createElement("i",{className:"k-icon k-icon-prev"}),t("Previous")),-2===this.state.previous&&n.a.createElement("a",{onClick:this.prevTablePage,className:"mdl-button mdl-button--colored"},n.a.createElement("i",{className:"k-icon k-icon-prev"}),t("Previous")),this.state.next>-1&&n.a.createElement("a",{onClick:this.switchSubmission.bind(this,this.state.next),className:"mdl-button mdl-button--colored"},t("Next"),n.a.createElement("i",{className:"k-icon-next"})),-2===this.state.next&&n.a.createElement("a",{onClick:this.nextTablePage,className:"mdl-button mdl-button--colored"},t("Next"),n.a.createElement("i",{className:"k-icon-next"}))),n.a.createElement("div",{className:"submission-actions"},n.a.createElement(ot.a,{checked:this.state.showXMLNames,onChange:this.onShowXMLNamesChange,label:t("Display XML names")}),this.userCan("change_submissions",this.props.asset)&&n.a.createElement("a",{onClick:this.launchEditSubmission.bind(this),className:"kobo-button kobo-button--blue submission-duplicate__button",disabled:!this.isSubmissionEditable()},this.state.isEditLoading&&t("Loading…"),!this.state.isEditLoading&&t("Edit")),this.userCan("change_submissions",this.props.asset)&&n.a.createElement("a",{onClick:this.duplicateSubmission.bind(this),className:"kobo-button kobo-button--blue submission-duplicate__button",disabled:!this.isSubmissionEditable()},t("Duplicate")),n.a.createElement(f.a.Button,{m:"icon",className:"report-button__print",onClick:y.launchPrinting,"data-tip":t("Print")},n.a.createElement("i",{className:"k-icon-print"})),this.userCan("delete_submissions",this.props.asset)&&n.a.createElement("a",{onClick:this.deleteSubmission,className:"mdl-button mdl-button--icon mdl-button--colored mdl-button--red right-tooltip","data-tip":t("Delete submission")},n.a.createElement("i",{className:"k-icon-trash"})))),n.a.createElement(rt,{asset:this.props.asset,submissionData:this.state.submission,translationIndex:this.state.translationIndex,showXMLNames:this.state.showXMLNames})):void 0}}])&&nt(r.prototype,o),s}();i()(ut.prototype,p.a.ListenerMixin),i()(ut.prototype,N.a.permissions);var pt=ut,dt=pt,mt=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register('{"detail":"Not found."}',"DETAIL_NOT_FOUND","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/submission.es6"),__REACT_HOT_LOADER__.register(ut,"Submission","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/submission.es6"),__REACT_HOT_LOADER__.register(pt,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/submission.es6")),o(15)),_t=o(114),ft=o(147);function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=wt(e);if(t){var a=wt(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?yt(e):t}(this,r)}}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(s,n.a.Component);var r,o,a=vt(s);function s(e){var t;!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={selectedColumns:[],frozenColumn:!1,showGroupName:!0,showHXLTags:!1,translationIndex:0};var r=e.asset.settings;if(r["data-table"]){if(null!==r["data-table"]["selected-columns"]&&(t.state.selectedColumns=r["data-table"]["selected-columns"]),void 0!==r["data-table"]["frozen-column"]){var o=t.listColumns();t.state.frozenColumn=mt.default.find(o,function(e){return e.value===r["data-table"]["frozen-column"]})}void 0!==r["data-table"]["show-group-name"]&&(t.state.showGroupName=r["data-table"]["show-group-name"]),void 0!==r["data-table"]["translation-index"]&&(t.state.translationIndex=r["data-table"]["translation-index"]),void 0!==r["data-table"]["show-hxl-tags"]&&(t.state.showHXLTags=r["data-table"]["show-hxl-tags"])}return c()(yt(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(_.a.table.updateSettings.failed,this.settingsUpdateFailed)}},{key:"saveTableColumns",value:function(){var e=this.state,t=this.props.asset.settings;if(t["data-table"]||(t["data-table"]={}),this.userCan("change_asset",this.props.asset))t["data-table"]["selected-columns"]=e.selectedColumns.length>0?e.selectedColumns:null,t["data-table"]["frozen-column"]=e.frozenColumn.value,t["data-table"]["show-group-name"]=e.showGroupName,t["data-table"]["translation-index"]=e.translationIndex,t["data-table"]["show-hxl-tags"]=e.showHXLTags,_.a.table.updateSettings(this.props.asset.uid,t);else{console.log("just update the state, since user cannot save settings");var r={showGroupName:e.showGroupName,translationIndex:e.translationIndex};this.props.overrideLabelsAndGroups(r)}}},{key:"toggleCheckboxChange",value:function(e){var t=this.state.selectedColumns,r=t.indexOf(e);-1!==r?t.splice(r,1):t.push(e),this.setState({selectedColumns:t})}},{key:"setFrozenColumn",value:function(e){this.setState({frozenColumn:e||!1})}},{key:"updateGroupHeaderDisplay",value:function(e){this.setState({showGroupName:e})}},{key:"onHXLTagsChange",value:function(e){this.setState({showHXLTags:e})}},{key:"onLabelChange",value:function(e,t){this.setState({translationIndex:parseInt(t)})}},{key:"settingsUpdateFailed",value:function(){Object(y.notify)(t("There was an error, table settings could not be saved."))}},{key:"resetTableSettings",value:function(){var e=this.props.asset.settings;e["data-table"]&&delete e["data-table"],_.a.table.updateSettings(this.props.asset.uid,e)}},{key:"listColumns",value:function(){var e=this,r={showGroupName:this.state.showGroupName,translationIndex:this.state.translationIndex},o=this.props.columns.reduce(function(t,o){if(o.id&&o.id!==ft.a&&"__SubmissionCheckbox"!==o.id){var a=[];o.id.includes("/")&&(a=o.id.split("/")),t.push({value:o.id,label:e.props.getColumnLabel(o.id,o.question,a,r)})}return t},[]);return o.unshift({value:ft.a,label:t("Submission links")}),o}},{key:"getDisplayedLabelOptions",value:function(){var e=[];return e.push({value:-1,label:t("XML Values")}),this.props.asset.content.translations.map(function(r,o){var a=t("Labels");r&&(a+=" - ".concat(r)),e.push({value:o,label:a})}),e}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"tableColumn-modal"},n.a.createElement(f.a.FormModal__item,{m:"translation-radios"},n.a.createElement(_t.a,{title:t("Display labels or XML values?"),options:this.getDisplayedLabelOptions(),selected:this.state.translationIndex,onChange:this.onLabelChange})),n.a.createElement(f.a.FormModal__item,{m:"group-headings"},n.a.createElement(ot.a,{checked:this.state.showGroupName,onChange:this.updateGroupHeaderDisplay,label:t("Show group names in table headers")})),n.a.createElement(f.a.FormModal__item,null,n.a.createElement(ot.a,{checked:this.state.showHXLTags,onChange:this.onHXLTagsChange,label:t("Show HXL tags")})),this.userCan("change_asset",this.props.asset)&&n.a.createElement(f.a.FormModal__item,{m:"advanced-table-options"},n.a.createElement(f.a.FormView__cell,{m:"note"},t('Note: Only users with the "edit form" permission can see the following two options. If other users can view submissions on this project, their table view will be restricted by the choices made below.')),n.a.createElement(f.a.FormModal__item,null,n.a.createElement(f.a.FormView__cell,{m:"label"},t("Set a frozen first column in the table.")),n.a.createElement(A.a,{value:this.state.frozenColumn,options:this.listColumns(),onChange:this.setFrozenColumn,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isClearable:!0})),n.a.createElement(f.a.FormModal__item,null,n.a.createElement(f.a.FormView__cell,{m:"label"},t("Restrict the visible columns in the table display"),n.a.createElement("span",null,t("All columns are visible by default"))),n.a.createElement("ul",null,this.listColumns().map(function(t){return n.a.createElement("li",{key:t.value},n.a.createElement(ot.a,{checked:e.state.selectedColumns.includes(t.value),onChange:e.toggleCheckboxChange.bind(this,t.value),label:t.label}))})))),n.a.createElement(f.a.Modal__footer,null,this.userCan("change_asset",this.props.asset)&&n.a.createElement(f.a.KoboButton,{m:"whitegray",onClick:this.resetTableSettings},t("Reset")),n.a.createElement(f.a.KoboButton,{m:"blue",onClick:this.saveTableColumns},t("Save"))))}}])&&bt(r.prototype,o),s}();i()(kt.prototype,p.a.ListenerMixin),i()(kt.prototype,N.a.permissions);var Et=kt,xt=Et;function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=Rt(e);if(t){var a=Rt(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?At(e):t}(this,r)}}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(kt,"TableColumnFilter","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/tableColumnFilter.es6"),__REACT_HOT_LOADER__.register(Et,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/tableColumnFilter.es6"));var jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(s,n.a.Component);var r,o,a=Ct(s);function s(e){var t;if(function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={name:"",nameError:null,code:"",codeError:null},t.props.langString){var r=Object(y.getLangAsObject)(t.props.langString);t.state=r?{name:r.name||"",code:r.code||""}:{name:t.props.langString,code:""}}return c()(At(t)),t}return r=s,(o=[{key:"isLanguageNameValid",value:function(){var e=this;if(this.props.existingLanguages){var t=!0;return this.props.existingLanguages.forEach(function(r){if(e.props.langString&&r===e.props.langString);else if(null!==r){var o=Object(y.getLangAsObject)(r);o&&o.name===e.state.name&&(t=!1)}}),t}return!0}},{key:"isLanguageCodeValid",value:function(){var e=this;if(this.props.existingLanguages){var t=!0;return this.props.existingLanguages.forEach(function(r){if(e.props.langString&&r===e.props.langString);else if(null!==r){var o=Object(y.getLangAsObject)(r);o&&o.code===e.state.code&&(t=!1)}}),t}return!0}},{key:"onSubmit",value:function(e){e.preventDefault(),e.currentTarget.disabled=!0;var r=this.isLanguageNameValid();r?this.setState({nameError:null}):(this.setState({nameError:t("Name must be unique!")}),e.currentTarget.disabled=!1);var o=this.isLanguageCodeValid();if(o?this.setState({codeError:null}):(this.setState({codeError:t("Code must be unique!")}),e.currentTarget.disabled=!1),r&&o){var a=this.props.isDefault?0:-1;void 0!==this.props.langIndex&&(a=this.props.langIndex),this.props.onLanguageChange({name:this.state.name,code:this.state.code},a)}}},{key:"onNameChange",value:function(e){this.setState({name:Object(y.toTitleCase)(e.trim().toLowerCase())})}},{key:"onCodeChange",value:function(e){this.setState({code:e.trim().toLowerCase()})}},{key:"render",value:function(){var e=0===this.state.name.length||0===this.state.code.length;return n.a.createElement(f.a.FormView__form,{m:"add-language-fields"},n.a.createElement(f.a.FormView__cell,{m:"lang-name"},n.a.createElement(f.a.FormModal__item,null,n.a.createElement("label",null,this.props.isDefault?t("Default language name"):t("Language name")),n.a.createElement(L.a,{value:this.state.name,onChange:this.onNameChange,errors:this.state.nameError}))),n.a.createElement(f.a.FormView__cell,{m:"lang-code"},n.a.createElement(f.a.FormModal__item,null,n.a.createElement("label",null,this.props.isDefault?t("Default language code"):t("Language code")),n.a.createElement(L.a,{value:this.state.code,onChange:this.onCodeChange,errors:this.state.codeError}))),n.a.createElement(f.a.FormView__cell,{m:"submit-button"},n.a.createElement(f.a.KoboButton,{m:"blue",onClick:this.onSubmit,type:"submit",disabled:e},void 0!==this.props.langIndex?t("Update"):this.props.isDefault?t("Set"):t("Add"))))}}])&&Tt(r.prototype,o),s}(),Lt=jt,Pt=Lt;function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=It(e);if(t){var a=It(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==Dt(t)&&"function"!=typeof t?Bt(e):t}(this,r)}}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(jt,"LanguageForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/languageForm.es6"),__REACT_HOT_LOADER__.register(Lt,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/languageForm.es6"));var Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(s,n.a.Component);var r,o,a=Nt(s);function s(e){var t;!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e);var r=null;return e.asset&&e.asset.content&&(r=e.asset.content.translations),t.state={assetUid:e.assetUid,asset:e.asset,translations:r,showAddLanguageForm:!1,isUpdatingDefaultLanguage:!1,renameLanguageIndex:-1},c()(Bt(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(b.a.asset,this.onAssetsChange),this.state.asset&&!this.state.asset.content&&(b.a.allAssets.whenLoaded(this.props.assetUid,this.onAssetChange),_.a.resources.loadAsset({id:this.state.asset.uid})),!this.state.asset&&this.state.assetUid&&(b.a.asset.data[this.state.assetUid]?this.onAssetChange(b.a.asset.data[this.state.assetUid]):b.a.allAssets.whenLoaded(this.props.assetUid,this.onAssetChange))}},{key:"onAssetChange",value:function(e){this.setState({asset:e,translations:e.content.translations||[],showAddLanguageForm:!1,isUpdatingDefaultLanguage:!1,renameLanguageIndex:-1}),b.a.pageState.showModal({type:g.MODAL_TYPES.FORM_LANGUAGES,asset:e})}},{key:"onAssetsChange",value:function(e){var t;this.state.asset?t=this.state.asset.uid:this.state.assetUid&&(t=this.state.assetUid),this.onAssetChange(e[t])}},{key:"showAddLanguageForm",value:function(){this.setState({showAddLanguageForm:!0})}},{key:"hideAddLanguageForm",value:function(){this.setState({showAddLanguageForm:!1})}},{key:"toggleRenameLanguageForm",value:function(e){var t=parseInt(e.currentTarget.dataset.index);this.state.renameLanguageIndex===t?this.setState({renameLanguageIndex:-1}):this.setState({renameLanguageIndex:t})}},{key:"launchTranslationTableModal",value:function(e){var t=e.currentTarget.dataset.index,r=e.currentTarget.dataset.string;b.a.pageState.switchModal({type:g.MODAL_TYPES.FORM_TRANSLATIONS_TABLE,asset:this.state.asset,langString:r,langIndex:t})}},{key:"onLanguageChange",value:function(e,t){var r=this.state.asset.content,o=Object(y.getLangString)(e);t>-1?r.translations[t]=o:(r.translations.push(o),r=this.prepareTranslations(r)),0===t&&(r.settings.default_language=o),this.updateAsset(r)}},{key:"canAddLanguages",value:function(){return!(1===this.state.translations.length&&null===this.state.translations[0])}},{key:"getAllLanguages",value:function(){return this.state.translations}},{key:"deleteLanguage",value:function(e){var r=this,o=e.currentTarget.dataset.index,a=this.deleteTranslations(this.state.asset.content,o);if(a){a.translations.splice(o,1);var n=m.a.dialog("confirm"),s={title:t("Delete language?"),message:t("Are you sure you want to delete this language? This action is not reversible."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){r.updateAsset(a),n.destroy()},oncancel:function(){n.destroy()}};n.set(s).show()}else Object(y.notify)(t("Translation index mismatch. Cannot delete language."),"error")}},{key:"prepareTranslations",value:function(e){for(var t=e.translated,r=e.translations.length,o=e.survey,a=e.choices,n=0,s=o.length;n<s;n++)for(var i=o[n],l=0,c=t.length;l<c;l++){var u=t[l];i[u]&&i[u].length<r&&i[u].push(null)}if(e.choices&&e.choices.length)for(var p=0,d=a.length;p<d;p++)a[p].label.length<r&&a[p].label.push(null);return e}},{key:"deleteTranslations",value:function(e,t){for(var r=e.translated,o=e.translations.length,a=e.survey,n=e.choices,s=0,i=a.length;s<i;s++)for(var l=a[s],c=0,u=r.length;c<u;c++){var p=r[c];if(l[p]){if(l[p].length!==o)return console.error("Translations index mismatch"),!1;l[p].splice(t,1)}}if(e.choices&&e.choices.length)for(var d=0,m=n.length;d<m;d++)if(n[d].label){if(n[d].label.length!==o)return console.error("Translations index mismatch"),!1;n[d].label.splice(t,1)}return e}},{key:"changeDefaultLanguage",value:function(e){var r=this,o=e.currentTarget.dataset.index,a=this.state.translations[o],n=m.a.dialog("confirm"),s={title:t("Change default language?"),message:t("Are you sure you would like to set ##lang## as the default language for this form?").replace("##lang##",a),labels:{ok:t("Confirm"),cancel:t("Cancel")},onok:function(){r.setState({isUpdatingDefaultLanguage:!0});var e=r.state.asset.content;e.settings.default_language=a,r.updateAsset(e),n.destroy()},oncancel:function(){n.destroy()}};n.set(s).show()}},{key:"updateAsset",value:function(e){var t=this;_.a.resources.updateAsset(this.state.asset.uid,{content:JSON.stringify(e)},{onFailed:function(){_.a.resources.loadAsset({id:t.state.asset.uid}),m.a.error("failed to update translations")}})}},{key:"renderEmptyMessage",value:function(){return n.a.createElement(f.a.FormModal,{m:"translation-settings"},n.a.createElement(f.a.FormModal__item,null,n.a.createElement(f.a.FormView__cell,null,t("There is nothing to translate in this form."))))}},{key:"renderLoadingMessage",value:function(){return n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")))}},{key:"renderUndefinedDefaultSettings",value:function(){return n.a.createElement(f.a.FormModal,{m:"translation-settings"},n.a.createElement(f.a.FormModal__item,null,n.a.createElement(f.a.FormView__cell,{m:"translation-note"},n.a.createElement("p",null,t("Here you can add more languages to your project, and translate the strings in each of them.")),n.a.createElement("p",null,t("For the language code field, we suggest using the"),n.a.createElement("a",{target:"_blank",href:"https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry"}," "+t("official language code")+" "),t('(e.g. "English (en)" or "Rohingya (rhg)").'),b.a.serverEnvironment&&b.a.serverEnvironment.state.support_url&&n.a.createElement("a",{target:"_blank",href:b.a.serverEnvironment.state.support_url+"language_dashboard.html"}," "+t("Read more.")))),n.a.createElement(f.a.FormView__cell,{m:"translation"},n.a.createElement("p",null,n.a.createElement("strong",null,t("Please name your default language before adding languages and translations.")))),n.a.createElement(f.a.FormView__cell,{m:"update-language-form"},n.a.createElement(Pt,{onLanguageChange:this.onLanguageChange,existingLanguages:this.getAllLanguages(),isDefault:!0}))))}},{key:"renderTranslationsSettings",value:function(e){var r=this;return n.a.createElement(f.a.FormModal,{m:"translation-settings"},n.a.createElement(f.a.FormModal__item,null,n.a.createElement(f.a.FormView__cell,{m:"label"},t("Current languages")),null==e[0]&&n.a.createElement(f.a.FormView__cell,{m:["warning","translation-modal-warning"]},n.a.createElement("i",{className:"k-icon-alert"}),n.a.createElement("p",null,t("You have named translations in your form but the default translation is unnamed. Please specifiy a default translation or make an existing one default."))),e.map(function(e,o){return n.a.createElement(n.a.Fragment,{key:"lang-".concat(o)},n.a.createElement(f.a.FormView__cell,{m:"translation"},n.a.createElement(f.a.FormView__cell,{m:"translation-name"},e,0===o&&n.a.createElement(f.a.FormView__label,{m:"default-language"},t("default")),0!==o&&n.a.createElement(f.a.FormView__iconButton,{"data-index":o,onClick:r.changeDefaultLanguage,disabled:r.state.isUpdatingDefaultLanguage,"data-tip":t("Make default")},n.a.createElement("i",{className:"k-icon-language-default"}))),n.a.createElement(f.a.FormView__cell,{m:"translation-actions"},n.a.createElement(f.a.FormView__iconButton,{"data-index":o,onClick:r.toggleRenameLanguageForm,disabled:r.state.isUpdatingDefaultLanguage,"data-tip":t("Edit language"),className:"right-tooltip"},r.state.renameLanguageIndex===o&&n.a.createElement("i",{className:"k-icon-close"}),r.state.renameLanguageIndex!==o&&n.a.createElement("i",{className:"k-icon-edit"})),n.a.createElement(f.a.FormView__iconButton,{"data-index":o,"data-string":r.state.translations[o],onClick:r.launchTranslationTableModal,disabled:r.state.isUpdatingDefaultLanguage,"data-tip":t("Update translations"),className:"right-tooltip"},n.a.createElement("i",{className:"k-icon-language-settings"})),0!==o&&n.a.createElement(f.a.FormView__iconButton,{"data-index":o,onClick:r.deleteLanguage,disabled:r.state.isUpdatingDefaultLanguage,"data-tip":t("Delete language"),className:"right-tooltip"},n.a.createElement("i",{className:"k-icon-trash"})))),r.state.renameLanguageIndex===o&&n.a.createElement(f.a.FormView__cell,{m:"update-language-form"},n.a.createElement(Pt,{langString:e,langIndex:o,onLanguageChange:r.onLanguageChange,existingLanguages:r.getAllLanguages(e)})))}),!this.state.showAddLanguageForm&&n.a.createElement(f.a.FormView__cell,{m:"add-language"},n.a.createElement(f.a.KoboButton,{m:"blue",onClick:this.showAddLanguageForm,disabled:!this.canAddLanguages()},t("Add language"))),this.state.showAddLanguageForm&&n.a.createElement(f.a.FormView__cell,{m:"add-language-form"},n.a.createElement(f.a.FormView__link,{m:"close",onClick:this.hideAddLanguageForm},n.a.createElement("i",{className:"k-icon-close"})),n.a.createElement(f.a.FormView__cell,{m:"label"},t("Add a new language")),n.a.createElement(Pt,{onLanguageChange:this.onLanguageChange,existingLanguages:this.getAllLanguages()}))))}},{key:"render",value:function(){if(!this.state.asset||!this.state.asset.content||null===this.state.translations)return this.renderLoadingMessage();var e=this.state.translations;return 0===e.length?this.renderEmptyMessage():1==e.length&&null===e[0]?this.renderUndefinedDefaultSettings():this.renderTranslationsSettings(e)}}])&&Ft(r.prototype,o),s}();i()(Ut.prototype,p.a.ListenerMixin);var Vt=Ut,Ht=Vt,zt=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("language_dashboard.html","LANGUAGE_SUPPORT_URL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/translationSettings.es6"),__REACT_HOT_LOADER__.register(Ut,"TranslationSettings","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/translationSettings.es6"),__REACT_HOT_LOADER__.register(Vt,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/translationSettings.es6")),o(308));function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Gt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=Kt(e);if(t){var a=Kt(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==qt(t)&&"function"!=typeof t?Wt(e):t}(this,r)}}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jt={DEFAULT:t("Save Changes"),UNSAVED:t("* Save Changes"),PENDING:t("Saving…")},Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(s,n.a.Component);var r,o,a=Qt(s);function s(e){var r;!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(r=a.call(this,e)).state={saveChangesButtonText:Jt.DEFAULT,isSaveChangesButtonPending:!1,tableData:[],showLanguageForm:!1,langString:e.langString},b.a.translations.setTranslationTableUnsaved(!1);var o=e.asset.content,i=o.translated,l=o.survey,c=o.choices,u=o.translations,p=e.langIndex,d=0==p?t("updated text"):t("translation");return l.forEach(function(e){i.forEach(function(t){e[t]&&e[t][0]&&r.state.tableData.push({original:e[t][0],value:e[t][p],name:e.name||e.$autoname,itemProp:t,contentProp:"survey"})})}),c&&c.length&&c.forEach(function(e){e.label&&e.label[0]&&r.state.tableData.push({original:e.label[0],value:e.label[p],name:e.name||e.$autovalue,listName:e.list_name,itemProp:"label",contentProp:"choices"})}),r.columns=[{Header:t("Original string"),accessor:"original",minWidth:130,Cell:function(e){return e.original.original}},{Header:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a.FormView__iconButton,{onClick:r.toggleRenameLanguageForm.bind(Wt(r)),className:"right-tooltip form-view__icon-button-edit"},r.state.showLanguageForm&&n.a.createElement("i",{className:"k-icon-close"}),!r.state.showLanguageForm&&n.a.createElement("i",{className:"k-icon-edit"})),"".concat(u[p]," ").concat(d))},accessor:"translation",className:"translation",Cell:function(e){return n.a.createElement(D.a,{onChange:function(t){var o=function(e){return function(e){if(Array.isArray(e))return Yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.state.tableData);o[e.index].value=t.target.value,r.setState({data:o}),r.markFormUnsaved()},value:r.state.tableData[e.index].value||""})}}],r}return r=s,(o=[{key:"markFormUnsaved",value:function(){this.setState({saveChangesButtonText:Jt.UNSAVED,isSaveChangesButtonPending:!1}),b.a.translations.setTranslationTableUnsaved(!0)}},{key:"markFormPending",value:function(){this.setState({saveChangesButtonText:Jt.PENDING,isSaveChangesButtonPending:!0}),b.a.translations.setTranslationTableUnsaved(!0)}},{key:"markFormIdle",value:function(){this.setState({saveChangesButtonText:Jt.DEFAULT,isSaveChangesButtonPending:!1}),b.a.translations.setTranslationTableUnsaved(!1)}},{key:"toggleRenameLanguageForm",value:function(e){e.stopPropagation(),this.setState({showLanguageForm:!this.state.showLanguageForm})}},{key:"saveChanges",value:function(){for(var e=this.props.asset.content,t=this.state.tableData,r=this.props.langIndex,o=0,a=t.length;o<a;o++){var n=e[t[o].contentProp].find(function(e){return(e.name===t[o].name||e.$autoname===t[o].name||e.$autovalue===t[o].name)&&e.list_name===t[o].listName}),s=t[o].itemProp;n[s][r]!==t[o].value&&(n[s][r]=t[o].value)}this.markFormPending(),_.a.resources.updateAsset(this.props.asset.uid,{content:JSON.stringify(e)},{onComplete:this.markFormIdle.bind(this),onFailed:this.markFormUnsaved.bind(this)})}},{key:"onBack",value:function(){if(b.a.translations.state.isTranslationTableUnsaved){var e=m.a.dialog("confirm"),r={title:t("Go back?"),message:t("You will lose all unsaved changes."),labels:{ok:t("Confirm"),cancel:t("Cancel")},onok:this.showManageLanguagesModal.bind(this),oncancel:e.destroy};e.set(r).show()}else this.showManageLanguagesModal()}},{key:"showManageLanguagesModal",value:function(){b.a.pageState.switchModal({type:g.MODAL_TYPES.FORM_LANGUAGES,asset:this.props.asset})}},{key:"onLanguageChange",value:function(e,t){var r=this.props.asset.content,o=Object(y.getLangString)(e);r.translations[t]=o,this.setState({langString:o}),0===t&&(r.settings.default_language=o),this.updateHeader(r)}},{key:"updateHeader",value:function(e){var t=this;_.a.resources.updateAsset(this.props.asset.uid,{content:JSON.stringify(e)},{onFailed:function(){_.a.resources.loadAsset({id:t.props.asset.uid}),m.a.error("failed to update translations")}})}},{key:"getAllLanguages",value:function(){return this.props.asset.content.translations}},{key:"render",value:function(){return n.a.createElement(f.a.FormModal,{m:"translation-table"},this.state.showLanguageForm&&n.a.createElement(f.a.FormModal,null,n.a.createElement(f.a.FormModal__item,null,n.a.createElement(f.a.FormView__cell,{m:"update-language-form"},n.a.createElement(Pt,{langString:this.state.langString,langIndex:this.props.langIndex,onLanguageChange:this.onLanguageChange.bind(this),existingLanguages:this.getAllLanguages(),isDefault:0===this.props.langIndex})))),n.a.createElement("div",{className:"translation-table-container"},n.a.createElement(zt.a,{data:this.state.tableData,columns:this.columns,defaultPageSize:30,showPageSizeOptions:!1,previousText:t("Prev"),nextText:t("Next"),minRows:1,loadingText:n.a.createElement("span",null,n.a.createElement("i",{className:"fa k-spin fa-circle-o-notch"}),t("Loading..."))})),n.a.createElement(f.a.Modal__footer,null,n.a.createElement(f.a.KoboButton,{m:"whitegray",onClick:this.onBack.bind(this)},t("Back")),n.a.createElement(f.a.KoboButton,{m:"blue",onClick:this.saveChanges.bind(this),disabled:this.state.isSaveChangesButtonPending},this.state.saveChangesButtonText)))}}])&&Gt(r.prototype,o),s}(),Zt=Xt,er=Zt;function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(){return(rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function or(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=ir(e);if(t){var a=ir(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==tr(t)&&"function"!=typeof t?sr(e):t}(this,r)}}function sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Jt,"SAVE_BUTTON_TEXT","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/translationTable.es6"),__REACT_HOT_LOADER__.register(Xt,"TranslationTable","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/translationTable.es6"),__REACT_HOT_LOADER__.register(Zt,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/translationTable.es6"));var lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(s,n.a.Component);var r,o,a=nr(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={enketopreviewlink:!1,error:!1,modalClass:!1},c()(sr(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){var e=this.props.params.type;switch(e){case g.MODAL_TYPES.SHARING:this.setModalTitle(t("Sharing Permissions"));break;case g.MODAL_TYPES.UPLOADING_XLS:var r=this.props.params.filename||"";this.setState({title:t("Uploading XLS file"),message:t("Uploading: ")+r});break;case g.MODAL_TYPES.NEW_FORM:break;case g.MODAL_TYPES.LIBRARY_NEW_ITEM:this.setModalTitle(t("Create Library Item"));break;case g.MODAL_TYPES.LIBRARY_TEMPLATE:this.setModalTitle(t("Template details"));break;case g.MODAL_TYPES.LIBRARY_COLLECTION:this.setModalTitle(t("Collection details"));break;case g.MODAL_TYPES.ASSET_TAGS:this.setModalTitle(t("Edit tags"));break;case g.MODAL_TYPES.LIBRARY_UPLOAD:this.setModalTitle(t("Upload file"));break;case g.MODAL_TYPES.ENKETO_PREVIEW:var o=this.props.params.assetid||this.props.params.uid;b.a.allAssets.whenLoaded(o,function(e){_.a.resources.createSnapshot({asset:e.url})}),this.listenTo(b.a.snapshots,this.enketoSnapshotCreation),this.setState({title:t("Form Preview"),modalClass:"modal--large"});break;case g.MODAL_TYPES.SUBMISSION:this.setState({title:this.submissionTitle(this.props),modalClass:"modal--large modal-submission",sid:this.props.params.sid});break;case g.MODAL_TYPES.REST_SERVICES:this.props.params.hookUid?this.setState({title:t("Edit REST Service")}):this.setState({title:t("New REST Service")});break;case g.MODAL_TYPES.REPLACE_PROJECT:break;case g.MODAL_TYPES.TABLE_COLUMNS:this.setModalTitle(t("Table display options"));break;case g.MODAL_TYPES.FORM_LANGUAGES:this.setModalTitle(t("Manage Languages"));break;case g.MODAL_TYPES.FORM_TRANSLATIONS_TABLE:this.setState({title:t("Translations Table"),modalClass:"modal--large"});break;case g.MODAL_TYPES.ENCRYPT_FORM:this.setModalTitle(t("Manage Form Encryption"));break;case g.MODAL_TYPES.BULK_EDIT_SUBMISSIONS:this.setState({modalClass:"modal--large modal--large-shorter"});break;default:console.error('Unknown modal type: "'.concat(e,'"!'))}}},{key:"setModalTitle",value:function(e){this.setState({title:e})}},{key:"enketoSnapshotCreation",value:function(e){e.success?this.setState({enketopreviewlink:e.enketopreviewlink}):this.setState({message:e.error,error:!0})}},{key:"componentWillReceiveProps",value:function(e){if(e.params&&e.params.sid&&this.setState({title:this.submissionTitle(e),sid:e.params.sid}),this.props.params.type!=e.params.type&&e.params.type===g.MODAL_TYPES.UPLOADING_XLS){var r=e.params.filename||"";this.setState({title:t("Uploading XLS file"),message:t("Uploading: ")+r})}e.params&&!e.params.sid&&this.setState({sid:!1})}},{key:"submissionTitle",value:function(e){var r=t("Success!"),o=e.params,a=parseInt(o.sid);if(!o.isDuplicated)if(r=t("Submission Record"),o.tableInfo){var n=o.ids.indexOf(a)+o.tableInfo.pageSize*o.tableInfo.currentPage+1;r="".concat(t("Submission Record")," (").concat(n," ").concat(t("of")," ").concat(o.tableInfo.resultsTotal,")")}else{var s=o.ids.indexOf(a);r=1===o.ids.length?"".concat(t("Submission Record")):"".concat(t("Submission Record")," (").concat(s," ").concat(t("of")," ").concat(o.ids.length,")")}return r}},{key:"displaySafeCloseConfirm",value:function(e,r){var o=m.a.dialog("confirm"),a={title:e,message:r,labels:{ok:t("Close"),cancel:t("Cancel")},onok:b.a.pageState.hideModal,oncancel:o.destroy};o.set(a).show()}},{key:"onModalClose",value:function(){this.props.params.type===g.MODAL_TYPES.FORM_TRANSLATIONS_TABLE&&b.a.translations.state.isTranslationTableUnsaved?this.displaySafeCloseConfirm(t("Close Translations Table?"),t("You will lose all unsaved changes.")):b.a.pageState.hideModal()}},{key:"render",value:function(){var e=this.props.params.assetid||this.props.params.uid;return n.a.createElement(h.a.Modal,{open:!0,onClose:this.onModalClose,title:this.state.title,className:this.state.modalClass,isDuplicated:this.props.params.isDuplicated},n.a.createElement(h.a.Modal.Body,null,this.props.params.type===g.MODAL_TYPES.SHARING&&n.a.createElement(qe.a,{uid:e}),this.props.params.type===g.MODAL_TYPES.NEW_FORM&&n.a.createElement(He.a,{context:g.PROJECT_SETTINGS_CONTEXTS.NEW,onSetModalTitle:this.setModalTitle}),this.props.params.type===g.MODAL_TYPES.LIBRARY_NEW_ITEM&&n.a.createElement(ee,{onSetModalTitle:this.setModalTitle}),this.props.params.type===g.MODAL_TYPES.LIBRARY_TEMPLATE&&n.a.createElement(Y,{asset:this.props.params.asset,assetType:g.ASSET_TYPES.template.id,onSetModalTitle:this.setModalTitle}),this.props.params.type===g.MODAL_TYPES.LIBRARY_COLLECTION&&n.a.createElement(Y,{asset:this.props.params.asset,assetType:g.ASSET_TYPES.collection.id,onSetModalTitle:this.setModalTitle}),this.props.params.type===g.MODAL_TYPES.ASSET_TAGS&&n.a.createElement(C,{asset:this.props.params.asset}),this.props.params.type===g.MODAL_TYPES.LIBRARY_UPLOAD&&n.a.createElement(ue,{onSetModalTitle:this.setModalTitle}),this.props.params.type===g.MODAL_TYPES.REPLACE_PROJECT&&n.a.createElement(He.a,{context:g.PROJECT_SETTINGS_CONTEXTS.REPLACE,onSetModalTitle:this.setModalTitle,formAsset:this.props.params.asset}),this.props.params.type===g.MODAL_TYPES.ENKETO_PREVIEW&&this.state.enketopreviewlink&&n.a.createElement("div",{className:"enketo-holder"},n.a.createElement("iframe",{src:this.state.enketopreviewlink})),this.props.params.type===g.MODAL_TYPES.ENKETO_PREVIEW&&!this.state.enketopreviewlink&&n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null),t("loading..."))),this.props.params.type===g.MODAL_TYPES.ENKETO_PREVIEW&&this.state.error&&n.a.createElement("div",null,this.state.message),this.props.params.type===g.MODAL_TYPES.UPLOADING_XLS&&n.a.createElement("div",null,n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null),n.a.createElement(f.a.Loading__msg,null,this.state.message)))),this.props.params.type===g.MODAL_TYPES.SUBMISSION&&this.state.sid&&n.a.createElement(dt,{sid:this.state.sid,asset:this.props.params.asset,ids:this.props.params.ids,isDuplicated:this.props.params.isDuplicated,duplicatedSubmission:this.props.params.duplicatedSubmission,tableInfo:this.props.params.tableInfo||!1}),this.props.params.type===g.MODAL_TYPES.SUBMISSION&&!this.state.sid&&n.a.createElement("div",null,n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null)))),this.props.params.type===g.MODAL_TYPES.TABLE_COLUMNS&&n.a.createElement(xt,{asset:this.props.params.asset,columns:this.props.params.columns,getColumnLabel:this.props.params.getColumnLabel,overrideLabelsAndGroups:this.props.params.overrideLabelsAndGroups}),this.props.params.type===g.MODAL_TYPES.REST_SERVICES&&n.a.createElement(ze.a,{assetUid:this.props.params.assetUid,hookUid:this.props.params.hookUid}),this.props.params.type===g.MODAL_TYPES.FORM_LANGUAGES&&n.a.createElement(Ht,{asset:this.props.params.asset,assetUid:this.props.params.assetUid}),this.props.params.type===g.MODAL_TYPES.FORM_TRANSLATIONS_TABLE&&n.a.createElement(er,{asset:this.props.params.asset,langString:this.props.params.langString,langIndex:this.props.params.langIndex}),this.props.params.type===g.MODAL_TYPES.ENCRYPT_FORM&&n.a.createElement(ve,{asset:this.props.params.asset,assetUid:this.props.params.assetUid}),this.props.params.type===g.MODAL_TYPES.BULK_EDIT_SUBMISSIONS&&n.a.createElement(Ve,rr({onSetModalTitle:this.setModalTitle,onModalClose:this.onModalClose,asset:this.props.params.asset},this.props.params))))}}])&&or(r.prototype,o),s}();i()(lr.prototype,p.a.ListenerMixin);var cr=lr;r.a=cr,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(lr,"Modal","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modal.es6"),__REACT_HOT_LOADER__.register(cr,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modal.es6"))},485:function(e,r,o){"use strict";o(15);var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(9),c=o.n(l),u=o(11),p=o.n(u),d=o(7),m=o.n(d),_=o(28),f=o.n(_),h=o(1),b=o(17),g=o(5),v=o(12),y=o(2),w=o(304),k=o(6),E=o(3);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=A(e);if(t){var a=A(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?C(e):t}(this,r)}}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(s,n.a.Component);var r,o,a=O(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={areDetailsVisible:!1,ownerData:null},c()(C(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){v.b.isSelfOwned(this.props.asset)?this.setState({ownerData:k.a.session.currentAccount}):(this.listenTo(g.a.misc.getUser.completed,this.onGetUserCompleted),this.listenTo(g.a.misc.getUser.failed,this.onGetUserFailed),g.a.misc.getUser(this.props.asset.owner))}},{key:"toggleDetails",value:function(){this.setState({areDetailsVisible:!this.state.areDetailsVisible})}},{key:"onGetUserCompleted",value:function(e){this.setState({ownerData:e})}},{key:"onGetUserFailed",value:function(){Object(E.notify)(t("Failed to get owner data."),"error")}},{key:"render",value:function(){return this.props.asset?n.a.createElement(h.a.AssetInfoBox,null,n.a.createElement(h.a.AssetInfoBox__column,null,n.a.createElement(h.a.AssetInfoBox__cell,null,n.a.createElement("label",null,t("Date Created")),Object(E.formatTime)(this.props.asset.date_created)),this.state.areDetailsVisible&&n.a.createElement(h.a.AssetInfoBox__cell,null,n.a.createElement("label",null,t("Last Modified")),Object(E.formatTime)(this.props.asset.date_modified)),this.state.areDetailsVisible&&n.a.createElement(h.a.AssetInfoBox__cell,null,n.a.createElement("label",null,t("Owner")),v.b.getAssetOwnerDisplayName(this.props.asset.owner__username)),this.state.areDetailsVisible&&n.a.createElement(h.a.AssetInfoBox__cell,null,n.a.createElement("label",null,t("Description")),this.props.asset.settings.description||"-"),this.state.areDetailsVisible&&n.a.createElement(h.a.AssetInfoBox__cell,null,n.a.createElement("label",null,t("Tags")),this.props.asset.tag_string&&this.props.asset.tag_string.split(",").join(", ")||"-")),n.a.createElement(h.a.AssetInfoBox__column,null,n.a.createElement(h.a.AssetInfoBox__cell,null,this.props.asset.asset_type===y.ASSET_TYPES.collection.id&&n.a.createElement(n.a.Fragment,null,n.a.createElement("label",null,t("Items")),this.props.asset.children.count||0),this.props.asset.asset_type!==y.ASSET_TYPES.collection.id&&n.a.createElement(n.a.Fragment,null,n.a.createElement("label",null,t("Questions")),this.props.asset.summary.row_count||0)),this.state.areDetailsVisible&&n.a.createElement(h.a.AssetInfoBox__cell,null,n.a.createElement("label",null,t("Organization")),v.b.getOrganizationDisplayString(this.props.asset)),this.state.areDetailsVisible&&n.a.createElement(h.a.AssetInfoBox__cell,null,n.a.createElement("label",null,t("Sector")),v.b.getSectorDisplayString(this.props.asset)),this.state.areDetailsVisible&&n.a.createElement(h.a.AssetInfoBox__cell,null,n.a.createElement("label",null,t("Country")),v.b.getCountryDisplayString(this.props.asset,!0)),this.state.areDetailsVisible&&n.a.createElement(h.a.AssetInfoBox__cell,null,n.a.createElement("label",null,t("Languages")),v.b.getLanguagesDisplayString(this.props.asset))),n.a.createElement(h.a.AssetInfoBox__column,{m:"toggle"},n.a.createElement(h.a.AssetInfoBox__toggle,{onClick:this.toggleDetails},this.state.areDetailsVisible?n.a.createElement("i",{className:"k-icon k-icon-up"}):n.a.createElement("i",{className:"k-icon k-icon-down"}),this.state.areDetailsVisible?t("Hide full details"):t("Show full details")))):null}}])&&S(r.prototype,o),s}();p()(R.prototype,m.a.ListenerMixin);var j=R,L=j;function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=B(e);if(t){var a=B(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?N(e):t}(this,r)}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(R,"AssetInfoBox","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetInfoBox.es6"),__REACT_HOT_LOADER__.register(j,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetInfoBox.es6"));var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(s,n.a.Component);var r,o,a=M(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={isPublicPending:!1,isAwaitingFreshPermissions:!1},c()(N(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){g.a.permissions.setAssetPublic.completed.listen(this.onSetAssetPublicCompleted),g.a.permissions.setAssetPublic.failed.listen(this.onSetAssetPublicFailed)}},{key:"componentWillReceiveProps",value:function(){this.setState({isAwaitingFreshPermissions:!1})}},{key:"onSetAssetPublicCompleted",value:function(e){this.props.asset.uid===e&&this.setState({isPublicPending:!1,isAwaitingFreshPermissions:!0})}},{key:"onSetAssetPublicFailed",value:function(e){this.props.asset.uid===e&&(this.setState({isPublicPending:!1}),Object(E.notify)(t("Failed to change asset public status."),"error"))}},{key:"makePublic",value:function(){var e=v.b.isAssetPublicReady(this.props.asset);0===e.length?(this.setState({isPublicPending:!0}),g.a.permissions.setAssetPublic(this.props.asset,!0)):e.forEach(function(e){Object(E.notify)(e,"error")})}},{key:"makePrivate",value:function(){this.setState({isPublicPending:!0}),g.a.permissions.setAssetPublic(this.props.asset,!1)}},{key:"isSetPublicButtonDisabled",value:function(){return this.state.isPublicPending||this.state.isAwaitingFreshPermissions}},{key:"render",value:function(){if(!this.props.asset)return null;var e=this.props.asset.asset_type===y.ASSET_TYPES.collection.id,r=e&&v.b.isAssetPublic(this.props.asset.permissions),o=v.b.isSelfOwned(this.props.asset);return e&&o?n.a.createElement(n.a.Fragment,null,!r&&n.a.createElement(h.a.AssetActionButtons__button,{m:"on",onClick:this.makePublic,disabled:this.isSetPublicButtonDisabled()},n.a.createElement("i",{className:"k-icon k-icon-globe-alt"}),t("Make public")),r&&n.a.createElement(h.a.AssetActionButtons__button,{m:"off",onClick:this.makePrivate,disabled:this.isSetPublicButtonDisabled()},n.a.createElement("i",{className:"k-icon k-icon-close"}),t("Make private"))):null}}])&&D(r.prototype,o),s}(),U=I,V=U,H=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(I,"AssetPublicButton","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetPublicButton.es6"),__REACT_HOT_LOADER__.register(U,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetPublicButton.es6")),o(39)),z=o(36),q=o(51),Y=o(21);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=J(e);if(t){var a=J(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?K(e):t}(this,r)}}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(s,n.a.Component);var r,o,a=W(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e),c()(K(t)),t}return r=s,(o=[{key:"getRootBreadcrumb",value:function(){var e=this.getParentAssetData();return Object(H.c)()&&Object(v.k)(this.props.asset)?Y.d.MY_LIBRARY:Object(H.c)()&&this.props.asset&&this.props.asset.asset_type===y.ASSET_TYPES.collection.id&&null!==this.props.asset.access_types&&this.props.asset.access_types.includes(y.ACCESS_TYPES.public)&&!this.props.asset.access_types.includes(y.ACCESS_TYPES.subscribed)&&!this.props.asset.access_types.includes(y.ACCESS_TYPES.shared)||Object(H.c)()&&this.props.asset&&this.props.asset.asset_type!==y.ASSET_TYPES.collection.id&&e&&null!==e.access_types&&e.access_types.includes(y.ACCESS_TYPES.public)&&!e.access_types.includes(y.ACCESS_TYPES.subscribed)&&!e.access_types.includes(y.ACCESS_TYPES.shared)?Y.d.PUBLIC_COLLECTIONS:Object(H.c)()?Y.d.MY_LIBRARY:Y.d.PROJECTS}},{key:"getParentAssetData",value:function(){var e=null,t=this.getParentUid();return t&&(e=z.a.findAsset(this.getParentUid())),t&&!e&&(e=q.a.findAsset(this.getParentUid())),e}},{key:"getParentUid",value:function(){if(this.props.asset.parent){var e=this.props.asset.parent.split("/");return e[e.length-2]}return null}},{key:"getParentName",value:function(){var e=this.getParentAssetData();return e?Object(v.c)(e).final:t("Parent Collection")}},{key:"getParentHref",value:function(){return this.getParentUid()?"#/library/asset/".concat(this.getParentUid()):"#"}},{key:"render",value:function(){if(!this.props.asset)return null;var e=Object(v.c)(this.props.asset),t=this.getRootBreadcrumb();return n.a.createElement(h.a.Breadcrumbs,null,n.a.createElement(h.a.Breadcrumbs__crumb,{href:t.href},t.label),n.a.createElement(h.a.Breadcrumbs__divider,null),null!==this.props.asset.parent&&n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a.Breadcrumbs__crumb,{href:this.getParentHref()},this.getParentName()),n.a.createElement(h.a.Breadcrumbs__divider,null)),n.a.createElement(h.a.Breadcrumbs__crumb,null,e.final))}}])&&$(r.prototype,o),s}(),Z=X,ee=Z;function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=se(e);if(t){var a=se(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?ne(e):t}(this,r)}}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(X,"AssetBreadcrumbs","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetBreadcrumbs.es6"),__REACT_HOT_LOADER__.register(Z,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetBreadcrumbs.es6"));var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(s,n.a.Component);var r,o,a=ae(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={isExpanded:!1},c()(ne(t)),t}return r=s,(o=[{key:"renderQuestion",value:function(e,t){var r=y.QUESTION_TYPES[e.type],o=["columns","padding-small"];return 0!==t&&o.push("bordertop"),n.a.createElement(h.a.FormView__cell,{m:o,key:t},n.a.createElement(h.a.FormView__cell,{m:"column-icon"},n.a.createElement("i",{className:["fa","fa-lg",r.faIcon].join(" ")})),n.a.createElement(h.a.FormView__cell,{m:["column-1","asset-content-summary-name"]},e.parents.length>0&&n.a.createElement("small",null,e.parents.join(" / ")+" /"),n.a.createElement("div",null,e.isRequired&&n.a.createElement("strong",null,"* "),e.label)))}},{key:"filterRealQuestions",value:function(e){return e.filter(function(e){return y.QUESTION_TYPES[e.type]})}},{key:"toggleExpanded",value:function(){this.setState({isExpanded:!this.state.isExpanded})}},{key:"render",value:function(){if(!this.props.asset)return null;var e=Object(v.f)(this.props.asset.content.survey),r=e.length>8;return r&&!this.state.isExpanded&&(e=e.slice(0,8)),0===e.length?n.a.createElement(h.a.FormView__cell,{m:["box","padding-small"]},t("This ##asset_type## is empty.").replace("##asset_type##",this.props.asset.asset_type)):n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a.FormView__cell,{m:["box","bordered"]},e.map(this.renderQuestion)),r&&n.a.createElement(h.a.FormView__cell,{m:["toggle-details"]},n.a.createElement("button",{onClick:this.toggleExpanded},this.state.isExpanded?n.a.createElement("i",{className:"k-icon k-icon-up"}):n.a.createElement("i",{className:"k-icon k-icon-down"}),this.state.isExpanded?t("Show less"):t("Show more"))))}}])&&re(r.prototype,o),s}(),le=ie,ce=le,ue=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(8,"DISPLAY_LIMIT","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetContentSummary.es6"),__REACT_HOT_LOADER__.register(ie,"AssetContentSummary","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetContentSummary.es6"),__REACT_HOT_LOADER__.register(le,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetContentSummary.es6")),o(130)),pe=o(13),de=m.a.createStore({abortFetchData:void 0,previousPath:pe.f.getCurrentLocation().pathname,PAGE_SIZE:100,DEFAULT_ORDER_COLUMN:Y.a["date-modified"],isVirgin:!0,data:{isFetchingData:!1,currentPage:0,totalPages:null,totalUserAssets:null,totalSearchAssets:null,assets:[],metadata:{}},init:function(){this.setDefaultColumns(),pe.f.listen(this.onRouteChange.bind(this)),g.a.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted),g.a.library.subscribeToCollection.completed.listen(this.fetchData.bind(this,!0)),g.a.library.unsubscribeFromCollection.completed.listen(this.fetchData.bind(this,!0)),g.a.resources.loadAsset.completed.listen(this.onAssetChanged),g.a.resources.updateAsset.completed.listen(this.onAssetChanged),g.a.resources.cloneAsset.completed.listen(this.onAssetCreated),g.a.resources.createResource.completed.listen(this.onAssetCreated),g.a.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted),g.a.library.searchMyCollectionAssets.started.listen(this.onSearchStarted),g.a.library.searchMyCollectionAssets.completed.listen(this.onSearchCompleted),g.a.library.searchMyCollectionAssets.failed.listen(this.onSearchFailed),g.a.library.searchMyCollectionMetadata.completed.listen(this.onSearchMetadataCompleted),g.a.permissions.getConfig.completed.listen(this.startupStore)},startupStore:function(){this.isVirgin&&Object(H.b)()&&!this.data.isFetchingData&&this.fetchData(!0)},setDefaultColumns:function(){this.data.orderColumnId=this.DEFAULT_ORDER_COLUMN.id,this.data.orderValue=this.DEFAULT_ORDER_COLUMN.defaultValue,this.data.filterColumnId=null,this.data.filterValue=null},getSearchParams:function(){var e={pageSize:this.PAGE_SIZE,page:this.data.currentPage,uid:Object(H.a)()};if(null!==this.data.filterColumnId){var t=Y.a[this.data.filterColumnId];e.filterProperty=t.filterBy,e.filterValue=this.data.filterValue}return e},fetchMetadata:function(){g.a.library.searchMyCollectionMetadata(this.getSearchParams())},fetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Object(H.b)()){this.abortFetchData&&this.abortFetchData();var t=this.getSearchParams();void 0!==t.filterProperty&&(t.filterValue=JSON.stringify(t.filterValue)),t.metadata=e;var r=Y.a[this.data.orderColumnId],o=this.data.orderValue===Y.c.ascending?"":"-";t.ordering="".concat(o).concat(r.orderBy),g.a.library.searchMyCollectionAssets(t)}},onRouteChange:function(e){this.isVirgin&&Object(H.b)()&&!this.data.isFetchingData?this.fetchData(!0):("library"===this.previousPath.split("/")[1]||this.previousPath.startsWith(y.ROUTES.PUBLIC_COLLECTIONS))&&Object(H.b)()&&(this.setDefaultColumns(),this.fetchData(!0)),this.previousPath=e.pathname},onSearchStarted:function(e){this.abortFetchData=e,this.data.isFetchingData=!0,this.trigger(this.data)},onSearchCompleted:function(e){delete this.abortFetchData,this.data.totalPages=Math.ceil(e.count/this.PAGE_SIZE),this.data.assets=e.results,e.metadata&&(this.data.metadata=e.metadata),this.data.totalSearchAssets=e.count,null===this.data.totalUserAssets&&(this.data.totalUserAssets=this.data.totalSearchAssets),this.data.isFetchingData=!1,this.isVirgin=!1,this.trigger(this.data)},onSearchFailed:function(){delete this.abortFetchData,this.data.isFetchingData=!1,this.trigger(this.data)},onSearchMetadataCompleted:function(e){this.data.metadata=e,this.trigger(this.data)},onMoveToCollectionCompleted:function(e){v.b.isLibraryAsset(e.asset_type)&&(null===e.parent?this.data.totalUserAssets++:this.data.totalUserAssets--,this.fetchData(!0))},onAssetChanged:function(e){if(v.b.isLibraryAsset(e.asset_type)&&0!==this.data.assets.length){for(var t=!1,r=0;r<this.data.assets.length;r++){var o=this.data.assets[r];if(o.uid===e.uid&&(o.date_modified!==e.date_modified||o.version_id!==e.version_id)){this.data.assets[r]=e,t=!0;break}}t&&(this.trigger(this.data),this.fetchMetadata())}},onAssetCreated:function(e){v.b.isLibraryAsset(e.asset_type)&&null===e.parent&&(this.data.totalUserAssets++,this.fetchData(!0))},onDeleteAssetCompleted:function(e){var t=e.uid,r=e.assetType;v.b.isLibraryAsset(r)&&this.findAsset(t)&&(this.data.totalUserAssets--,this.fetchData(!0))},setCurrentPage:function(e){this.data.currentPage=e,this.fetchData()},setOrder:function(e,t){this.data.orderColumnId===e&&this.data.orderValue===t||(this.data.orderColumnId=e,this.data.orderValue=t,this.fetchData())},setFilter:function(e,t){this.data.filterColumnId===e&&this.data.filterValue===t||(this.data.filterColumnId=e,this.data.filterValue=t,this.data.currentPage=0,this.fetchData(!0))},resetOrderAndFilter:function(){this.setDefaultColumns(),this.fetchData(!0)},hasAllDefaultValues:function(){return this.data.orderColumnId===this.DEFAULT_ORDER_COLUMN.id&&this.data.orderValue===this.DEFAULT_ORDER_COLUMN.defaultValue&&null===this.data.filterColumnId&&null===this.data.filterValue},getCurrentUserTotalAssets:function(){return this.data.totalUserAssets},findAsset:function(e){return this.data.assets.find(function(t){return t.uid===e})}}),me=de,_e=me;function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=ye(e);if(t){var a=ye(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?ve(e):t}(this,r)}}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(de,"singleCollectionStore","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/singleCollectionStore.es6"),__REACT_HOT_LOADER__.register(me,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/singleCollectionStore.es6"));var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(a,n.a.Component);var t,r,o=ge(a);function a(e){var t;return function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state=t.getFreshState(),t.unlisteners=[],c()(ve(t)),t}return t=a,(r=[{key:"getFreshState",value:function(){return{isLoading:_e.data.isFetchingData,assets:_e.data.assets,metadata:_e.data.metadata,totalAssets:_e.data.totalSearchAssets,orderColumnId:_e.data.orderColumnId,orderValue:_e.data.orderValue,filterColumnId:_e.data.filterColumnId,filterValue:_e.data.filterValue,currentPage:_e.data.currentPage,totalPages:_e.data.totalPages}}},{key:"componentDidMount",value:function(){this.unlisteners.push(_e.listen(this.singleCollectionStoreChanged))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"singleCollectionStoreChanged",value:function(){this.setState(this.getFreshState())}},{key:"onAssetsTableOrderChange",value:function(e,t){_e.setOrder(e,t)}},{key:"onAssetsTableFilterChange",value:function(e,t){_e.setFilter(e,t)}},{key:"onAssetsTableSwitchPage",value:function(e){_e.setCurrentPage(e)}},{key:"render",value:function(){return n.a.createElement(ue.a,{context:Y.b.COLLECTION_CONTENT,isLoading:this.state.isLoading,assets:this.state.assets,totalAssets:this.state.totalAssets,metadata:this.state.metadata,orderColumnId:this.state.orderColumnId,orderValue:this.state.orderValue,onOrderChange:this.onAssetsTableOrderChange.bind(this),filterColumnId:this.state.filterColumnId,filterValue:this.state.filterValue,onFilterChange:this.onAssetsTableFilterChange.bind(this),currentPage:this.state.currentPage,totalPages:this.state.totalPages,onSwitchPage:this.onAssetsTableSwitchPage.bind(this)})}}])&&he(t.prototype,r),a}(),ke=we,Ee=ke,xe=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(we,"CollectionAssetsTable","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/collectionAssetsTable.es6"),__REACT_HOT_LOADER__.register(ke,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/collectionAssetsTable.es6")),o(52));function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=Re(e);if(t){var a=Re(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?Ae(e):t}(this,r)}}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}o(8);var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(s,n.a.Component);var r,o,a=Ce(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={asset:!1},t.unlisteners=[],c()(Ae(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.unlisteners.push(g.a.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted),g.a.library.subscribeToCollection.completed.listen(this.onSubscribeToCollectionCompleted),g.a.library.unsubscribeFromCollection.completed.listen(this.onUnsubscribeFromCollectionCompleted),g.a.resources.loadAsset.completed.listen(this.onAssetChanged),g.a.resources.updateAsset.completed.listen(this.onAssetChanged),g.a.resources.cloneAsset.completed.listen(this.onAssetChanged),g.a.resources.createResource.completed.listen(this.onAssetChanged)),this.loadCurrentAsset()}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"componentWillReceiveProps",value:function(e){e.params.uid!==this.props.params.uid&&(this.setState({asset:!1}),this.loadCurrentAsset())}},{key:"loadCurrentAsset",value:function(){var e=this.currentAssetID();e&&g.a.resources.loadAsset({id:e})}},{key:"onSubscribeToCollectionCompleted",value:function(){this.onAssetAccessTypeChanged(!0)}},{key:"onUnsubscribeFromCollectionCompleted",value:function(){this.onAssetAccessTypeChanged(!1)}},{key:"onAssetAccessTypeChanged",value:function(e){var t=this.state.asset;e?t.access_types.push(y.ACCESS_TYPES.subscribed):t.access_types.splice(t.access_types.indexOf(y.ACCESS_TYPES.subscribed),1),this.setState({asset:t})}},{key:"onMoveToCollectionCompleted",value:function(e){null===e.parent?this.onAssetRemoved(e.uid):this.onAssetChanged(e)}},{key:"onAssetChanged",value:function(e){e.uid===this.currentAssetID()&&this.setState({asset:e})}},{key:"render",value:function(){if(!1===this.state.asset)return Object(xe.b)();var e=v.b.getAssetDisplayName(this.state.asset),r=this.state.asset.access_types&&this.state.asset.access_types.includes(y.ACCESS_TYPES.subscribed);return n.a.createElement(f.a,{title:"".concat(e.final," | KoboToolbox")},n.a.createElement(h.a.FormView,{m:"library-asset"},n.a.createElement(h.a.FormView__row,null,n.a.createElement(h.a.FormView__cell,{m:["columns","columns-right","first"]},r&&n.a.createElement(h.a.FormView__cell,{m:"subscribed-badge"},n.a.createElement("i",{className:"k-icon k-icon-folder-subscribed"}),t("Subscribed")),n.a.createElement(V,{asset:this.state.asset}),n.a.createElement(w.a,{asset:this.state.asset})),n.a.createElement(h.a.FormView__cell,{m:"first"},n.a.createElement(ee,{asset:this.state.asset})),n.a.createElement(L,{asset:this.state.asset})),this.state.asset.asset_type!==y.ASSET_TYPES.collection.id&&n.a.createElement(h.a.FormView__row,null,n.a.createElement(h.a.FormView__cell,{m:["columns","first"]},n.a.createElement(h.a.FormView__cell,{m:"label"},t("Quick look"))),n.a.createElement(ce,{asset:this.state.asset})),this.state.asset.asset_type===y.ASSET_TYPES.collection.id&&n.a.createElement(h.a.FormView__row,null,n.a.createElement(h.a.FormView__cell,{m:["box","bordered","assets-table-wrapper"]},n.a.createElement(Ee,{asset:this.state.asset})))))}}])&&Te(r.prototype,o),s}();p()(je.prototype,b.a.contextRouter),p()(je.prototype,m.a.ListenerMixin),je.contextTypes={router:i.a.object};var Le=je;r.a=Le,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(je,"AssetRoute","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetRoute.es6"),__REACT_HOT_LOADER__.register(Le,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/assetRoute.es6"))},487:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(13),f=o(6),h=o(1),b=o(40),g=o(17),v=o(2),y=o(36);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=T(e);if(t){var a=T(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?S(e):t}(this,r)}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(s,m.a.Component);var r,o,a=x(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={myLibraryCount:0,isLoading:!0},p()(S(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(y.a,this.myLibraryStoreChanged),this.setState({isLoading:!1,myLibraryCount:y.a.getCurrentUserTotalAssets()})}},{key:"myLibraryStoreChanged",value:function(){this.setState({isLoading:!1,myLibraryCount:y.a.getCurrentUserTotalAssets()})}},{key:"showLibraryNewModal",value:function(e){e.preventDefault(),f.a.pageState.showModal({type:v.MODAL_TYPES.LIBRARY_NEW_ITEM})}},{key:"isMyLibrarySelected",value:function(){return this.context.router.isActive("library/my-library")}},{key:"isPublicCollectionsSelected",value:function(){return this.context.router.isActive("library/public-collections")}},{key:"render",value:function(){var e="";return this.state.isLoading&&(e="loading"),n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a.KoboButton,{m:["blue","fullwidth"],onClick:this.showLibraryNewModal},t("new")),n.a.createElement(h.a.FormSidebar,{m:e},n.a.createElement(h.a.FormSidebar__label,{m:{selected:this.isMyLibrarySelected()},href:"#/library/my-library"},n.a.createElement("i",{className:"k-icon-library"}),n.a.createElement(h.a.FormSidebar__labelText,null,t("My Library")),n.a.createElement(h.a.FormSidebar__labelCount,null,this.state.myLibraryCount)),n.a.createElement(h.a.FormSidebar__label,{m:{selected:this.isPublicCollectionsSelected()},href:"#/library/public-collections"},n.a.createElement("i",{className:"k-icon-library-public"}),n.a.createElement(h.a.FormSidebar__labelText,null,t("Public Collections")))))}}])&&k(r.prototype,o),s}();O.contextTypes={router:i.a.object},c()(O.prototype,m.a.ListenerMixin);var C=O,A=C,R=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(O,"LibrarySidebar","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/librarySidebar.es6"),__REACT_HOT_LOADER__.register(C,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/librarySidebar.es6")),o(383)),j=o(3),L=o(18);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=B(e);if(t){var a=B(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?N(e):t}(this,r)}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(s,m.a.Component);var r,o,a=M(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={selectedCategories:{Draft:!1,Deployed:!1,Archived:!1},searchContext:b.a.getSearchContext("forms",{filterParams:{assetType:v.COMMON_QUERIES.s},filterTags:v.COMMON_QUERIES.s})},t.store=f.a.pageState,p()(N(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(this.searchStore,this.searchChanged),this.isFormList()||this.searchSemaphore()}},{key:"componentWillReceiveProps",value:function(){this.listenTo(this.searchStore,this.searchChanged)}},{key:"searchChanged",value:function(e){this.setState(e)}},{key:"renderMiniAssetRow",value:function(e){var t="/forms/".concat(e.uid);this.userCan("view_submissions",e)&&e.has_deployment&&e.deployment__submission_count,t+="/data";var r=["form-sidebar__item"];return e.uid===this.currentAssetID()&&r.push("form-sidebar__item--active"),n.a.createElement(_.c,{to:t,key:e.uid,className:r.join(" ")},n.a.createElement(L.a.SidebarAssetName,e))}},{key:"toggleCategory",value:function(e){return function(){var t=this.state.selectedCategories;t[e]=!t[e],this.setState({selectedCategories:t})}.bind(this)}},{key:"render",value:function(){var e=this.state;return"done"!==e.searchState||!1!==e.searchString&&""!==e.searchString||!e.searchResultsFor||(e.searchResultsFor.assetType,v.COMMON_QUERIES.s),"loading"===e.searchState&&!1===e.searchString?n.a.createElement(h.a.Loading,null,n.a.createElement(h.a.Loading__inner,null,n.a.createElement("i",null),t("loading..."))):n.a.createElement(h.a.FormSidebar,null,"loading"===e.defaultQueryState?n.a.createElement(h.a.Loading,null,n.a.createElement(h.a.Loading__inner,null,n.a.createElement("i",null),t("loading..."))):"done"===e.defaultQueryState?Object.keys(v.DEPLOYMENT_CATEGORIES).map(function(e){return[]}):void 0)}}])&&D(r.prototype,o),s}();I.contextTypes={router:i.a.object},c()(I.prototype,b.a.common),c()(I.prototype,m.a.ListenerMixin),c()(I.prototype,g.a.contextRouter),c()(I.prototype,g.a.permissions);var U=I,V=U;function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t,r){return t&&q(e.prototype,t),r&&q(e,r),e}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=W(e);if(t){var a=W(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?Q(e):t}(this,r)}}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(I,"SidebarFormsList","/home/sujit/projects/ndrrma/survey/source/jsapp/js/lists/sidebarForms.es6"),__REACT_HOT_LOADER__.register(U,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/lists/sidebarForms.es6"));var K=function(e){G(o,m.a.Component);var r=$(o);function o(e){var t;return z(this,o),(t=r.call(this,e)).state=Object(j.assign)({currentAssetId:!1,files:[]},f.a.pageState.state),t.stores=[f.a.session,f.a.pageState],p()(Q(t)),t}return Y(o,[{key:"componentWillMount",value:function(){this.setStates()}},{key:"setStates",value:function(){this.setState({headerFilters:"forms",searchContext:b.a.getSearchContext("forms",{filterParams:{assetType:v.COMMON_QUERIES.s},filterTags:v.COMMON_QUERIES.s})})}},{key:"newFormModal",value:function(e){e.preventDefault(),f.a.pageState.showModal({type:v.MODAL_TYPES.NEW_FORM})}},{key:"render",value:function(){var e=f.a.session.currentAccount.is_surveyor,r=f.a.session.currentAccount.can_add_user;return n.a.createElement("div",null,function(){if(e)return n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a.KoboButton,{onClick:function(e){window.location="/slip/download/"},m:["blue","fullwidth"]},t("Download Slip")),n.a.createElement(V,null))}(),function(){if(r)return n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a.KoboButton,{onClick:function(e){window.location="/staff/register/"},m:["blue","fullwidth"]},t("Add User")),n.a.createElement(V,null))}())}},{key:"componentWillReceiveProps",value:function(){this.setStates()}}]),o}();K.contextTypes={router:i.a.object},c()(K.prototype,b.a.common),c()(K.prototype,g.a.droppable);var J=function(e){G(r,n.a.Component);var t=$(r);function r(e){var o;return z(this,r),o=t.call(this,e),p()(Q(o)),o}return Y(r,[{key:"onClick",value:function(e){this.props.href||e.preventDefault(),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=null==this.props["ki-icon"]?"fa fa-globe":"k-icon-".concat(this.props["ki-icon"]),t=n.a.createElement("i",{className:e}),r=[this.props.class,"k-drawer__link"];return this.props.linkto?n.a.createElement(_.c,{to:this.props.linkto,className:r.join(" "),activeClassName:"active","data-tip":this.props.label},t):n.a.createElement("a",{href:this.props.href||"#",className:r.join(" "),onClick:this.onClick,"data-tip":this.props.label},t)}}]),r}(),X=function(e){G(o,m.a.Component);var r=$(o);function o(e){var t;return z(this,o),t=r.call(this,e),p()(Q(t)),t.stores=[f.a.session,f.a.pageState,f.a.serverEnvironment],t}return Y(o,[{key:"render",value:function(){return n.a.createElement(h.a.KDrawer,null,n.a.createElement(h.a.KDrawer__primaryIcons,null,n.a.createElement(J,{label:t("Projects"),linkto:v.ROUTES.FORMS,"ki-icon":"projects"})),n.a.createElement(h.a.KDrawer__sidebar,null,this.isLibrary()?n.a.createElement(A,null):n.a.createElement(K,null)),n.a.createElement(h.a.KDrawer__secondaryIcons,null,f.a.session.currentAccount&&n.a.createElement(R.a,null),f.a.session.currentAccount&&n.a.createElement(R.b,null),f.a.session.currentAccount&&n.a.createElement("a",{href:"/static/user_manual.pdf",className:"k-drawer__link",target:"_blank","data-tip":t("User Manual")},n.a.createElement("i",{className:"k-icon k-icon-folder"}))))}}]),o}();c()(X.prototype,b.a.common),c()(X.prototype,g.a.droppable),c()(X.prototype,g.a.contextRouter),X.contextTypes={router:i.a.object};var Z=X;r.a=Z,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(K,"FormSidebar","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/drawer.es6"),__REACT_HOT_LOADER__.register(J,"DrawerLink","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/drawer.es6"),__REACT_HOT_LOADER__.register(X,"Drawer","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/drawer.es6"),__REACT_HOT_LOADER__.register(Z,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/drawer.es6"))},488:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(11),i=o.n(s),l=o(9),c=o.n(l),u=o(7),p=o.n(u),d=o(15),m=o(8),_=o(22),f=o(114),h=o(5),b=o(1),g=o(6),v=o(18),y=o(17),w=o(28),k=o.n(w),E=o(24),x=o(14),S=o.n(x),T=o(33),O=o.n(T),C=o(65),A=o.n(C),R=o(2);function j(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function M(e,t,r){return t&&F(e.prototype,t),r&&F(e,r),e}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=U(e);if(t){var a=U(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?I(e):t}(this,r)}}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){N(o,n.a.Component);var r=B(o);function o(e){return D(this,o),r.call(this,e)}return M(o,[{key:"formatNumber",value:function(e){return isNaN(e)?e:e.toFixed(2)}},{key:"render",value:function(){var e=this,r=[""],o=[];if("numerical"===this.props.type){if(r=[t("Mean"),t("Median"),t("Mode"),t("Standard deviation")],this.props.rows&&r.unshift(""),this.props.values)var a=this.props.values;return n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,r.map(function(e,t){return n.a.createElement("th",{key:t},e)}))),this.props.values&&n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,this.formatNumber(a.mean)||t("N/A")),n.a.createElement("td",null,this.formatNumber(a.median)||t("N/A")),n.a.createElement("td",null,this.formatNumber(a.mode)||t("N/A")),n.a.createElement("td",null,this.formatNumber(a.stdev)||t("N/A")))),this.props.rows&&n.a.createElement("tbody",null,this.props.rows.map(function(r){return n.a.createElement("tr",{key:r[0]},n.a.createElement("td",null,r[0]),n.a.createElement("td",null,e.formatNumber(r[1].mean)||t("N/A")),n.a.createElement("td",null,e.formatNumber(r[1].median)||t("N/A")),n.a.createElement("td",null,e.formatNumber(r[1].mode)||t("N/A")),n.a.createElement("td",null,e.formatNumber(r[1].stdev)||t("N/A")))})))}if("regular"===this.props.type)r=[t("Value"),t("Frequency"),t("Percentage")],o=this.props.rows;else if(this.props.rows.length>0){var s=this.props.rows;this.props.responseLabels?r=r.concat(this.props.responseLabels):s[0]&&s[0][1]&&s[0][1].responses&&(r=r.concat(s[0][1].responses)),s.map(function(e,t){var r=e[2]?[e[2]]:[e[0]];r=r.concat(e[1].percentages),o.push(r)})}return 0!==o.length&&n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,r.map(function(e,t){return n.a.createElement("th",{key:t},e)}))),n.a.createElement("tbody",null,o.map(function(e){return n.a.createElement("tr",{key:e[0]},e.map(function(e,t){return n.a.createElement("td",{key:t},e)}))})))}}]),o}(),H=function(e){N(o,n.a.Component);var r=B(o);function o(e){var t;return D(this,o),(t=r.call(this,e)).state={reportTable:!1},t.itemChart=!1,c()(I(t)),t}return M(o,[{key:"componentDidMount",value:function(){this.prepareTable(this.props.data),this.props.data.show_graph&&this.loadChart()}},{key:"componentWillReceiveProps",value:function(e){this.prepareTable(e.data)}},{key:"componentDidUpdate",value:function(e){this.props.data.show_graph&&this.loadChart()}},{key:"loadChart",value:function(){var e=O.a.findDOMNode(this.refs.canvas),t=this.buildChartOptions();this.itemChart?(this.itemChart.destroy(),this.itemChart=new A.a(e,t)):this.itemChart=new A.a(e,t)}},{key:"prepareTable",value:function(e){var t=[];e.percentages&&e.responses&&e.frequencies&&(t=d.default.zip(e.responseLabels||e.responses,e.frequencies,e.percentages)),e.mean&&(t=!1),this.setState({reportTable:t})}},{key:"truncateLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return e.length>t?e.substring(0,t-3)+"...":e}},{key:"buildChartOptions",value:function(){var e=this.props.data,t=this.props.style.report_type||"bar",r=this,o=100,a=.5,n=!1,s=this.buildChartColors(),i=s[0];A.a.defaults.global.elements.rectangle.backgroundColor=i,A.a.defaults.global.elements.line.borderColor=i,A.a.defaults.global.elements.line.backgroundColor="rgba(255, 255, 255, 0.1)",A.a.defaults.global.elements.point.backgroundColor=i,A.a.defaults.global.elements.point.radius=4,A.a.defaults.global.elements.arc.backgroundColor=i,A.a.defaults.global.maintainAspectRatio=!1,!0!==Object.keys(R.REPORT_STYLES).includes(t)&&(t=R.REPORT_STYLES.vertical.value),t===R.REPORT_STYLES.donut.value&&(t="pie"),t===R.REPORT_STYLES.area.value&&(t="line"),t===R.REPORT_STYLES.horizontal.value&&(t="horizontalBar"),t!==R.REPORT_STYLES.vertical.value&&"bar_chart"!==t||(t="bar");var l=[];if(null!=e.values){e.responseLabels&&e.responseLabels.forEach(function(t,o){e.responseLabels[o]=r.truncateLabel(t)});var c=[];e.values.forEach(function(e,t){var o={},a=e[2]||e[0];o.label=r.truncateLabel(a,20);var n=[];Array.isArray(e[1].percentage)&&(n=e[1].percentage),Array.isArray(e[1].percentages)&&(n=e[1].percentages),o.data=n,c=j(new Set([].concat(j(c),j(n)))),o.backgroundColor=s[t],l.push(o)}),o=Math.max.apply(Math,c),a=.9,n=!0}else o=Math.max.apply(Math,e.percentages),l.push({data:e.percentages}),e.responseLabels&&e.responseLabels.forEach(function(t,o){e.responseLabels[o]=r.truncateLabel(t)}),e.responses&&e.responses.forEach(function(t,o){e.responses[o]=r.truncateLabel(t)});o=o<85?10*(parseInt(o/10,10)+1):100;var u={type:t,data:{labels:e.responseLabels||e.responses,datasets:l},options:{legend:{display:n},animation:{duration:500},scales:{xAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,max:o},barPercentage:a}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,max:o},barPercentage:a}]}}};return"pie"===t&&(u.options.legend.display=!0,u.data.datasets[0].backgroundColor=s,u.options.scales.xAxes=[],u.options.scales.yAxes=[],this.props.style.report_type===R.REPORT_STYLES.donut.value&&(u.options.cutoutPercentage=50)),this.props.style.report_type===R.REPORT_STYLES.area.value&&(u.data.datasets[0].backgroundColor=s[0]),u}},{key:"buildChartColors",value:function(){var e=this.props.style.report_colors||["rgba(52, 106, 200, 0.8)","rgba(252, 74, 124, 0.8)","rgba(250, 213, 99, 0.8)","rgba(113, 230, 33, 0.8)","rgba(78, 203, 255, 0.8)","rgba(253, 190, 76, 0.8)","rgba(77, 124, 244, 0.8)","rgba(33, 231, 184, 0.8)"],t=e.slice(0).map(function(e,t){return(e=e.replace("1)","0.75)")).replace("0.8","0.5")}),r=(e=e.concat(t)).slice(0).map(function(e,t){return(e=e.replace("1)","0.5)")).replace("0.8","0.25")});return e.concat(r)}},{key:"render",value:function(){var e=this.props,r=e.data,o=e.row.type,a=e.name;return o?((o.select_one||o.select_multiple)&&(o=d.default.keys(o)[0]),o=JSON.stringify(o),n.a.createElement("div",null,n.a.createElement(b.a.ReportView__itemHeading,null,n.a.createElement("h2",null,e.label),n.a.createElement(b.a.ReportView__headingMeta,null,n.a.createElement("span",{className:"type"},t("Type: ")+o+t(". ")),n.a.createElement("span",{className:"respondents"},t("#1 out of #2 respondents answered this question. ").replace("#1",r.provided).replace("#2",r.total_count)),n.a.createElement("span",null,t("(# were without data.)").replace("#",r.not_provided))),r.show_graph&&n.a.createElement(b.a.Button,{m:"icon",className:"report-button__question-settings",onClick:this.props.triggerQuestionSettings,"data-question":a,"data-tip":t("Override Graph Style")},n.a.createElement("i",{className:"k-icon-more","data-question":a}))),n.a.createElement(b.a.ReportView__itemContent,null,r.show_graph&&n.a.createElement(b.a.ReportView__chart,{style:{width:this.props.style.graphWidth+"px"}},n.a.createElement("canvas",{ref:"canvas"})),this.state.reportTable&&!r.values&&n.a.createElement(V,{rows:this.state.reportTable,type:"regular"}),r.values&&r.values[0]&&r.values[0][1]&&r.values[0][1].percentages&&n.a.createElement(V,{rows:r.values,responseLabels:r.responseLabels,type:"disaggregated"}),r.values&&r.values[0]&&r.values[0][1]&&r.values[0][1].mean&&n.a.createElement(V,{rows:r.values,type:"numerical"}),r.mean&&n.a.createElement(V,{values:r,type:"numerical"})))):(console.error("No type given for row: ",e),n.a.createElement("p",{className:"error"},"Error displaying row: ",n.a.createElement("code",null,e.kuid)))}}]),o}(),z=H,q=z,Y=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(V,"ReportTable","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reportViewItem.es6"),__REACT_HOT_LOADER__.register(H,"ReportViewItem","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reportViewItem.es6"),__REACT_HOT_LOADER__.register(z,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reportViewItem.es6")),o(3));function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e,t,r){return t&&W(e.prototype,t),r&&W(e,r),e}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=ee(e);if(t){var a=ee(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?Z(e):t}(this,r)}}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=[R.REPORT_STYLES.vertical,R.REPORT_STYLES.donut,R.REPORT_STYLES.area,R.REPORT_STYLES.horizontal,R.REPORT_STYLES.pie,R.REPORT_STYLES.line],re=function(e){J(r,n.a.Component);var t=X(r);function r(e){var o;return Q(this,r),o=t.call(this,e),c()(Z(o)),o}return K(r,[{key:"defaultReportStyleChange",value:function(e){this.props.onChange({default:!0},{report_type:e.currentTarget.value||"bar"})}},{key:"render",value:function(){var e=te.map(function(e,t){return n.a.createElement(b.a.GraphSettings__radio,{m:e.value,key:t},n.a.createElement("input",{type:"radio",name:"chart_type",value:e.value,checked:this.props.defaultStyle.report_type===e.value,onChange:this.defaultReportStyleChange,id:"type-"+e.value}),n.a.createElement("label",{htmlFor:"type-"+e.value},e.label))},this);return n.a.createElement(b.a.GraphSettings__charttype,null,e)}}]),r}(),oe=[{label:"set1",colors:["rgba(52, 106, 200, 0.8)","rgba(252, 74, 124, 0.8)","rgba(250, 213, 99, 0.8)","rgba(113, 230, 33, 0.8)","rgba(78, 203, 255, 0.8)","rgba(253, 190, 76, 0.8)","rgba(77, 124, 244, 0.8)","rgba(33, 231, 184, 0.8)"]},{label:"set2",colors:["rgba(40, 106, 163, 0.8)","rgba(69, 137, 197, 0.8)","rgba(0, 123, 234, 0.8)","rgba(0, 134, 255, 0.8)","rgba(50, 159, 255, 0.8)","rgba(100, 182, 255, 0.8)","rgba(141, 200, 255, 0.8)","rgba(192, 224, 255, 0.8)"]},{label:"set3",colors:["rgba(39, 69, 255, 0.8)","rgba(34, 122, 233, 0.8)","rgba(46, 145, 243, 0.8)","rgba(92, 173, 255, 0.8)","rgba(148, 200, 255, 0.8)","rgba(31, 174, 228, 0.8)","rgba(25, 214, 209, 0.8)","rgba(28, 234, 225, 0.8)"]},{label:"set4",colors:["rgba(253, 35, 4, 0.8)","rgba(253, 104, 97, 0.8)","rgba(232, 65, 14, 0.8)","rgba(253, 146, 72, 0.8)","rgba(233, 139, 3, 0.8)","rgba(253, 215, 114, 0.8)","rgba(254, 227, 159, 0.8)","rgba(253, 146, 72, 0.8)"]},{label:"set5",colors:["rgba(63, 63, 63, 1)","rgba(90, 90, 90, 1)","rgba(107, 107, 107, 1)","rgba(128, 128, 128, 1)","rgba(151, 151, 151, 1)","rgba(169, 169, 169, 1)","rgba(196, 196, 196, 1)","rgba(178, 179, 190, 1)"]}],ae=function(e){J(r,n.a.Component);var t=X(r);function r(e){var o;return Q(this,r),o=t.call(this,e),c()(Z(o)),o}return K(r,[{key:"defaultReportColorsChange",value:function(e){this.props.onChange({default:!0},{report_colors:oe[e.currentTarget.value].colors||oe[0].colors})}},{key:"defaultValue",value:function(e,t){return void 0===this.props.defaultStyle.report_colors&&0===t||JSON.stringify(this.props.defaultStyle.report_colors)===JSON.stringify(e.colors)}},{key:"render",value:function(){var e=oe.map(function(e,t){return n.a.createElement(b.a.GraphSettings__radio,{key:t},n.a.createElement("input",{type:"radio",name:"chart_colors",value:t,checked:this.defaultValue(e,t),onChange:this.defaultReportColorsChange,id:"type-"+e.label}),n.a.createElement("label",{htmlFor:"type-"+e.label},oe[t].colors.map(function(e,t){return n.a.createElement("div",{style:{backgroundColor:e},key:t})},this)))},this);return n.a.createElement(b.a.GraphSettings__colors,null,e)}}]),r}(),ne=function(e){J(o,n.a.Component);var r=X(o);function o(e){var t;return Q(this,o),t=r.call(this,e),c()(Z(t)),t.state={customReport:e.customReport},t}return K(o,[{key:"customReportNameChange",value:function(e){var t=this.state.customReport;t.name=e.target.value,this.setState({customReport:t})}},{key:"customReportQuestionChange",value:function(e,t){var r=this.state.customReport;t?r.questions.push(e):r.questions.splice(r.questions.indexOf(e),1),this.setState({customReport:r})}},{key:"saveCustomReport",value:function(){var e=this.props.asset.report_custom;e[this.state.customReport.crid]=this.state.customReport,h.a.reports.setCustom(this.props.asset.uid,e)}},{key:"deleteCustomReport",value:function(){var e=this.props.asset.report_custom;delete e[this.state.customReport.crid],h.a.reports.setCustom(this.props.asset.uid,e)}},{key:"render",value:function(){var e=this.state.customReport.crid,r=this.props.reportData.map(function(e,r){return n.a.createElement("div",{className:"graph-settings__question",key:r},n.a.createElement(_.a,{checked:this.state.customReport.questions.includes(e.name),onChange:this.customReportQuestionChange.bind(this,e.name),label:e.row.label?e.row.label[0]:t("Unlabeled")}))},this);return n.a.createElement("div",{className:"custom-report-form"},n.a.createElement("div",{className:"custom-report--title"},n.a.createElement("input",{type:"text",name:"title",value:this.state.customReport.name,placeholder:t("Untitled Report"),onChange:this.customReportNameChange})),n.a.createElement("strong",null,t("Include the following questions:")),n.a.createElement("div",{className:"custom-report--questions"},r),n.a.createElement(b.a.Modal__footer,null,this.props.asset.report_custom[e]&&n.a.createElement(b.a.KoboButton,{m:"red",onClick:this.deleteCustomReport},t("Delete")),n.a.createElement(b.a.KoboButton,{m:"blue",onClick:this.saveCustomReport},t("Save"))))}}]),o}(),se=function(e){J(o,n.a.Component);var r=X(o);function o(e){var t;return Q(this,o),(t=r.call(this)).state={activeModalTab:0,rStyle:{report_type:!1,report_colors:!1,width:!1}},c()(Z(t)),t}return K(o,[{key:"toggleTab",value:function(e){var t=e.target.getAttribute("data-index");this.setState({activeModalTab:parseInt(t)})}},{key:"componentDidMount",value:function(){var e,t=this.props.question;if((e=this.props.parentState.currentCustomReport?this.props.parentState.currentCustomReport.specified:this.props.parentState.reportStyles.specified)&&e[t]&&Object.keys(e[t]).length){var r=Object.assign({},e[t]);this.setState({rStyle:r})}}},{key:"saveQS",value:function(e){var t=this.props.parentState.asset.uid,r=this.props.parentState.currentCustomReport,o=this.props.question;if(r){var a=this.props.parentState.asset.report_custom;void 0===a[r.crid].specified&&(a[r.crid].specified={}),a[r.crid].specified[o]=e?{}:this.state.rStyle,h.a.reports.setCustom(t,a)}else{var n=this.props.parentState.reportStyles;n.specified[o]=e?{}:this.state.rStyle,h.a.reports.setStyle(t,n)}}},{key:"questionStyleChange",value:function(e,t){var r=this.state.rStyle;t&&t.report_type&&(r.report_type=t.report_type),t&&t.report_colors&&(r.report_colors=t.report_colors),e&&"width"==e.id&&(r.width=e.value),this.setState({rStyle:r})}},{key:"render",value:function(){this.props.parentState.asset;var e=this.state.rStyle,r=[t("Chart Type"),t("Colors")].map(function(e,t){return n.a.createElement("button",{className:"mdl-button mdl-button--tab ".concat(this.state.activeModalTab===t?"active":""),onClick:this.toggleTab,"data-index":t,key:t},e)},this);return n.a.createElement(b.a.GraphSettings,null,n.a.createElement(v.a.Modal.Tabs,null,r),n.a.createElement(v.a.Modal.Body,null,n.a.createElement("div",{className:"tabs-content"},0===this.state.activeModalTab&&n.a.createElement("div",{id:"graph-type"},n.a.createElement(re,{defaultStyle:e,onChange:this.questionStyleChange})),1===this.state.activeModalTab&&n.a.createElement("div",{id:"graph-colors"},n.a.createElement(ae,{defaultStyle:e,onChange:this.questionStyleChange})))),n.a.createElement(v.a.Modal.Footer,null,(e.report_type||e.report_colors||e.width)&&n.a.createElement(b.a.Button,{className:"reset",onClick:this.saveQS.bind(this,!0)},t("Reset")),n.a.createElement(b.a.Button,{className:"primary",onClick:this.saveQS.bind(this,!1)},t("Save"))))}}]),o}(),ie=function(e){J(o,n.a.Component);var r=X(o);function o(e){return Q(this,o),r.call(this,e)}return K(o,[{key:"shouldComponentUpdate",value:function(e,t){return!(e.parentState.showReportGraphSettings||e.parentState.showCustomReportModal||e.parentState.currentQuestionGraph)}},{key:"render",value:function(){var e=this,r=0,o=this.props.parentState.currentCustomReport,a=this.props.parentState.reportStyles,s=this.props.parentState.asset,i=this.props.parentState.groupBy;o?o.reportStyle&&o.reportStyle.translationIndex&&(r=parseInt(o.reportStyle.translationIndex)):r=a.default.translationIndex||0,s.content.translations&&!s.content.translations[r]&&(r=0);for(var l=this.props.reportData,c=function(){var e=l[u].name,t=l[u].row.type||null;p=void 0,o?o.specified&&o.specified[e]&&(p=o.specified[e]):p=a.specified[e],p&&Object.keys(p).length?l[u].style=p:o&&o.reportStyle?l[u].style=o.reportStyle:l[u].style=a.default,"select_one"!==t&&"select_multiple"!==t||!s.content.choices||function(){var t,o=s.content.survey.find(function(t){return t.name===e||t.$autoname===e}),a=l[u].data.responses;if(a)for(l[u].data.responseLabels=[],m=a.length-1;m>=0;m--)(t=s.content.choices.find(function(e){return o&&e.list_name===o.select_from_list_name&&(e.name===a[m]||e.$autoname==a[m])}))&&t.label&&t.label[r]?l[u].data.responseLabels.unshift(t.label[r]):l[u].data.responseLabels.unshift(a[m]);else!function(){var e=l[u].data.values;if(e&&e[0]&&e[0][1]&&e[0][1].responses){_=e[0][1].responses,l[u].data.responseLabels=[];var a=s.content.survey.find(function(e){return e.name===i||e.$autoname===i});for(_.forEach(function(e,o){t=s.content.choices.find(function(t){return a&&t.list_name===a.select_from_list_name&&(t.name===e||t.$autoname==e)}),l[u].data.responseLabels[o]=t&&t.label&&t.label[r]?t.label[r]:e}),f=e.length-1;f>=0;f--)t=s.content.choices.find(function(t){return o&&t.list_name===o.select_from_list_name&&(t.name===e[f][0]||t.$autoname==e[f][0])}),e[f][2]=t&&t.label&&t.label[r]?t.label[r]:e[f][0]}}()}()},u=l.length-1;u>-1;u--){var p,m,_,f;c()}return n.a.createElement("div",null,l.map(function(o,a){var s=t("Unlabeled");return d.default.isArray(o.row.label)?s=o.row.label[r]:d.default.isString(o.row.label)&&(s=o.row.label),!!o.data.provided&&n.a.createElement(b.a.ReportView__item,{key:a},n.a.createElement(q,G({},o,{label:s,triggerQuestionSettings:e.props.triggerQuestionSettings})))}))}}]),o}(),le=function(e){J(o,n.a.Component);var r=X(o);function o(e){var t;return Q(this,o),t=r.call(this,e),c()(Z(t)),t.state={activeModalTab:0,reportStyle:e.parentState.reportStyles.default},e.parentState.currentCustomReport&&e.parentState.currentCustomReport.reportStyle&&(t.state.reportStyle=e.parentState.currentCustomReport.reportStyle),t}return K(o,[{key:"toggleTab",value:function(e){var t=e.target.getAttribute("data-index");this.setState({activeModalTab:parseInt(t)})}},{key:"reportStyleChange",value:function(e,t){var r=this.state.reportStyle;Object(Y.assign)(r,t),this.setState({reportStyle:r})}},{key:"reportSizeChange",value:function(e){if("width"==e.id){var t=this.state.reportStyle;t.graphWidth=e.value,this.setState({reportStyle:t})}}},{key:"translationIndexChange",value:function(e,t){var r=this.state.reportStyle;r.translationIndex=parseInt(t),this.setState({reportStyle:r})}},{key:"onGroupByChange",value:function(e,t){var r=this.state.reportStyle;r.groupDataBy=t,this.setState({reportStyle:r})}},{key:"saveReportStyles",value:function(){var e=this.props.parentState.currentCustomReport,t=this.props.parentState.asset.uid;if(e){var r=this.props.parentState.asset.report_custom;r[e.crid].reportStyle=this.state.reportStyle,h.a.reports.setCustom(t,r)}else{var o=this.props.parentState.reportStyles;Object(Y.assign)(o.default,this.state.ReportStyle),h.a.reports.setStyle(t,o)}}},{key:"render",value:function(){this.props.parentState.asset,this.props.parentState.rowsByKuid;var e=this.props.parentState.rowsByIdentifier||{},r=this.props.parentState.translations,o=this.state.reportStyle,a=[];for(var s in a.push({value:"",label:t("No grouping")}),e)if(e.hasOwnProperty(s)&&e[s].hasOwnProperty("type")&&"select_one"==e[s].type){var i=e[s],l=i.name||i.$autoname,c=r?i.label[o.translationIndex]:i.label;a.push({value:l,label:c})}var u=[t("Chart Type"),t("Colors")];a.length>1&&u.push(t("Group By"));var p=[];r&&(u.push(t("Translation")),this.props.parentState.asset.content.translations.map(function(e,r){p.push({value:r,label:e||t("Unnamed language")})}));var d=u.map(function(e,t){return n.a.createElement("button",{className:"mdl-button mdl-button--tab ".concat(this.state.activeModalTab===t?"active":""),onClick:this.toggleTab,"data-index":t,key:t},e)},this);return n.a.createElement(b.a.GraphSettings,null,n.a.createElement(v.a.Modal.Tabs,null,d),n.a.createElement(v.a.Modal.Body,null,n.a.createElement("div",{className:"tabs-content"},u[this.state.activeModalTab]===t("Chart Type")&&n.a.createElement("div",{id:"graph-type"},n.a.createElement(re,{defaultStyle:o,onChange:this.reportStyleChange})),u[this.state.activeModalTab]===t("Colors")&&n.a.createElement("div",{id:"graph-colors"},n.a.createElement(ae,{defaultStyle:o,onChange:this.reportStyleChange})),u[this.state.activeModalTab]===t("Group By")&&a.length>1&&n.a.createElement("div",{className:"graph-tab__groupby",id:"graph-labels"},n.a.createElement(f.a,{name:"reports-groupby",options:a,onChange:this.onGroupByChange,selected:o.groupDataBy})),u[this.state.activeModalTab]===t("Translation")&&p.length>1&&n.a.createElement("div",{className:"graph-tab__translation",id:"graph-labels"},n.a.createElement(f.a,{name:"reports-selected-translation",options:p,onChange:this.translationIndexChange,selected:o.translationIndex}))),n.a.createElement(v.a.Modal.Footer,null,n.a.createElement(b.a.KoboButton,{m:"blue",onClick:this.saveReportStyles},t("Save")))))}}]),o}(),ce=function(e){J(o,n.a.Component);var r=X(o);function o(e){var t;return Q(this,o),(t=r.call(this,e)).state={graphWidth:"700",graphHeight:"250",translations:!1,activeModalTab:0,error:!1,isFullscreen:!1,reportLimit:200,customReports:!1,showReportGraphSettings:!1,showCustomReportModal:!1,currentCustomReport:!1,currentQuestionGraph:!1,groupBy:""},c()(Z(t)),t}return K(o,[{key:"componentDidMount",value:function(){this.loadReportData(),this.listenTo(h.a.reports.setStyle,this.reportStyleListener),this.listenTo(h.a.reports.setCustom,this.reportCustomListener)}},{key:"componentDidUpdate",value:function(e,t){this.state.currentCustomReport!=t.currentCustomReport&&this.refreshReportData(),this.state.groupBy!=t.groupBy&&this.refreshReportData()}},{key:"loadReportData",value:function(){var e=this,r=this.props.params.assetid||this.props.params.uid;g.a.allAssets.whenLoaded(r,function(o){var a={},n={},s="",i=o.report_styles,l=o.report_custom;e.state.currentCustomReport&&e.state.currentCustomReport.reportStyle&&e.state.currentCustomReport.reportStyle.groupDataBy?s=e.state.currentCustomReport.reportStyle.groupDataBy:void 0!==i.default.groupDataBy&&(s=i.default.groupDataBy),void 0===i.default.report_type&&(i.default.report_type=R.REPORT_STYLES.vertical.value),void 0===i.default.translationIndex&&(i.default.translationIndex=0),void 0===i.default.groupDataBy&&(i.default.groupDataBy=""),null!=o.content.survey?(o.content.survey.forEach(function(e){e.$kuid&&(a[e.$kuid]=e);var t=e.$autoname||e.name;n[t]=e}),m.a.getReportData({uid:r,identifiers:[],group_by:s}).done(function(r){var c=[];r.list.forEach(function(e){(e.data.responses||e.data.values||e.data.mean)&&(void 0!==n[e.name]?e.row.label=n[e.name].label:void 0!==e.name?e.row.label=e.name:e.row.label=t("untitled"),c.push(e))}),e.setState({asset:o,rowsByKuid:a,rowsByIdentifier:n,reportStyles:i,reportData:c,reportCustom:l,translations:o.content.translations.length>1,groupBy:s,error:!1})}).fail(function(r){s&&s.length>0&&!e.state.currentCustomReport&&void 0!==i.default.groupDataBy?(i.default.groupDataBy="",e.setState({reportStyles:i}),S.a.error(t('Could not load grouped results via "##". Will attempt to load the ungrouped report.').replace("##",s)),e.loadReportData()):e.setState({error:r,asset:o})})):console.error("Survey not defined.")})}},{key:"refreshReportData",value:function(){var e=this,r=this.props.params.assetid||this.props.params.uid,o=this.state.rowsByIdentifier,a=this.state.currentCustomReport,n="";a||void 0===this.state.reportStyles.default.groupDataBy||(n=this.state.reportStyles.default.groupDataBy),a&&a.reportStyle&&a.reportStyle.groupDataBy&&(n=this.state.currentCustomReport.reportStyle.groupDataBy),m.a.getReportData({uid:r,identifiers:[],group_by:n}).done(function(r){var a=[];r.list.forEach(function(e){(e.data.responses||e.data.values||e.data.mean)&&(void 0!==o[e.name]?e.row.label=o[e.name].label:void 0!==e.name?e.row.label=e.name:e.row.label=t("untitled"),a.push(e))}),e.setState({reportData:a,error:!1})}).fail(function(r){S.a.error(t("Could not refresh report.")),e.setState({error:r})})}},{key:"reportStyleListener",value:function(e,t){this.setState({reportStyles:t,showReportGraphSettings:!1,currentQuestionGraph:!1,groupBy:t.default.groupDataBy})}},{key:"reportCustomListener",value:function(e,t){var r=this.state.currentCustomReport.crid;t[r]?this.setState({reportCustom:t,showCustomReportModal:!1,showReportGraphSettings:!1,currentQuestionGraph:!1,groupBy:!(!t[r].reportStyle||!t[r].reportStyle.groupDataBy)&&t[r].reportStyle.groupDataBy}):this.setState({reportCustom:t,showCustomReportModal:!1,showReportGraphSettings:!1,currentQuestionGraph:!1,currentCustomReport:!1,groupBy:!(!te.default||!te.default.groupDataBy)&&te.default.groupDataBy})}},{key:"toggleReportGraphSettings",value:function(){this.setState({showReportGraphSettings:!this.state.showReportGraphSettings})}},{key:"hasAnyProvidedData",value:function(e){var t=!1;return e.map(function(e,r){e.data.provided&&(t=!0)}),t}},{key:"setCustomReport",value:function(e){var t,r=!!e&&e.target.getAttribute("data-crid");this.state.showCustomReportModal||(t=r?this.state.reportCustom[r]:{crid:Object(E.txtid)(),name:"",questions:[]},this.setState({currentCustomReport:t}))}},{key:"editCustomReport",value:function(){this.state.currentCustomReport&&this.setState({showCustomReportModal:!0})}},{key:"toggleCustomReportModal",value:function(){if(this.state.showCustomReportModal){if(this.state.currentCustomReport){var e=this.state.currentCustomReport.crid;null==this.state.reportCustom[e]&&this.triggerDefaultReport()}}else this.setCustomReport();this.setState({showCustomReportModal:!this.state.showCustomReportModal})}},{key:"triggerDefaultReport",value:function(){this.setState({currentCustomReport:!1})}},{key:"toggleFullscreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen})}},{key:"renderReportButtons",value:function(){var e=this.state.reportCustom||{},r=[];for(var o in e)e[o]&&e[o].crid&&r.push(e[o]);r.sort(function(e,t){return e.name.localeCompare(t.name)});var a=this;return n.a.createElement(b.a.FormView__reportButtons,null,n.a.createElement(v.a.PopoverMenu,{type:"custom-reports",triggerLabel:this.state.currentCustomReport?this.state.currentCustomReport.name||t("Untitled Report"):t("Custom Reports")},n.a.createElement(b.a.PopoverMenu__link,{key:"default","data-name":"",onClick:this.triggerDefaultReport,className:this.state.currentCustomReport?"":"active"},t("Default Report")),r.map(function(e){return n.a.createElement(b.a.PopoverMenu__link,{key:e.crid,"data-crid":e.crid,onClick:a.setCustomReport,className:a.state.currentCustomReport&&a.state.currentCustomReport.crid==e.crid?"active":""},e.name||t("Untitled report"))}),this.userCan("change_asset",this.state.asset)&&n.a.createElement(b.a.PopoverMenu__link,{key:"new",onClick:this.toggleCustomReportModal},t("Create New Report"))),this.state.currentCustomReport&&n.a.createElement(b.a.Button,{m:"icon",className:"report-button__edit",onClick:this.editCustomReport,"data-tip":t("Edit Report Questions")},n.a.createElement("i",{className:"k-icon-edit"})),n.a.createElement(b.a.Button,{m:"icon",className:"report-button__expand right-tooltip",onClick:this.toggleFullscreen,"data-tip":t("Toggle fullscreen")},n.a.createElement("i",{className:"k-icon-expand"})),n.a.createElement(b.a.Button,{m:"icon",className:"report-button__print",onClick:Y.launchPrinting,"data-tip":t("Print")},n.a.createElement("i",{className:"k-icon-print"})),this.userCan("change_asset",this.state.asset)&&n.a.createElement(b.a.Button,{m:"icon",className:"report-button__settings",onClick:this.toggleReportGraphSettings,"data-tip":t("Configure Report Style")},n.a.createElement("i",{className:"k-icon-settings"})))}},{key:"renderCustomReportModal",value:function(){return n.a.createElement(b.a.GraphSettings,null,n.a.createElement(v.a.Modal.Body,null,n.a.createElement(ne,{reportData:this.state.reportData,customReport:this.state.currentCustomReport,asset:this.state.asset})))}},{key:"resetReportLimit",value:function(){this.setState({reportLimit:!1})}},{key:"triggerQuestionSettings",value:function(e){var t=e.target.getAttribute("data-question");t&&this.setState({currentQuestionGraph:t})}},{key:"renderQuestionSettings",value:function(){return n.a.createElement(b.a.GraphSettings,null,n.a.createElement(v.a.Modal.Body,null))}},{key:"closeQuestionSettings",value:function(){this.setState({currentQuestionGraph:!1})}},{key:"render",value:function(){if(!this.state.asset)return n.a.createElement(b.a.Loading,null,this.state.error?n.a.createElement(b.a.Loading__inner,null,t("This report cannot be loaded."),n.a.createElement("br",null),n.a.createElement("code",null,this.state.error.statusText+": "+this.state.error.responseText)):n.a.createElement(b.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")));var e,r=this.state.asset,o=this.state.currentCustomReport;this.state.rowsByKuid,r&&r.content&&(e=r.name||t("Untitled"));var a=this.state.reportData||[];if(a.length){if(o&&o.questions.length){var s=o.questions;a=this.state.reportData.filter(function(e){return s.includes(e.name)})}this.state.reportLimit&&a.length>this.state.reportLimit&&(a=a.slice(0,this.state.reportLimit))}if(void 0===this.state.reportData)return n.a.createElement(b.a.Loading,null,this.state.error?n.a.createElement(b.a.Loading__inner,null,t("This report cannot be loaded."),n.a.createElement("br",null),n.a.createElement("code",null,this.state.error.statusText+": "+this.state.error.responseText)):n.a.createElement(b.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")));var i=[];this.state.isFullscreen&&i.push("fullscreen");var l=this.hasAnyProvidedData(a),c=0!==this.state.groupBy.length;return n.a.createElement(k.a,{title:"".concat(e," | KoboToolbox")},n.a.createElement(b.a.FormView,{m:i},n.a.createElement(b.a.ReportView,null,this.renderReportButtons(),!l&&n.a.createElement(b.a.ReportView__wrap,null,n.a.createElement(b.a.Loading,null,n.a.createElement(b.a.Loading__inner,null,t("This report has no data."),c&&" "+t('Try changing Report Style to "No grouping".')))),l&&n.a.createElement(b.a.ReportView__wrap,null,n.a.createElement(b.a.PrintOnly,null,n.a.createElement("h3",null,r.name)),!this.state.currentCustomReport&&this.state.reportLimit&&a.length&&this.state.reportData.length>this.state.reportLimit&&n.a.createElement(b.a.FormView__cell,{m:["centered","reportLimit"]},n.a.createElement("div",null,t("For performance reasons, this report only includes the first ## questions.").replace("##",this.state.reportLimit)),n.a.createElement(b.a.Button,{m:"colored",onClick:this.resetReportLimit},t("Show all (##)").replace("##",this.state.reportData.length))),n.a.createElement(b.a.FormView__cell,{m:"warning"},n.a.createElement("i",{className:"k-icon-alert"}),n.a.createElement("p",null,t("This is an automated report based on raw data submitted to this project. Please conduct proper data cleaning prior to using the graphs and figures used on this page. "))),n.a.createElement(ie,{parentState:this.state,reportData:a,triggerQuestionSettings:this.triggerQuestionSettings})),this.state.showReportGraphSettings&&n.a.createElement(v.a.Modal,{open:!0,onClose:this.toggleReportGraphSettings,title:t("Edit Report Style")},n.a.createElement(le,{parentState:this.state})),this.state.showCustomReportModal&&n.a.createElement(v.a.Modal,{open:!0,onClose:this.toggleCustomReportModal,title:t("Custom Report")},this.renderCustomReportModal()),this.state.currentQuestionGraph&&n.a.createElement(v.a.Modal,{open:!0,onClose:this.closeQuestionSettings,title:t("Question Style")},n.a.createElement(se,{question:this.state.currentQuestionGraph,parentState:this.state})))))}}]),o}();i()(ce.prototype,y.a.permissions),i()(ce.prototype,p.a.ListenerMixin);var ue=ce;r.a=ue,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(te,"reportStyles","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reports.es6"),__REACT_HOT_LOADER__.register(re,"ChartTypePicker","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reports.es6"),__REACT_HOT_LOADER__.register(oe,"reportColorSets","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reports.es6"),__REACT_HOT_LOADER__.register(ae,"ChartColorsPicker","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reports.es6"),__REACT_HOT_LOADER__.register(ne,"CustomReportForm","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reports.es6"),__REACT_HOT_LOADER__.register(se,"QuestionGraphSettings","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reports.es6"),__REACT_HOT_LOADER__.register(ie,"ReportContents","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reports.es6"),__REACT_HOT_LOADER__.register(le,"ReportStyleSettings","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reports.es6"),__REACT_HOT_LOADER__.register(ce,"Reports","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reports.es6"),__REACT_HOT_LOADER__.register(ue,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/reports.es6"))},489:function(e,t,r){"use strict";r.r(t),function(e){var t=r(382),o=r(481),a=r(482),n=r(483),s=r(311),i=(r(572),r(0)),l=r.n(i),c=r(149),u=r(33);r(758);var p,d=(p=e("<div>",{class:"kpiapp"}),e("body").prepend(p),p.get(0)),m=new c.a;function _(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}e.ajaxSetup({beforeSend:function(e,t){var r="";try{r=document.cookie.match(/csrftoken=(\w{64})/)[1]}catch(e){console.error("Cookie not matched")}_(t.type)||this.crossDomain||e.setRequestHeader("X-CSRFToken",r||m.get("csrftoken"))}}),document.head.querySelector("meta[name=kpi-root-path]")?Object(u.render)(l.a.createElement(t.a,{routes:t.b}),d):console.error("no kpi-root-path meta tag set. skipping react-router init"),document.addEventListener("DOMContentLoaded",function(e){var t=document.getElementById("registration-password-app");t&&Object(u.render)(l.a.createElement(s.AppContainer,null,l.a.createElement(o.a,null)),t)}),document.addEventListener("DOMContentLoaded",function(e){var t=document.getElementById("location-update");t&&Object(u.render)(l.a.createElement(s.AppContainer,null,l.a.createElement(a.a,null)),t)}),document.addEventListener("DOMContentLoaded",function(e){var t=document.getElementById("staff-role");t&&Object(u.render)(l.a.createElement(s.AppContainer,null,l.a.createElement(n.a,null)),t)}),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"el","/home/sujit/projects/ndrrma/survey/source/jsapp/js/main.es6"),__REACT_HOT_LOADER__.register(m,"cookies","/home/sujit/projects/ndrrma/survey/source/jsapp/js/main.es6"),__REACT_HOT_LOADER__.register(_,"csrfSafeMethod","/home/sujit/projects/ndrrma/survey/source/jsapp/js/main.es6"))}.call(this,r(19))},5:function(e,r,o){"use strict";o.d(r,"a",function(){return T});var a=o(14),n=o.n(a),s=o(7),i=o.n(s);function l(e,t){var r=e.utils;return{triggerPromise:function(){var e=this,o=arguments,a=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0,n=new t(function(t,n){if(e.willCallPromise)r.nextTick(function(){var r=e.promise;e.promise=function(o){return o.then(t,n),e.promise=r,e.promise.apply(e,arguments)},e.trigger.apply(e,o)});else{if(a)var s=e.completed.listen(function(){var e=Array.prototype.slice.call(arguments);s(),i(),t(e.length>1?e:e[0])}),i=e.failed.listen(function(){var e=Array.prototype.slice.call(arguments);s(),i(),n(e.length>1?e:e[0])});r.nextTick(function(){e.trigger.apply(e,o)}),a||t()}});return n.catch(function(){}),n},promise:function(e){var t=this;if(!(this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0))throw new Error('Publisher must have "completed" and "failed" child publishers');e.then(function(e){return t.completed(e)},function(e){return t.failed(e)})},listenAndPromise:function(e,t){var r=this;t=t||this,this.willCallPromise=(this.willCallPromise||0)+1;var o=this.listen(function(){if(!e)throw new Error("Expected a function returning a promise but got "+e);var o=arguments,a=e.apply(t,o);return r.promise.call(r,a)},t);return function(){r.willCallPromise--,o.call(r)}}}}var c=function(e){return function(t){var r=l(t,e),o=r.triggerPromise,a=r.promise,n=r.listenAndPromise;t.PublisherMethods.triggerAsync=o,t.PublisherMethods.promise=a,t.PublisherMethods.listenAndPromise=n}},u=c,p=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"createFunctions","/home/sujit/projects/ndrrma/survey/source/jsapp/js/libs/reflux-promise.js"),__REACT_HOT_LOADER__.register(c,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/libs/reflux-promise.js")),o(8)),d=o(3),m=o(2),_=o(20);i.a.use(u(window.Promise));var f=i.a.createActions({getConfig:{children:["completed","failed"]},getAssetPermissions:{children:["completed","failed"]},bulkSetAssetPermissions:{children:["completed","failed"]},assignAssetPermission:{children:["completed","failed"]},removeAssetPermission:{children:["completed","failed"]},setAssetPublic:{children:["completed","failed"]},copyPermissionsFrom:{children:["completed","failed"]}});f.getConfig.listen(function(){p.a.getPermissionsConfig().done(f.getConfig.completed).fail(f.getConfig.failed)}),f.getAssetPermissions.listen(function(e){p.a.getAssetPermissions(e).done(f.getAssetPermissions.completed).fail(f.getAssetPermissions.failed)}),f.bulkSetAssetPermissions.listen(function(e,t){p.a.bulkSetAssetPermissions(e,t).done(function(e){f.bulkSetAssetPermissions.completed(e)}).fail(function(){f.getAssetPermissions(e),f.bulkSetAssetPermissions.failed()})}),f.assignAssetPermission.listen(function(e,t){p.a.assignAssetPermission(e,t).done(function(){f.getAssetPermissions(e),f.assignAssetPermission.completed(e)}).fail(function(){f.getAssetPermissions(e),f.assignAssetPermission.failed(e)})}),f.removeAssetPermission.listen(function(e,t){p.a.removePermission(t).done(function(){f.getAssetPermissions(e),f.removeAssetPermission.completed(e)}).fail(function(){f.getAssetPermissions(e),f.removeAssetPermission.failed(e)})}),f.setAssetPublic.listen(function(e,t){if(t){var r=e.permissions.filter(function(t){return t.user!==e.owner});r.push({user:Object(d.buildUserUrl)(m.ANON_USERNAME),permission:_.a.getPermissionByCodename(m.PERMISSIONS_CODENAMES.view_asset).url}),r.push({user:Object(d.buildUserUrl)(m.ANON_USERNAME),permission:_.a.getPermissionByCodename(m.PERMISSIONS_CODENAMES.discover_asset).url}),p.a.bulkSetAssetPermissions(e.uid,r).done(function(){f.setAssetPublic.completed(e.uid,t)}).fail(function(){f.setAssetPublic.failed(e.uid,t)})}else{var o=e.permissions.find(function(e){return e.user===Object(d.buildUserUrl)(m.ANON_USERNAME)&&e.permission===_.a.getPermissionByCodename(m.PERMISSIONS_CODENAMES.view_asset).url});p.a.removePermission(o.url).done(function(){f.setAssetPublic.completed(e.uid,t)}).fail(function(){f.setAssetPublic.failed(e.uid,t)})}}),f.copyPermissionsFrom.listen(function(e,t){p.a.copyPermissionsFrom(e,t).done(function(){f.getAssetPermissions(t),f.copyPermissionsFrom.completed(e,t)}).fail(f.copyPermissionsFrom.failed)}),"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(f,"permissionsActions","/home/sujit/projects/ndrrma/survey/source/jsapp/js/actions/permissions.es6");var h=i.a.createActions({getInAppMessages:{children:["completed","failed"]},setMessageAcknowledged:{children:["completed","failed"]},setMessageReadTime:{children:["completed","failed"]}});h.getInAppMessages.listen(function(){p.a.getHelpInAppMessages().done(h.getInAppMessages.completed).fail(h.getInAppMessages.failed)}),h.getInAppMessages.failed.listen(function(){Object(d.notify)(t("Failed to get in app messages."),"error")}),h.setMessageReadTime.listen(function(e,t){p.a.patchHelpInAppMessage(e,{interactions:{readTime:t,acknowledged:!0}}).done(h.setMessageReadTime.completed).fail(h.setMessageReadTime.failed)}),h.setMessageReadTime.failed.listen(function(){Object(d.notify)(t("Failed to set message readTime."),"error")}),h.setMessageAcknowledged.listen(function(e,t){p.a.patchHelpInAppMessage(e,{interactions:{acknowledged:t}}).done(h.setMessageAcknowledged.completed).fail(h.setMessageAcknowledged.failed)}),h.setMessageAcknowledged.failed.listen(function(){Object(d.notify)(t("Failed to set message acknowledged."),"error")}),"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(h,"helpActions","/home/sujit/projects/ndrrma/survey/source/jsapp/js/actions/help.es6");var b=i.a.createActions({searchMyCollectionAssets:{children:["started","completed","failed"]},searchMyLibraryAssets:{children:["started","completed","failed"]},searchMyCollectionMetadata:{children:["completed","failed"]},searchMyLibraryMetadata:{children:["completed","failed"]},searchPublicCollections:{children:["started","completed","failed"]},searchPublicCollectionsMetadata:{children:["completed","failed"]},subscribeToCollection:{children:["completed","failed"]},unsubscribeFromCollection:{children:["completed","failed"]},moveToCollection:{children:["completed","failed"]},getCollections:{children:["completed","failed"]}});b.searchMyCollectionAssets.listen(function(e){var t=p.a.searchMyCollectionAssets(e).done(b.searchMyCollectionAssets.completed).fail(b.searchMyCollectionAssets.failed);b.searchMyCollectionAssets.started(t.abort)}),b.searchMyLibraryAssets.listen(function(e){var t=p.a.searchMyLibraryAssets(e).done(b.searchMyLibraryAssets.completed).fail(b.searchMyLibraryAssets.failed);b.searchMyLibraryAssets.started(t.abort)}),b.searchMyCollectionMetadata.listen(function(e){p.a.searchMyCollectionMetadata(e).done(b.searchMyCollectionMetadata.completed).fail(b.searchMyCollectionMetadata.failed)}),b.searchMyLibraryMetadata.listen(function(e){p.a.searchMyLibraryMetadata(e).done(b.searchMyLibraryMetadata.completed).fail(b.searchMyLibraryMetadata.failed)}),b.searchPublicCollections.listen(function(e){var t=p.a.searchPublicCollections(e).done(b.searchPublicCollections.completed).fail(b.searchPublicCollections.failed);b.searchPublicCollections.started(t.abort)}),b.searchPublicCollectionsMetadata.listen(function(e){p.a.searchPublicCollectionsMetadata(e).done(b.searchPublicCollectionsMetadata.completed).fail(b.searchPublicCollectionsMetadata.failed)}),b.subscribeToCollection.listen(function(e){p.a.subscribeToCollection(e).done(b.subscribeToCollection.completed).fail(b.subscribeToCollection.failed)}),b.unsubscribeFromCollection.listen(function(e){p.a.unsubscribeFromCollection(e).done(b.unsubscribeFromCollection.completed).fail(b.unsubscribeFromCollection.failed)}),b.moveToCollection.listen(function(e,t){p.a.patchAsset(e,{parent:t}).done(b.moveToCollection.completed).fail(b.moveToCollection.failed)}),b.getCollections.listen(function(e){p.a.getCollections(e).done(b.getCollections.completed).fail(b.getCollections.failed)}),b.moveToCollection.completed.listen(function(e){null===e.parent?Object(d.notify)(t("Successfuly removed from collection")):Object(d.notify)(t("Successfuly moved to collection"))}),b.moveToCollection.failed.listen(function(){Object(d.notify)(t("Move to collection failed"),"error")});var g=function(e){"abort"!==e.statusText&&Object(d.notify)(e.responseJSON.detail||(t("Failed to get the results"),"error"))};b.searchMyLibraryAssets.failed.listen(g),b.searchMyLibraryMetadata.failed.listen(g),b.searchPublicCollections.failed.listen(g),b.searchPublicCollectionsMetadata.failed.listen(g);var v=b,y=v,w=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"libraryActions","/home/sujit/projects/ndrrma/survey/source/jsapp/js/actions/library.es6"),__REACT_HOT_LOADER__.register(g,"onAnySearchFailed","/home/sujit/projects/ndrrma/survey/source/jsapp/js/actions/library.es6"),__REACT_HOT_LOADER__.register(v,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/actions/library.es6")),i.a.createActions({bulkDeleteStatus:{children:["completed","failed"]},bulkPatchStatus:{children:["completed","failed"]},bulkPatchValues:{children:["completed","failed"]},bulkDelete:{children:["completed","failed"]}}));w.bulkDeleteStatus.listen(function(e,t){p.a.bulkRemoveSubmissionsValidationStatus(e,t).done(w.bulkDeleteStatus.completed).fail(w.bulkDeleteStatus.failed)}),w.bulkDeleteStatus.failed.listen(function(){Object(d.notify)(t("Failed to update submissions."),"error")}),w.bulkPatchStatus.listen(function(e,t){p.a.bulkPatchSubmissionsValidationStatus(e,t).done(w.bulkPatchStatus.completed).fail(w.bulkPatchStatus.failed)}),w.bulkPatchStatus.failed.listen(function(){Object(d.notify)(t("Failed to update submissions."),"error")}),w.bulkPatchValues.listen(function(e,t,r){p.a.bulkPatchSubmissionsValues(e,t,r).done(w.bulkPatchValues.completed).fail(w.bulkPatchValues.failed)}),w.bulkPatchValues.completed.listen(function(e){0!==e.failures&&Object(d.notify)(t("Failed to update some submissions values."),"error")}),w.bulkPatchValues.failed.listen(function(){Object(d.notify)(t("Failed to update submissions values."),"error")}),w.bulkDelete.listen(function(e,t){p.a.bulkDeleteSubmissions(e,t).done(w.bulkDelete.completed).fail(w.bulkDelete.failed)}),w.bulkDelete.failed.listen(function(){Object(d.notify)(t("Failed to delete submissions."),"error")});var k=w,E=k;function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,a=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(o=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){a=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(a)throw n}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(w,"submissionsActions","/home/sujit/projects/ndrrma/survey/source/jsapp/js/actions/submissions.es6"),__REACT_HOT_LOADER__.register(k,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/actions/submissions.es6")),i.a.use(u(window.Promise));var T={permissions:f,help:h,library:y,submissions:E};T.navigation=i.a.createActions(["transitionStart","transitionEnd","routeUpdate","documentTitleUpdate"]),T.auth=i.a.createActions({verifyLogin:{children:["loggedin","anonymous","failed"]},logout:{children:["completed","failed"]},changePassword:{children:["completed","failed"]},getEnvironment:{children:["completed","failed"]},getApiToken:{children:["completed","failed"]}}),T.survey=i.a.createActions({addExternalItemAtPosition:{children:["completed","failed"]}}),T.search=i.a.createActions({assets:{children:["completed","failed"]}}),T.resources=i.a.createActions({createImport:{children:["completed","failed"]},loadAsset:{children:["completed","failed"]},deployAsset:{children:["completed","failed"]},setDeploymentActive:{children:["completed","failed"]},createSnapshot:{children:["completed","failed"]},cloneAsset:{children:["completed","failed"]},deleteAsset:{children:["completed","failed"]},listTags:{children:["completed","failed"]},loadAssetSubResource:{children:["completed","failed"]},loadAssetContent:{children:["completed","failed"]},createResource:{asyncResult:!0},updateAsset:{asyncResult:!0},updateSubmissionValidationStatus:{children:["completed","failed"]},removeSubmissionValidationStatus:{children:["completed","failed"]},deleteSubmission:{children:["completed","failed"]},duplicateSubmission:{children:["completed","failed"]},refreshTableSubmissions:{children:["completed","failed"]},getAssetFiles:{children:["completed","failed"]},notFound:{}}),T.hooks=i.a.createActions({getAll:{children:["completed","failed"]},add:{children:["completed","failed"]},update:{children:["completed","failed"]},delete:{children:["completed","failed"]},getLogs:{children:["completed","failed"]},retryLog:{children:["completed","failed"]},retryLogs:{children:["completed","failed"]}}),T.misc=i.a.createActions({getUser:{children:["completed","failed"]},checkUsername:{asyncResult:!0,children:["completed","failed"]},updateProfile:{children:["completed","failed"]},getServerEnvironment:{children:["completed","failed"]}}),f.assignAssetPermission.failed.listen(function(){Object(d.notify)(t("Failed to update permissions"),"error")}),f.removeAssetPermission.failed.listen(function(){Object(d.notify)(t("Failed to remove permissions"),"error")}),f.bulkSetAssetPermissions.failed.listen(function(){Object(d.notify)(t("Failed to update permissions"),"error")}),f.assignAssetPermission.completed.listen(function(e){T.resources.loadAsset({id:e})}),f.copyPermissionsFrom.completed.listen(function(e,t){T.resources.loadAsset({id:t})}),f.setAssetPublic.completed.listen(function(e){T.resources.loadAsset({id:e})}),f.removeAssetPermission.completed.listen(function(e){T.resources.loadAsset({id:e})}),T.misc.getUser.listen(function(e){p.a.getUser(e).done(T.misc.getUser.completed).fail(T.misc.getUser.failed)}),T.misc.checkUsername.listen(function(e){p.a.queryUserExistence(e).done(T.misc.checkUsername.completed).fail(T.misc.checkUsername.failed)}),T.misc.updateProfile.listen(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.a.patchProfile(e).done(function(){var e;(e=T.misc.updateProfile).completed.apply(e,arguments),t.onComplete&&t.onComplete.apply(t,arguments)}).fail(function(){var e;(e=T.misc.updateProfile).failed.apply(e,arguments),t.onFail&&t.onFail.apply(t,arguments)})}),T.misc.updateProfile.completed.listen(function(){Object(d.notify)(t("updated profile successfully"))}),T.misc.updateProfile.failed.listen(function(e){for(var r=!1,o=0,a=Object.entries(e.responseJSON);o<a.length;o++){var n=x(a[o],2),s=n[0];n[1],"non_fields_error"!==s&&(r=!0)}r?Object(d.notify)(t("Some fields contain errors"),"error"):Object(d.notify)(t("failed to update profile"),"error")}),T.misc.getServerEnvironment.listen(function(){p.a.serverEnvironment().done(T.misc.getServerEnvironment.completed).fail(T.misc.getServerEnvironment.failed)}),T.resources.createImport.listen(function(e,t,r){p.a.createImport(e).done(function(e){T.resources.createImport.completed(e),"function"==typeof t&&t(e)}).fail(function(e){T.resources.createImport.failed(e),"function"==typeof r&&r(e)})}),T.resources.createSnapshot.listen(function(e){p.a.createAssetSnapshot(e).done(T.resources.createSnapshot.completed).fail(T.resources.createSnapshot.failed)}),T.resources.listTags.listen(function(e){p.a.listTags(e).done(T.resources.listTags.completed).fail(T.resources.listTags.failed)}),T.resources.listTags.completed.listen(function(e){e.next&&window.Raven&&Raven.captureMessage("MAX_TAGS_EXCEEDED: Too many tags")}),T.resources.updateAsset.listen(function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p.a.patchAsset(e,r).done(function(a){T.resources.updateAsset.completed(a),"function"==typeof o.onComplete&&o.onComplete(a,e,r),Object(d.notify)(t("successfully updated"))}).fail(function(e){T.resources.updateAsset.failed(e),o.onFailed&&o.onFailed(e)})}),T.resources.deployAsset.listen(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p.a.deployAsset(e,t).done(function(e){T.resources.deployAsset.completed(e.asset),"function"==typeof r.onDone&&r.onDone(e,t)}).fail(function(e){T.resources.deployAsset.failed(e,t),"function"==typeof r.onFail&&r.onFail(e,t)})}),T.resources.deployAsset.failed.listen(function(e,r){var o,a=null;e.responseJSON&&(e.responseJSON.xform_id_string||e.responseJSON.detail)?e.responseJSON.xform_id_string?a="\n      <p>".concat(t("your form id was not valid:"),"</p>\n      <p><pre>").concat(e.responseJSON.xform_id_string,"</pre></p>\n      <p>").concat(Object(d.replaceSupportEmail)(t("if this problem persists, contact help@kobotoolbox.org")),"</p>\n    "):e.responseJSON.detail&&(a="\n      <p>".concat(t("your form cannot be deployed because it contains errors:"),"</p>\n      <p><pre>").concat(e.responseJSON.detail,"</pre></p>\n    ")):(o=500==e.status&&e.responseJSON&&e.responseJSON.error?"<pre>".concat(e.responseJSON.error,"</pre>"):500==e.status&&e.responseText?"<pre>".concat(e.responseText,"</pre>"):t("please check your connection and try again."),a="\n      <p>".concat(Object(d.replaceSupportEmail)(t("if this problem persists, contact help@kobotoolbox.org")),"</p>\n      <p>").concat(o,"</p>\n    ")),n.a.alert(t("unable to deploy"),a)}),T.resources.setDeploymentActive.listen(function(e){p.a.setDeploymentActive(e).done(function(e){T.resources.setDeploymentActive.completed(e.asset)}).fail(T.resources.setDeploymentActive.failed)}),T.resources.setDeploymentActive.completed.listen(function(e){e.deployment__active?Object(d.notify)(t("Project unarchived successfully")):Object(d.notify)(t("Project archived successfully"))}),T.resources.getAssetFiles.listen(function(e){p.a.getAssetFiles(e).done(T.resources.getAssetFiles.completed).fail(T.resources.getAssetFiles.failed)}),T.reports=i.a.createActions({setStyle:{children:["completed","failed"]},setCustom:{children:["completed","failed"]}}),T.reports.setStyle.listen(function(e,t){p.a.patchAsset(e,{report_styles:JSON.stringify(t)}).done(function(e){T.reports.setStyle.completed(e),T.resources.updateAsset.completed(e)}).fail(T.reports.setStyle.failed)}),T.reports.setCustom.listen(function(e,t){p.a.patchAsset(e,{report_custom:JSON.stringify(t)}).done(function(e){T.reports.setCustom.completed(e),T.resources.updateAsset.completed(e)}).fail(T.reports.setCustom.failed)}),T.table=i.a.createActions({updateSettings:{children:["completed","failed"]}}),T.table.updateSettings.listen(function(e,t){p.a.patchAsset(e,{settings:JSON.stringify(t)}).done(function(e){T.table.updateSettings.completed(e),T.resources.updateAsset.completed(e)}).fail(T.table.updateSettings.failed)}),T.map=i.a.createActions({setMapStyles:{children:["started","completed","failed"]}}),T.map.setMapStyles.listen(function(e,t){p.a.patchAsset(e,{map_styles:JSON.stringify(t)}).done(function(e){T.map.setMapStyles.completed(e),T.resources.updateAsset.completed(e)}).fail(T.map.setMapStyles.failed),T.map.setMapStyles.started(e,t)}),T.resources.createResource.listen(function(e){p.a.createResource(e).done(function(e){T.resources.createResource.completed(e)}).fail(function(){var e;(e=T.resources.createResource).failed.apply(e,arguments)})}),T.resources.deleteAsset.listen(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.a.deleteAsset(e).done(function(){T.resources.deleteAsset.completed(e),"function"==typeof r.onComplete&&r.onComplete(e)}).fail(function(r){T.resources.deleteAsset.failed(e),n.a.alert(t("Unable to delete asset!"),"<p>".concat(t("Error details:"),"</p><pre style='max-height: 200px;'>").concat(r.responseText,"</pre>"))})}),T.resources.cloneAsset.listen(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.a.cloneAsset(e).done(function(e){T.resources.cloneAsset.completed(e),"function"==typeof t.onComplete&&t.onComplete(e)}).fail(T.resources.cloneAsset.failed)}),T.resources.cloneAsset.failed.listen(function(){Object(d.notify)(t("Could not create project!"),"error")}),T.search.assets.listen(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.a.searchAssets(e).done(function(r){T.search.assets.completed(e,r),"function"==typeof t.onComplete&&t.onComplete(e,r)}).fail(function(r){T.search.assets.failed(e,r),"function"==typeof t.onFailed&&t.onFailed(e,r)})}),T.auth.logout.completed.listen(function(){window.setTimeout(function(){window.location.replace("","")},1)}),T.auth.logout.listen(function(){p.a.logout().done(T.auth.logout.completed).fail(function(){console.error("logout failed for some reason. what should happen now?")})}),T.auth.verifyLogin.listen(function(){p.a.selfProfile().done(function(e){e.username?T.auth.verifyLogin.loggedin(e):T.auth.verifyLogin.anonymous(e)}).fail(T.auth.verifyLogin.failed)}),T.auth.changePassword.listen(function(e,t){p.a.patchProfile({current_password:e,new_password:t}).done(T.auth.changePassword.completed).fail(T.auth.changePassword.failed)}),T.auth.changePassword.completed.listen(function(){Object(d.notify)(t("changed password successfully"))}),T.auth.changePassword.failed.listen(function(){Object(d.notify)(t("failed to change password"),"error")}),T.auth.getEnvironment.listen(function(){p.a.environment().done(function(e){T.auth.getEnvironment.completed(e)}).fail(T.auth.getEnvironment.failed)}),T.auth.getEnvironment.failed.listen(function(){Object(d.notify)(t("failed to load environment data"),"error")}),T.auth.getApiToken.listen(function(){p.a.apiToken().done(function(e){T.auth.getApiToken.completed(e.token)}).fail(T.auth.getApiToken.failed)}),T.auth.getApiToken.failed.listen(function(){Object(d.notify)(t("failed to load API token"),"error")}),T.resources.loadAsset.listen(function(e){p.a.getAsset(e).done(T.resources.loadAsset.completed).fail(T.resources.loadAsset.failed)}),T.resources.loadAssetContent.listen(function(e){p.a.getAssetContent(e).done(T.resources.loadAssetContent.completed).fail(T.resources.loadAssetContent.failed)}),T.resources.updateSubmissionValidationStatus.listen(function(e,t,r){p.a.updateSubmissionValidationStatus(e,t,r).done(function(e){T.resources.updateSubmissionValidationStatus.completed(e,t)}).fail(function(e){console.error(e),T.resources.updateSubmissionValidationStatus.failed(e)})}),T.resources.removeSubmissionValidationStatus.listen(function(e,t){p.a.removeSubmissionValidationStatus(e,t).done(function(e){T.resources.removeSubmissionValidationStatus.completed(e,t)}).fail(function(e){console.error(e),T.resources.removeSubmissionValidationStatus.failed(e)})}),T.resources.deleteSubmission.listen(function(e,r){p.a.deleteSubmission(e,r).done(function(){Object(d.notify)(t("submission deleted")),T.resources.deleteSubmission.completed(),T.resources.loadAsset({id:e})}).fail(function(){n.a.error(t("failed to delete submission")),T.resources.deleteSubmission.failed()})}),T.resources.duplicateSubmission.listen(function(e,r,o){p.a.duplicateSubmission(e,r).done(function(r){Object(d.notify)(t("Successfully duplicated submission")),T.resources.duplicateSubmission.completed(e,r._id,o),T.resources.loadAsset({id:e})}).fail(function(e){n.a.error(t("Failed to duplciate submisson")),T.resources.duplicateSubmission.failed(e)})}),T.hooks.getAll.listen(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.a.getHooks(e).done(function(){var e;(e=T.hooks.getAll).completed.apply(e,arguments),"function"==typeof t.onComplete&&t.onComplete.apply(t,arguments)}).fail(function(){var e;(e=T.hooks.getAll).failed.apply(e,arguments),"function"==typeof t.onFail&&t.onFail.apply(t,arguments)})}),T.hooks.add.listen(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p.a.addExternalService(e,t).done(function(){var t;T.hooks.getAll(e),(t=T.hooks.add).completed.apply(t,arguments),"function"==typeof r.onComplete&&r.onComplete.apply(r,arguments)}).fail(function(){var e;(e=T.hooks.add).failed.apply(e,arguments),"function"==typeof r.onFail&&r.onFail.apply(r,arguments)})}),T.hooks.add.completed.listen(function(e){Object(d.notify)(t("REST Service added successfully"))}),T.hooks.add.failed.listen(function(e){Object(d.notify)(t("Failed adding REST Service"),"error")}),T.hooks.update.listen(function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};p.a.updateExternalService(e,t,r).done(function(){var t;T.hooks.getAll(e),(t=T.hooks.update).completed.apply(t,arguments),"function"==typeof o.onComplete&&o.onComplete.apply(o,arguments)}).fail(function(){var e;(e=T.hooks.update).failed.apply(e,arguments),"function"==typeof o.onFail&&o.onFail.apply(o,arguments)})}),T.hooks.update.completed.listen(function(){Object(d.notify)(t("REST Service updated successfully"))}),T.hooks.update.failed.listen(function(){n.a.error(t("Failed saving REST Service"))}),T.hooks.delete.listen(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p.a.deleteExternalService(e,t).done(function(){var t;T.hooks.getAll(e),(t=T.hooks.delete).completed.apply(t,arguments),"function"==typeof r.onComplete&&r.onComplete.apply(r,arguments)}).fail(function(){var e;(e=T.hooks.delete).failed.apply(e,arguments),"function"==typeof r.onFail&&r.onFail.apply(r,arguments)})}),T.hooks.delete.completed.listen(function(e){Object(d.notify)(t("REST Service deleted permanently"))}),T.hooks.delete.failed.listen(function(e){Object(d.notify)(t("Could not delete REST Service"),"error")}),T.hooks.getLogs.listen(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p.a.getHookLogs(e,t).done(function(){var e;(e=T.hooks.getLogs).completed.apply(e,arguments),"function"==typeof r.onComplete&&r.onComplete.apply(r,arguments)}).fail(function(){var e;(e=T.hooks.getLogs).failed.apply(e,arguments),"function"==typeof r.onFail&&r.onFail.apply(r,arguments)})}),T.hooks.retryLog.listen(function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};p.a.retryExternalServiceLog(e,t,r).done(function(){var r;T.hooks.getLogs(e,t),(r=T.hooks.retryLog).completed.apply(r,arguments),"function"==typeof o.onComplete&&o.onComplete.apply(o,arguments)}).fail(function(){var e;(e=T.hooks.retryLog).failed.apply(e,arguments),"function"==typeof o.onFail&&o.onFail.apply(o,arguments)})}),T.hooks.retryLog.completed.listen(function(e){Object(d.notify)(t("Submission retry requested successfully"))}),T.hooks.retryLog.failed.listen(function(e){Object(d.notify)(t("Submission retry request failed"),"error")}),T.hooks.retryLogs.listen(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p.a.retryExternalServiceLogs(e,t).done(function(){var e;(e=T.hooks.retryLogs).completed.apply(e,arguments),"function"==typeof r.onComplete&&r.onComplete.apply(r,arguments)}).fail(function(){var o;T.hooks.getLogs(e,t),(o=T.hooks.retryLogs).failed.apply(o,arguments),"function"==typeof r.onFail&&r.onFail.apply(r,arguments)})}),T.hooks.retryLogs.completed.listen(function(e){Object(d.notify)(e.detail,"warning")}),T.hooks.retryLogs.failed.listen(function(e){Object(d.notify)(t("Retrying all submissions failed"),"error")}),"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"actions","/home/sujit/projects/ndrrma/survey/source/jsapp/js/actions.es6")},50:function(e,r,o){(function(r){var a,n,s,i,l,c,u=function(e,t){return function(){return e.apply(t,arguments)}},p=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};s=o(15),n=o(25),a=o(134),e.exports=((c={}).SkipLogicHelperFactory=function(){function e(e,t,r,o,a){this.model_factory=e,this.view_factory=t,this.survey=r,this.current_question=o,this.serialized_criteria=a}return e.prototype.create_presenter=function(e,t){return new c.SkipLogicPresenter(e,t,this.current_question,this.survey,this.view_factory)},e.prototype.create_builder=function(){return new c.SkipLogicBuilder(this.model_factory,this.view_factory,this.survey,this.current_question,this)},e.prototype.create_context=function(){return new c.SkipLogicHelperContext(this.model_factory,this.view_factory,this,this.serialized_criteria)},e}(),c.SkipLogicPresentationFacade=function(){function e(e,t,r){this.model_factory=e,this.helper_factory=t,this.view_factory=r}return e.prototype.initialize=function(){return null!=this.context?this.context:this.context=this.helper_factory.create_context()},e.prototype.serialize=function(){return null==this.context&&(this.context=this.helper_factory.create_context()),this.context.serialize()},e.prototype.render=function(e){return null==this.context&&(this.context=this.helper_factory.create_context()),this.context.render(e)},e}(),c.SkipLogicPresenter=function(){function e(e,t,r,o,a){var n,i;this.model=e,this.view=t,this.current_question=r,this.survey=o,this.view_factory=a,this.view.presenter=this,this.survey?(i=this,n=function(e){var t,r,o;if((o=i.model._get_question())&&o._isSelectQuestion()&&o.getList().cid===e)return t=i.model.get("response_value").get("cid"),o.getList().options.get(t)?(r=s.map(o.getList().options.models,function(e){return{text:e.get("label"),value:e.cid}}),i.view.response_value_view.options.set("options",r),i.view.response_value_view.val(t),i.view.response_value_view.$el.trigger("change"),i.model.change_response(t)):i.dispatcher.trigger("remove:presenter",i.model.cid)},this.survey.on("choice-list-update",n,this),this.survey.on("remove-option",n,this),this.survey.on("row-detail-change",function(e){return function(t,r){if(e.destination&&"label"===r)return e.render(e.destination)}}(this),this)):console.error("this.survey is not yet available")}return e.prototype.change_question=function(e){var t,r;return this.model.change_question(e),this.question=this.model._get_question(),t=this.question.get_type(),this.question.on("remove",(r=this,function(){return r.dispatcher.trigger("remove:presenter",r.model.cid)})),this.view.change_operator(this.view_factory.create_operator_picker(t)),this.view.operator_picker_view.val(this.model.get("operator").get_value()),this.view.attach_operator(),this.change_response_view(t,this.model.get("operator").get_type()),this.finish_changing()},e.prototype.change_operator=function(e){return this.model.change_operator(e),this.change_response_view(this.model._get_question().get_type(),this.model.get("operator").get_type()),this.finish_changing()},e.prototype.change_response=function(e){return this.model.change_response(e),this.finish_changing()},e.prototype.change_response_view=function(e,t){var r,o,a,n;return(n=this.view_factory.create_response_value_view(this.model._get_question(),e,t)).model=this.model.get("response_value"),this.view.change_response(n),this.view.attach_response(),a=n.model.get("value"),(r=this.model._get_question())._isSelectQuestion()&&(o=s.find(r.getList().options.models,function(e){return e.get("name")===a}))&&o.cid&&(a=o.cid),this.view.response_value_view.val(a),n.$el.trigger("change")},e.prototype.finish_changing=function(){return this.dispatcher.trigger("changed:model",this)},e.prototype.is_valid=function(){var e;return!!this.model._get_question()&&(1===this.model.get("operator").get_type().id||""!==(e=this.model.get("response_value").get("value"))&&void 0!==e&&!1!==this.model.get("response_value").isValid())},e.prototype.render=function(e){var t,r,o,a;return this.destination=e,this.view.question_picker_view.detach(),this.view.question_picker_view=this.view_factory.create_question_picker(this.current_question),this.view.render(),this.view.question_picker_view.val(this.model.get("question_cid")),this.view.operator_picker_view.val(this.model.get("operator").get_value()),a=null!=(r=this.model.get("response_value"))?r.get("value"):void 0,(t=this.model._get_question())&&t._isSelectQuestion()&&(a=null!=(o=s.find(t.getList().options.models,function(e){return e.get("name")===a}))?o.cid:void 0),this.view.response_value_view.val(a),this.view.attach_to(this.destination),this.dispatcher.trigger("rendered",this)},e.prototype.serialize=function(){return this.model.serialize()},e}(),c.SkipLogicBuilder=function(){function e(e,t,r,o,a){this.model_factory=e,this.view_factory=t,this.survey=r,this.current_question=o,this.helper_factory=a,this.build_empty_criterion=u(this.build_empty_criterion,this),this.build_criterion=u(this.build_criterion,this),this.build_operator_logic=u(this.build_operator_logic,this)}return e.prototype.build_criterion_builder=function(e){var t,r,o;if(""===e)return[[this.build_empty_criterion()],"and"];try{r=this._parse_skip_logic_criteria(e),0===(t=s.filter(s.map(r.criteria,(o=this,function(e){return o.criterion=e,o.build_criterion()})),function(e){return!!e})).length&&t.push(this.build_empty_criterion())}catch(t){return"undefined"!=typeof Raven&&null!==Raven&&Raven.captureException(new Error("could not parse skip logic. falling back to hand-coded"),{extra:{criteria:e}}),!1}return[t,r.operator]},e.prototype._parse_skip_logic_criteria=function(e){return a(e)},e.prototype.build_operator_logic=function(e){return[this.build_operator_model(e,this._operator_type().symbol[this.criterion.operator]),this.view_factory.create_operator_picker(e)]},e.prototype.build_operator_model=function(e,t){var r;return r=this._operator_type(),this.model_factory.create_operator("existence"===r.type?"existence":e.equality_operator_type,t,r.id)},e.prototype._operator_type=function(){return s.find(c.operator_types,(e=this,function(t){var r,o;return r=null!=(o=e.criterion)?o.operator:void 0,p.call(t.parser_name,r)>=0}));var e},e.prototype.build_criterion_logic=function(e,t,r){var o,a;return(o=this.model_factory.create_criterion_model()).set("operator",e),(a=this.view_factory.create_criterion_view(this.view_factory.create_question_picker(this.current_question),t,r)).model=o,this.helper_factory.create_presenter(o,a)},e.prototype.build_criterion=function(){var e,t,r,o,a,n,i,l,c,u;if(!(o=this._get_question()))return!1;if(!(p.call(this.questions(),o)>=0))throw"question is not selectable";return a=o.get_type(),e=(n=this.build_operator_logic(a))[0],t=n[1],c=this.view_factory.create_response_value_view(o,a,this._operator_type()),(r=this.build_criterion_logic(e,t,c)).model.change_question(o.cid),l=o._isSelectQuestion()?null!=(i=s.find(o.getList().options.models,(u=this,function(e){return e.get("name")===u.criterion.response_value})))?i.cid:void 0:this.criterion.response_value,r.model.change_response(l||""),c.model=r.model.get("response_value"),c.val(l),r},e.prototype._get_question=function(){return this.survey.findRowByName(this.criterion.name)},e.prototype.build_empty_criterion=function(){var e,t;return e=this.view_factory.create_operator_picker(null),t=this.view_factory.create_response_value_view(null),this.build_criterion_logic(this.model_factory.create_operator("empty"),e,t)},e.prototype.questions=function(){return this.selectable=this.current_question.selectableRows()||this.selectable,this.selectable},e}(),c.SkipLogicHelperContext=function(){function e(e,t,r,o){this.model_factory=e,this.view_factory=t,this.helper_factory=r,this.state={serialize:function(){return o}},null==o||""===o?(o="",this.use_mode_selector_helper()):this.use_criterion_builder_helper(),null==this.state&&(this.state={serialize:function(){return o}},this.use_hand_code_helper())}return e.prototype.render=function(e){this.destination=e,null!=this.destination&&(this.destination.empty(),this.state.render(this.destination))},e.prototype.serialize=function(){return this.state.serialize()},e.prototype.use_criterion_builder_helper=function(){var e;null==this.builder&&(this.builder=this.helper_factory.create_builder()),!1===(e=this.builder.build_criterion_builder(this.state.serialize()))?this.state=null:(this.state=new c.SkipLogicCriterionBuilderHelper(e[0],e[1],this.builder,this.view_factory,this),this.render(this.destination))},e.prototype.use_hand_code_helper=function(){this.state=new c.SkipLogicHandCodeHelper(this.state.serialize(),this.builder,this.view_factory,this),this.render(this.destination)},e.prototype.use_mode_selector_helper=function(){this.helper_factory.survey.off(null,null,this.state),this.state=new c.SkipLogicModeSelectorHelper(this.view_factory,this),this.render(this.destination)},e}(),c.SkipLogicCriterionBuilderHelper=function(){function e(e,t,r,o,a){var i,l;this.presenters=e,this.builder=r,this.view_factory=o,this.context=a,this.view=this.view_factory.create_criterion_builder_view(),this.view.criterion_delimiter=(t||"and").toLowerCase(),this.view.facade=this,this.dispatcher=s.clone(n.Events),this.dispatcher.on("remove:presenter",(l=this,function(e){return l.remove(e)})),this.dispatcher.on("changed:model",function(e){return function(t){return e.determine_add_new_criterion_visibility()}}(this)),this.dispatcher.on("rendered",function(e){return function(t){return e.determine_add_new_criterion_visibility()}}(this)),i=function(e){return function(){var t,r,o,a,n;for(n=e.builder.questions(),a=[],s.each(e.presenters,function(e){var t;if(e.model._get_question()&&(t=e.model._get_question(),!(p.call(n,t)>=0)))return a.push(e.model.cid)}),t=0,r=a.length;t<r;t++)o=a[t],e.remove(o);if(0===e.presenters.length)return e.context.use_mode_selector_helper()}}(this),this.builder.survey.on("sortablestop",i,this),i(),s.each(this.presenters,function(e){return function(t){return t.dispatcher=e.dispatcher,t.serialize_all=s.bind(e.serialize,e)}}(this))}return e.prototype.determine_criterion_delimiter_visibility=function(){return this.presenters.length<2?this.$criterion_delimiter.hide():this.$criterion_delimiter.show()},e.prototype.render=function(e){return this.view.render().attach_to(e),this.$criterion_delimiter=this.view.$(".skiplogic__delimselect"),this.$add_new_criterion_button=this.view.$(".skiplogic__addcriterion"),this.determine_criterion_delimiter_visibility(),this.destination=this.view.$(".skiplogic__criterialist"),s.each(this.presenters,(t=this,function(e){return e.render(t.destination)}));var t},e.prototype.serialize=function(){var e;return e=s.map(this.presenters,function(e){return e.serialize()}),s.filter(e,function(e){return e}).join(" "+this.view.criterion_delimiter+" ")},e.prototype.add_empty=function(){var e;return(e=this.builder.build_empty_criterion()).dispatcher=this.dispatcher,e.serialize_all=s.bind(this.serialize,this),this.presenters.push(e),e.render(this.destination),this.determine_criterion_delimiter_visibility()},e.prototype.remove=function(e){var t;if(s.each(this.presenters,(t=this,function(r,o){if(null!=r&&r.model.cid===e)return(r=t.presenters.splice(o,1)[0]).view.$el.remove(),t.builder.survey.off(null,null,r),t.determine_add_new_criterion_visibility()})),0===this.presenters.length)return this.context.use_mode_selector_helper()},e.prototype.determine_add_new_criterion_visibility=function(){var e,t,r;if(this.all_presenters_are_valid()?(e="show()",null!=(t=this.$add_new_criterion_button)&&t.show()):(e="hide()",null!=(r=this.$add_new_criterion_button)&&r.hide()),!this.$add_new_criterion_button)return"undefined"!=typeof Raven&&null!==Raven?Raven.captureException("@$add_new_criterion_button is not defined. cannot call "+e+" [inside of determine_add_new_criterion_visibility]"):void 0},e.prototype.all_presenters_are_valid=function(){return!s.find(this.presenters,function(e){return!e.is_valid()})},e.prototype.switch_editing_mode=function(){return this.builder.build_hand_code_criteria(this.serialize())},e}(),c.SkipLogicHandCodeHelper=function(){function e(e,t,o,a){this.criteria=e,this.builder=t,this.view_factory=o,this.context=a,this.$parent=r("<div>"),this.textarea=this.view_factory.create_textarea(this.criteria,"skiplogic__handcode-edit"),this.button=this.view_factory.create_button('<i class="fa fa-trash-o"></i>',"skiplogic-handcode__cancel")}return e.prototype.render=function(e){return e.append(this.$parent),this.textarea.render().attach_to(this.$parent),this.button.render().attach_to(this.$parent),this.button.bind_event("click",(t=this,function(){return t.context.use_mode_selector_helper()}));var t},e.prototype.serialize=function(){return this.textarea.$el.val()||this.criteria},e}(),c.SkipLogicModeSelectorHelper=function(){function e(e,r){this.context=r,this.criterion_builder_button=e.create_button('<i class="fa fa-plus"></i> '+t("Add a condition"),"kobo-button kobo-button--green"),this.handcode_button=e.create_button("<i>${}</i> "+t("Manually enter your skip logic in XLSForm code"),"kobo-button kobo-button--blue")}return e.prototype.render=function(e){var t,o;return t=r("<div>"),e.append(t),this.criterion_builder_button.render().attach_to(t),this.handcode_button.render().attach_to(t),this.criterion_builder_button.bind_event("click",(o=this,function(){return o.context.view_factory.survey.trigger("change"),o.context.use_criterion_builder_helper()})),this.handcode_button.bind_event("click",function(e){return function(){return e.context.view_factory.survey.trigger("change"),e.context.use_hand_code_helper()}}(this))},e.prototype.serialize=function(){return""},e.prototype.switch_editing_mode=function(){},e}(),l={EX:(i={EXISTENCE:1,EQUALITY:2,GREATER_THAN:3,GREATER_THAN_EQ:4}).EXISTENCE,EQ:i.EQUALITY,GT:i.GREATER_THAN,GE:i.GREATER_THAN_EQ},c.question_types={default:{operators:[l.EX,l.EQ],equality_operator_type:"text",response_type:"text",name:"default"},select_one:{operators:[l.EQ,l.EX],equality_operator_type:"text",response_type:"dropdown",name:"select_one"},select_multiple:{operators:[l.EQ,l.EX],equality_operator_type:"select_multiple",response_type:"dropdown",name:"select_multiple"},integer:{operators:[l.GT,l.EX,l.EQ,l.GE],equality_operator_type:"basic",response_type:"integer",name:"integer"},barcode:{operators:[l.GT,l.EX,l.EQ,l.GE],equality_operator_type:"text",response_type:"text",name:"barcode"},decimal:{operators:[l.EX,l.EQ,l.GT,l.GE],equality_operator_type:"basic",response_type:"decimal",name:"decimal"},geopoint:{operators:[l.EX],name:"geopoint"},geotrace:{operators:[l.EX],name:"geotrace"},geoshape:{operators:[l.EX],name:"geoshape"},image:{operators:[l.EX],name:"image"},audio:{operators:[l.EX],name:"audio"},video:{operators:[l.EX],name:"video"},acknowledge:{operators:[l.EX],name:"acknowledge"},date:{operators:[l.EQ,l.GT,l.GE],equality_operator_type:"date",response_type:"text",name:"date"}},c.operator_types=[{id:1,type:"existence",label:t("Was Answered"),negated_label:t("Was not Answered"),abbreviated_label:t("Was Answered"),abbreviated_negated_label:t("Was not Answered"),parser_name:["ans_notnull","ans_null"],symbol:{ans_notnull:"!=",ans_null:"="},response_type:"empty"},{id:2,type:"equality",label:"",negated_label:t("not"),abbreviated_label:"=",abbreviated_negated_label:"!=",parser_name:["resp_equals","resp_notequals","multiplechoice_selected","multiplechoice_notselected"],symbol:{resp_equals:"=",resp_notequals:"!=",multiplechoice_selected:"=",multiplechoice_notselected:"!="}},{id:3,type:"equality",label:t("Greater Than"),negated_label:t("Less Than"),abbreviated_label:">",abbreviated_negated_label:"<",parser_name:["resp_greater","resp_less"],symbol:{resp_greater:">",resp_less:"<"}},{id:4,type:"equality",label:t("Greater Than or Equal to"),negated_label:t("Less Than or Equal to"),abbreviated_label:">=",abbreviated_negated_label:"<=",parser_name:["resp_greaterequals","resp_lessequals"],symbol:{resp_greaterequals:">=",resp_lessequals:"<="}}],c)}).call(this,o(19))},51:function(e,t,r){"use strict";var o=r(7),a=r.n(o),n=r(13),s=r(43),i=r(12),l=r(39),c=r(5),u=r(21),p=r(2),d=a.a.createStore({abortFetchData:void 0,previousPath:n.f.getCurrentLocation().pathname,previousSearchPhrase:s.b.getSearchPhrase(),PAGE_SIZE:100,DEFAULT_ORDER_COLUMN:u.a["date-modified"],isVirgin:!0,data:{isFetchingData:!1,currentPage:0,totalPages:null,totalSearchAssets:null,assets:[],metadata:{}},init:function(){this.setDefaultColumns(),n.f.listen(this.onRouteChange.bind(this)),s.b.listen(this.searchBoxStoreChanged),c.a.library.searchPublicCollections.started.listen(this.onSearchStarted),c.a.library.searchPublicCollections.completed.listen(this.onSearchCompleted),c.a.library.searchPublicCollections.failed.listen(this.onSearchFailed),c.a.library.searchPublicCollectionsMetadata.completed.listen(this.onSearchMetadataCompleted),c.a.library.subscribeToCollection.completed.listen(this.onSubscribeCompleted),c.a.library.unsubscribeFromCollection.listen(this.onUnsubscribeCompleted),c.a.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted),c.a.resources.loadAsset.completed.listen(this.onAssetChanged),c.a.resources.updateAsset.completed.listen(this.onAssetChanged),c.a.resources.cloneAsset.completed.listen(this.onAssetCreated),c.a.resources.createResource.completed.listen(this.onAssetCreated),c.a.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted),c.a.permissions.getConfig.completed.listen(this.startupStore)},startupStore:function(){this.isVirgin&&Object(l.e)()&&!this.data.isFetchingData&&this.fetchData(!0)},setDefaultColumns:function(){this.data.orderColumnId=this.DEFAULT_ORDER_COLUMN.id,this.data.orderValue=this.DEFAULT_ORDER_COLUMN.defaultValue,this.data.filterColumnId=null,this.data.filterValue=null},getSearchParams:function(){var e={searchPhrase:s.b.getSearchPhrase(),pageSize:this.PAGE_SIZE,page:this.data.currentPage};if(null!==this.data.filterColumnId){var t=u.a[this.data.filterColumnId];e.filterProperty=t.filterBy,e.filterValue=this.data.filterValue}return void 0!==e.filterValue&&(e.filterValue=JSON.stringify(e.filterValue)),e},fetchMetadata:function(){c.a.library.searchPublicCollectionsMetadata(this.getSearchParams())},fetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.abortFetchData&&this.abortFetchData();var t=this.getSearchParams();t.metadata=e;var r=u.a[this.data.orderColumnId],o=this.data.orderValue===u.c.ascending?"":"-";t.ordering="".concat(o).concat(r.orderBy),c.a.library.searchPublicCollections(t)},onRouteChange:function(e){this.isVirgin&&Object(l.e)()&&!this.data.isFetchingData?this.fetchData(!0):!1===this.previousPath.startsWith(p.ROUTES.PUBLIC_COLLECTIONS)&&Object(l.e)()&&(this.setDefaultColumns(),this.fetchData(!0)),this.previousPath=e.pathname},searchBoxStoreChanged:function(){s.b.getContext()===s.a.PUBLIC_COLLECTIONS&&s.b.getSearchPhrase()!==this.previousSearchPhrase&&(this.data.currentPage=0,this.data.totalPages=null,this.data.totalSearchAssets=null,this.previousSearchPhrase=s.b.getSearchPhrase(),this.fetchData(!0))},onSearchStarted:function(e){this.abortFetchData=e,this.data.isFetchingData=!0,this.trigger(this.data)},onSearchCompleted:function(e){delete this.abortFetchData,this.data.totalPages=Math.ceil(e.count/this.PAGE_SIZE),this.data.assets=e.results,e.metadata&&(this.data.metadata=e.metadata),this.data.totalSearchAssets=e.count,this.data.isFetchingData=!1,this.isVirgin=!1,this.trigger(this.data)},onSearchFailed:function(){delete this.abortFetchData,this.data.isFetchingData=!1,this.trigger(this.data)},onSearchMetadataCompleted:function(e){this.data.metadata=e,this.trigger(this.data)},onSubscribeCompleted:function(e){this.onAssetAccessTypeChanged(e.asset,!0)},onUnsubscribeCompleted:function(e){this.onAssetAccessTypeChanged(e,!1)},onAssetAccessTypeChanged:function(e,t){for(var r=!1,o=0;o<this.data.assets.length;o++)if(this.data.assets[o].uid===e||this.data.assets[o].url===e){t?this.data.assets[o].access_types.push(p.ACCESS_TYPES.subscribed):this.data.assets[o].access_types.splice(this.data.assets[o].access_types.indexOf(p.ACCESS_TYPES.subscribed),1),r=!0;break}r&&this.trigger(this.data)},onMoveToCollectionCompleted:function(e){e.asset_type===p.ASSET_TYPES.collection.id&&i.b.isAssetPublic(e.permissions)&&this.fetchData(!0)},onAssetChanged:function(e){if(e.asset_type===p.ASSET_TYPES.collection.id&&i.b.isAssetPublic(e.permissions)&&0!==this.data.assets.length){for(var t=!1,r=0;r<this.data.assets.length;r++)if(this.data.assets[r].uid===e.uid){this.data.assets[r]=e,t=!0;break}t&&(this.trigger(this.data),this.fetchMetadata())}},onAssetCreated:function(e){e.asset_type===p.ASSET_TYPES.collection.id&&i.b.isAssetPublic(e.permissions)&&this.fetchData(!0)},onDeleteAssetCompleted:function(e){var t=e.uid;e.assetType===p.ASSET_TYPES.collection.id&&this.findAsset(t)&&this.fetchData(!0)},setCurrentPage:function(e){this.data.currentPage=e,this.fetchData()},setOrder:function(e,t){this.data.orderColumnId===e&&this.data.orderValue===t||(this.data.orderColumnId=e,this.data.orderValue=t,this.fetchData())},setFilter:function(e,t){this.data.filterColumnId===e&&this.data.filterValue===t||(this.data.filterColumnId=e,this.data.filterValue=t,this.fetchData(!0))},resetOrderAndFilter:function(){this.setDefaultColumns(),this.fetchData(!0)},hasAllDefaultValues:function(){return this.data.orderColumnId===this.DEFAULT_ORDER_COLUMN.id&&this.data.orderValue===this.DEFAULT_ORDER_COLUMN.defaultValue&&null===this.data.filterColumnId&&null===this.data.filterValue},findAsset:function(e){return this.data.assets.find(function(t){return t.uid===e})}}),m=d;t.a=m,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"publicCollectionsStore","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/publicCollectionsStore.es6"),__REACT_HOT_LOADER__.register(m,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/library/publicCollectionsStore.es6"))},52:function(e,r,o){"use strict";o.d(r,"b",function(){return l}),o.d(r,"a",function(){return c});var a=o(0),n=o.n(a),s=o(1),i=o(6);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t("loading…");return n.a.createElement(s.a.Loading,null,n.a.createElement(s.a.Loading__inner,null,n.a.createElement("i",null),e))}function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.a.pageState.hasPreviousModal()?n.a.createElement(s.a.KoboButton,{m:"whitegray",type:"button",onClick:i.a.pageState.switchToPreviousModal,disabled:e},t("Back")):null}o(2),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"renderLoading","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/modalHelpers.es6"),__REACT_HOT_LOADER__.register(c,"renderBackButton","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/modalForms/modalHelpers.es6"))},54:function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"c",function(){return p}),r.d(t,"b",function(){return f});var o=r(12),a=r(2);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=new Map;new Set(["group_root","group_repeat","group_regular","group_matrix","group_matrix_row"]).forEach(function(e){l.set(e,e)});var c=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,e),this.type=t,this.label=r,this.name=o,this.children=[]}var t,r;return t=e,(r=[{key:"addChild",value:function(e){this.children.push(e)}}])&&i(t.prototype,r),e}(),u=function e(t,r,o,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;s(this,e),this.type=t,this.label=r,this.name=o,this.data=n,a&&(this.listName=a)};function p(e,t,r,n){var s=Object(o.h)(e,!0),i=new c(l.get("group_root"));return function i(p,f){for(var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,g=function(g){var v=e[g],y=Object(o.g)(v),w=b(v),k=Object(o.i)(y,e,r),E=null;if(null!==p.name&&(E=s[p.name]),!_(y,E,e))return"continue";if(v.type===a.QUESTION_TYPES.calculate.id&&y===a.FORM_VERSION_NAME)return"continue";if(v.type===a.QUESTION_TYPES.note.id)return"continue";if(Object(o.j)(e[g-1],v))return"continue";var x=m(y,e,f);if(v.type===a.GROUP_TYPES_BEGIN.begin_repeat)Array.isArray(x)&&x.forEach(function(e,t){var r=new c(l.get("group_repeat"),k,y);p.addChild(r),i(r,e,t)});else if(v.type===a.GROUP_TYPES_BEGIN.begin_kobomatrix){var S=new c(l.get("group_matrix"),k,y);p.addChild(S),Array.isArray(t)&&t.forEach(function(s){s[a.MATRIX_PAIR_PROPS.inChoices]===v[a.MATRIX_PAIR_PROPS.inSurvey]&&d(e,t,n,r,S,Object(o.g)(s),f)})}else if(v.type===a.GROUP_TYPES_BEGIN.begin_group||v.type===a.GROUP_TYPES_BEGIN.begin_score||v.type===a.GROUP_TYPES_BEGIN.begin_rank){var T=new c(l.get("group_regular"),k,y);p.addChild(T),i(T,x,h)}else if(a.QUESTION_TYPES[v.type]||v.type===a.SCORE_ROW_TYPE||v.type===a.RANK_LEVEL_TYPE){Array.isArray(x)&&null!==h&&(x=x[h]),(v.type===a.SCORE_ROW_TYPE||v.type===a.RANK_LEVEL_TYPE)&&(w=b(e.find(function(e){return Object(o.g)(e)===p.name})));var O=new u(v.type,k,y,w,x);p.addChild(O)}},v=0;v<e.length;v++)g(v)}(i,n),i}function d(e,t,r,a,n,s,i){var p=Object(o.i)(s,t,a),d=new c(l.get("group_matrix_row"),p,s);n.addChild(d);var m=Object(o.h)(e,!0),_=m[n.name];Object.keys(m).forEach(function(t){if(m[t].startsWith("".concat(_,"/"))){var l=e.find(function(e){return Object(o.g)(e)===t}),c=null,p="".concat(_,"_").concat(s,"/").concat(n.name,"_").concat(s,"_").concat(t);r[p]?c=r[p]:i[p]&&(c=i[p]);var f=new u(l.type,Object(o.i)(t,e,a),t,b(l),c);d.addChild(f)}})}function m(e,t,r){if(null===r||"object"!==n(r))return null;var a=Object(o.h)(t,!0)[e];if(r[a])return r[a];if(r[e])return r[e];if(a){var s=f(r,a);if(s.length>=1)return s;if(s=h(r,a),Object.keys(s).length>=1)return s}return null}function _(e,t,r){var a=Object(o.h)(r,!0);return null===t?a[e]===e:a[e]==="".concat(t,"/").concat(e)}function f(e,t){var r=[];return function e(o,a){var n=t.split("/").slice(0,a+1).join("/");n===t?Object.prototype.hasOwnProperty.call(o,t)&&r.push(o[t]):Array.isArray(o[n])&&o[n].forEach(function(t){e(t,a+1)})}(e,0),r}function h(e,t){var r={};return Object.keys(e).forEach(function(o){o.startsWith("".concat(t,"/"))&&(r[o]=e[o])}),r}function b(e){return e[a.CHOICE_LISTS.SELECT]||e[a.CHOICE_LISTS.MATRIX]||e[a.CHOICE_LISTS.SCORE]||e[a.CHOICE_LISTS.RANK]}var g={DISPLAY_GROUP_TYPES:l,getSubmissionDisplayData:p,getRepeatGroupAnswers:f};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"DISPLAY_GROUP_TYPES","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"),__REACT_HOT_LOADER__.register(c,"DisplayGroup","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"),__REACT_HOT_LOADER__.register(u,"DisplayResponse","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"),__REACT_HOT_LOADER__.register(p,"getSubmissionDisplayData","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"),__REACT_HOT_LOADER__.register(d,"populateMatrixData","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"),__REACT_HOT_LOADER__.register(m,"getRowData","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"),__REACT_HOT_LOADER__.register(_,"isRowFromCurrentGroupLevel","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"),__REACT_HOT_LOADER__.register(f,"getRepeatGroupAnswers","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"),__REACT_HOT_LOADER__.register(h,"getRegularGroupAnswers","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"),__REACT_HOT_LOADER__.register(b,"getRowListName","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"),__REACT_HOT_LOADER__.register(g,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/submissionUtils.es6"))},547:function(e,t){},563:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(9),i=o.n(s),l=o(1),c=o(5);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?_(e):t}(this,r)}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,n.a.Component);var r,o,a=m(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).HIDDEN_VAL="*".repeat(40),t.state={token:t.HIDDEN_VAL,isLoadingToken:!1},t.unlisteners=[],i()(_(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.unlisteners.push(c.a.auth.getApiToken.completed.listen(this.onGetApiTokenCompleted.bind(this)),c.a.auth.getApiToken.failed.listen(this.onGetApiTokenFailed.bind(this)))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach(function(e){e()})}},{key:"onGetApiTokenCompleted",value:function(e){this.setState({token:e,isLoadingToken:!1})}},{key:"onGetApiTokenFailed",value:function(){this.setState({isLoadingToken:!1})}},{key:"toggleApiTokenVisibility",value:function(){this.setState({isTokenVisible:!this.state.isTokenVisible}),c.a.auth.getApiToken()}},{key:"onInputFocus",value:function(e){e.currentTarget.select()}},{key:"render",value:function(){return n.a.createElement(l.a.FormModal__item,{m:"api-token"},n.a.createElement("label",null,t("API token")),n.a.createElement("input",{type:this.state.isTokenVisible&&!this.state.isLoadingToken?"text":"password",value:this.state.token,onFocus:this.onInputFocus,readOnly:!0}),n.a.createElement(l.a.Button,{onClick:this.toggleApiTokenVisibility,disabled:this.state.isLoadingToken,m:"icon"},n.a.createElement("i",{className:this.state.isTokenVisible?"k-icon k-icon-view-no":"k-icon k-icon-view"})))}}])&&p(r.prototype,o),s}(),b=h;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"ApiTokenDisplay","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/apiTokenDisplay.es6"),__REACT_HOT_LOADER__.register(b,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/apiTokenDisplay.es6"))},58:function(e,r,o){"use strict";var a=o(0),n=o.n(a),s=o(4),i=o.n(s),l=o(11),c=o.n(l),u=o(9),p=o.n(u),d=o(7),m=o.n(d),_=o(5),f=o(1),h=o(6),b=o(17),g=o(12),v=o(28),y=o.n(v),w=o(309),k=o(115),E=o(147),x=o(468),S=o(2),T=o(8),O=o(13),C=o(18),A=o(23),R=o.n(A),j=o(132),L=o.n(j),P=o(469),D=o.n(P),F=o(55),M=o.n(F),N=(o(554),o(559),o(560),o(561),o(3)),B=o(470);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=q(e);if(t){var a=q(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?z(e):t}(this,r)}}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=M.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:["a","b","c"]}),G={OpenStreetMap:Y,OpenTopoMap:M.a.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{attribution:'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}),"ESRI World Imagery":M.a.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),Humanitarian:M.a.tileLayer("https://tile-{s}.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'Tiles &copy; Humanitarian OpenStreetMap Team &mdash; &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'})},$=M.a.control.layers(G),Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(s,n.a.Component);var r,o,a=H(s);function s(e){var t;!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e);var r=e.asset.content.survey,o=!1;return r.forEach(function(e){e.type===S.QUESTION_TYPES.geopoint.id&&(o=!0)}),t.state={map:!1,markers:!1,heatmap:!1,markersVisible:!0,markerMap:!1,fields:[],hasGeoPoint:o,submissions:[],error:!1,isFullscreen:!1,showExpandedLegend:!0,langIndex:0,filteredByMarker:!1,componentRefreshed:!1,showMapSettings:!1,overridenStyles:!1,clearDisaggregatedPopover:!1,noData:!1},p()(z(t)),t}return r=s,(o=[{key:"componentWillUnmount",value:function(){this.state.map&&this.state.map.remove()}},{key:"componentDidMount",value:function(){var e=[],r=["select_one","select_multiple","integer","decimal","text"];this.props.asset.content.survey.forEach(function(t){r.includes(t.type)&&e.push(t)}),M.a.Marker.prototype.options.icon=M.a.divIcon({className:"map-marker default-overlay-marker",iconSize:[12,12]});var o=M.a.map("data-map",{maxZoom:17,scrollWheelZoom:!1,preferCanvas:!0});Y.addTo(o),$.addTo(o),this.setState({map:o,fields:e}),this.props.asset.deployment__submission_count>S.QUERY_LIMIT_DEFAULT&&Object(N.notify)(t("By default map is limited to the ##number##  most recent submissions for performance reasons. Go to map settings to increase this limit.").replace("##number##",S.QUERY_LIMIT_DEFAULT)),this.requestData(o,this.props.viewby),this.listenTo(_.a.map.setMapStyles.started,this.onSetMapStylesStarted),this.listenTo(_.a.map.setMapStyles.completed,this.onSetMapStylesCompleted),this.listenTo(_.a.resources.getAssetFiles.completed,this.updateOverlayList),_.a.resources.getAssetFiles(this.props.asset.uid)}},{key:"loadOverlayLayers",value:function(e){T.a.getAssetFiles(this.props.asset.uid).done(function(e){})}},{key:"updateOverlayList",value:function(e){var t=this.state.map;$._layers.forEach(function(r){r.overlay&&(e.results.filter(function(e){return e.name===r.name}).length||($.removeLayer(r.layer),t.removeLayer(r.layer)))}),e.results.forEach(function(e){if("map_layer"!==e.file_type)return!1;if($._layers.filter(function(t){return t.name===e.name}).length)return!1;var r=!1;switch(e.metadata.type){case"kml":r=L.a.kml(e.content);break;case"csv":r=L.a.csv(e.content);break;case"json":case"geojson":r=L.a.geojson(e.content);break;case"wkt":r=L.a.wkt(e.content);break;case"kmz":fetch(e.content).then(function(e){return 200===e.status||0===e.status?Promise.resolve(e.blob()):Promise.reject(new Error(e.statusText))}).then(D.a.loadAsync).then(function(e){return e.file("doc.kml").async("string")}).then(function(o){r=L.a.kml.parse(o),$.addOverlay(r,e.name),r.addTo(t)})}r&&(r.on("ready",function(){r.eachLayer(function(e){var t=e.feature.properties,r=t.name||t.title||t.NAME||t.TITLE;r?e.bindPopup(r):e.bindPopup("<pre>"+JSON.stringify(t,null,2).replace(/[{}"]/g,"")+"</pre>")})}),$.addOverlay(r,e.name),r.addTo(t))})}},{key:"onSetMapStylesCompleted",value:function(){this.setState({overridenStyles:!1})}},{key:"onSetMapStylesStarted",value:function(e,t){t.colorSet||(t.colorSet="a"),t.querylimit||(t.querylimit=S.QUERY_LIMIT_DEFAULT.toString()),this.overrideStyles(t)}},{key:"requestData",value:function(e){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.props.asset.map_styles.selectedQuestion||null;this.props.asset.content.survey.forEach(function(e){void 0!==e.label&&null!==e.label&&a===e.label[0]&&e.type!==S.QUESTION_TYPES.geopoint.id&&(a=null)});var n=S.QUERY_LIMIT_DEFAULT;this.state.overridenStyles&&this.state.overridenStyles.querylimit?n=this.state.overridenStyles.querylimit:this.props.asset.map_styles.querylimit&&(n=this.props.asset.map_styles.querylimit);var s=["_id","_geolocation"];a&&s.push(a),o&&s.push(this.nameOfFieldInGroup(o));T.a.getSubmissions(this.props.asset.uid,n,0,[{id:"_id",desc:!0}],s).done(function(t){var o=t.results;a&&o.forEach(function(e,t){if(e[a]){var r=e[a].split(" ");o[t]._geolocation[0]=r[0],o[t]._geolocation[1]=r[1]}}),r.setState({submissions:o}),r.buildMarkers(e),r.buildHeatMap(e)}).fail(function(e){e.responseText?r.setState({error:e.responseText,loading:!1}):e.statusText?r.setState({error:e.statusText,loading:!1}):r.setState({error:t("Error: could not load data."),loading:!1})})}},{key:"calculateClusterRadius",value:function(e){return e>=12?12:20}},{key:"calcColorSet",value:function(){var e;if(this.state.overridenStyles&&this.state.overridenStyles.colorSet)e=this.state.overridenStyles.colorSet;else{var t=this.props.asset.map_styles;e=t.colorSet?t.colorSet:void 0}return e}},{key:"buildMarkers",value:function(e){var r,o=this,a=[],n=this.props.viewby||void 0,s=this.calcColorSet(),i=[];if(n){var l=this.prepFilteredMarkers(this.state.submissions,this.props.viewby),c=[],u=this.props.asset.content.choices,p=this.props.asset.content.survey.find(function(e){return e.name===n||e.$autoname===n});p&&"select_one"===p.type&&(i=u.filter(function(e){return e.list_name===p.select_from_list_name})),Object.keys(l).map(function(e,t){if(p&&"select_one"===p.type)var r=i.find(function(t){return t.name===e||t.$autoname===e});c.push({count:l[e].count,id:l[e].id,labels:r?r.label:void 0,value:"undefined"!=e?e:void 0})}),void 0!==s&&"a"!==s&&p&&"select_one"==p.type?c.sort(function(e,t){return i.findIndex(function(t){return t.name===e.value})-i.findIndex(function(e){return e.name===t.value})}):c.sort(function(e,t){return e.count-t.count}).reverse();var d=c.find(function(e){return void 0===e.value});d&&(c=c.filter(function(e){return e!==d})).push(d),this.setState({markerMap:c})}else this.setState({markerMap:!1});this.state.submissions.forEach(function(e){var t={};if(Object(N.checkLatLng)(e._geolocation)){if(n&&c){var r=e[o.nameOfFieldInGroup(n)],i=c.findIndex(function(e){return e.value===r});void 0!==s&&"a"!==s&&(i=o.calculateIconIndex(i,c)),t={icon:o.buildIcon(i+1),sId:e._id,typeId:l[r].id}}else t={icon:o.buildIcon(),sId:e._id,typeId:null};a.push(M.a.marker(e._geolocation,t))}}),a.length>=0?(n?r=M.a.featureGroup(a):(r=M.a.markerClusterGroup({maxClusterRadius:this.calculateClusterRadius,disableClusteringAtZoom:16,iconCreateFunction:function(e){var t=e.getChildCount(),r="marker-cluster marker-cluster-";return r+=t<10?"small":t<100?"medium":"large",new M.a.divIcon({html:"<div><span>"+t+"</span></div>",className:r,iconSize:new M.a.Point(30,30)})}})).addLayers(a),r.on("click",this.launchSubmissionModal).addTo(e),!(a.length>0)||n&&this.state.componentRefreshed||e.fitBounds(r.getBounds()),0==a&&(e.fitBounds([[42.373,-71.124]]),this.setState({noData:!0})),this.setState({markers:r})):this.setState({error:t("Error: could not load data."),loading:!1})}},{key:"calculateIconIndex",value:function(e,t){if(t[e]&&null==t[e].value)return"-novalue";var r=t.find(function(e){return void 0===e.value});if(r&&(t=t.filter(function(e){return e!==r})),t.length>=9)return e;var o=e/t.length*9.5;return Math.round(o)}},{key:"buildIcon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.calcColorSet()||"a",r=e?"map-marker-".concat(t).concat(e):"map-marker-a";return M.a.divIcon({className:"map-marker ".concat(r),iconSize:[20,20]})}},{key:"prepFilteredMarkers",value:function(e,t){var r=new Object,o=this.nameOfFieldInGroup(t),a=1;return e.forEach(function(e,t){var n=e[o];null==r[n]?(r[n]={count:1,id:a},a++):r[n].count+=1}),r}},{key:"buildHeatMap",value:function(e){var t=[];this.state.submissions.forEach(function(e){Object(N.checkLatLng)(e._geolocation)&&t.push([e._geolocation[0],e._geolocation[1],1])});var r=M.a.heatLayer(t,{minOpacity:.25,radius:20,blur:8});this.state.markersVisible||e.addLayer(r),this.setState({heatmap:r})}},{key:"showMarkers",value:function(){var e=this.state.map;e.addLayer(this.state.markers),e.removeLayer(this.state.heatmap),this.setState({markersVisible:!0})}},{key:"showLayerControls",value:function(){$.expand()}},{key:"showHeatmap",value:function(){var e=this.state.map;e.addLayer(this.state.heatmap),e.removeLayer(this.state.markers),this.setState({markersVisible:!1})}},{key:"filterMap",value:function(e){var t=this;this.setState({clearDisaggregatedPopover:!0}),window.setTimeout(function(){t.setState({clearDisaggregatedPopover:!1})},1e3);var r=e.target.getAttribute("data-name")||void 0;null!=r?O.f.push("/forms/".concat(this.props.asset.uid,"/data/map/").concat(r)):O.f.push("/forms/".concat(this.props.asset.uid,"/data/map"))}},{key:"filterLanguage",value:function(e){var t=e.target.getAttribute("data-index");this.setState({langIndex:t})}},{key:"componentWillReceiveProps",value:function(e){if(null!=this.props.viewby&&this.setState({markersVisible:!0}),this.props.viewby!=e.viewby){this.setState({filteredByMarker:!1,componentRefreshed:!0});var t=this.refreshMap();this.requestData(t,e.viewby)}}},{key:"refreshMap",value:function(){var e=this.state.map;return e.removeLayer(this.state.markers),e.removeLayer(this.state.heatmap),e}},{key:"launchSubmissionModal",value:function(e){var t=this.state.submissions,r=[];t.forEach(function(e){r.push(e._id)}),h.a.pageState.showModal({type:S.MODAL_TYPES.SUBMISSION,sid:e.layer.options.sId,asset:this.props.asset,ids:r})}},{key:"toggleMapSettings",value:function(){this.setState({showMapSettings:!this.state.showMapSettings})}},{key:"overrideStyles",value:function(e){var t=this;this.setState({filteredByMarker:!1,componentRefreshed:!0,overridenStyles:e});var r=this.refreshMap();window.setTimeout(function(){t.requestData(r,t.props.viewby)},0)}},{key:"toggleFullscreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen});var e=this.state.map;setTimeout(function(){e.invalidateSize()},300)}},{key:"toggleLegend",value:function(){this.setState({showExpandedLegend:!this.state.showExpandedLegend})}},{key:"filterByMarker",value:function(e){var t=this.state.markers,r=e.target.getAttribute("data-id"),o=this.state.filteredByMarker;o?o.includes(r)?o=o.filter(function(e){return e!==r}):o.push(r):o=[r],this.setState({filteredByMarker:o}),t.eachLayer(function(e){o.includes(e.options.typeId.toString())?e._icon.classList.remove("unselected"):e._icon.classList.add("unselected")})}},{key:"resetFilterByMarker",value:function(){var e=this.state.markers;this.setState({filteredByMarker:!1}),e.eachLayer(function(e){e._icon.classList.remove("unselected")})}},{key:"nameOfFieldInGroup",value:function(e){return Object(g.h)(this.props.asset.content.survey)[e]}},{key:"render",value:function(){var e=this;if(this.state.error)return n.a.createElement(C.a.Panel,null,n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,this.state.error)));var r=this.state.fields,o=this.state.langIndex,a=this.props.asset.content.translations.length>1?this.props.asset.content.translations:[],s=this.props.viewby,i=this.calcColorSet()||"a",l=t("Disaggregate by survey responses");s?r.forEach(function(e){s!==e.name&&s!==e.$autoname||(l="".concat(t("Disaggregated using:")," ").concat(e.label[o]))}):this.state.noData&&this.state.hasGeoPoint?l="".concat(t('No "geopoint" responses have been received')):this.state.hasGeoPoint||(l="".concat(t('The map does not show data because this form does not have a "geopoint" field.')));var c=["map"];return this.state.isFullscreen&&c.push("fullscreen"),n.a.createElement(f.a.FormView,{m:c,className:"right-tooltip"},n.a.createElement(f.a.FormView__mapButton,{m:"expand",onClick:this.toggleFullscreen,"data-tip":t("Toggle Fullscreen"),className:this.state.toggleFullscreen?"active":""},n.a.createElement("i",{className:"k-icon-expand"})),n.a.createElement(f.a.FormView__mapButton,{m:"markers",onClick:this.showMarkers,"data-tip":t("Show as points"),className:this.state.markersVisible?"active":""},n.a.createElement("i",{className:"k-icon-pins"})),n.a.createElement(f.a.FormView__mapButton,{m:"layers",onClick:this.showLayerControls,"data-tip":t("Toggle layers")},n.a.createElement("i",{className:"k-icon-layer"})),n.a.createElement(f.a.FormView__mapButton,{m:"map-settings",onClick:this.toggleMapSettings,"data-tip":t("Map display settings")},n.a.createElement("i",{className:"k-icon-settings"})),!s&&n.a.createElement(f.a.FormView__mapButton,{m:"heatmap",onClick:this.showHeatmap,"data-tip":t("Show as heatmap"),className:this.state.markersVisible?"":"active"},n.a.createElement("i",{className:"k-icon-heatmap"})),this.state.hasGeoPoint&&!this.state.noData&&n.a.createElement(C.a.PopoverMenu,{type:"viewby-menu",triggerLabel:l,m:"above",clearPopover:this.state.clearDisaggregatedPopover,blurEventDisabled:!0},a.length>1&&n.a.createElement(f.a.PopoverMenu__heading,null,t("Language")),a.map(function(r,o){return n.a.createElement(f.a.PopoverMenu__link,{"data-index":o,className:e.state.langIndex==o?"active":"",key:"l-".concat(o),onClick:e.filterLanguage},r||t("Default"))}),n.a.createElement(f.a.PopoverMenu__link,{key:"all",onClick:this.filterMap,className:s?"see-all":"active see-all"},t("-- See all data --")),r.map(function(r){var a=r.name||r.$autoname,i=r.label?r.label[o]?r.label[o]:n.a.createElement("em",null,t("untranslated: ")+a):t("Question label not set");return n.a.createElement(f.a.PopoverMenu__link,{"data-name":a,key:"f-".concat(a),onClick:e.filterMap,className:s==a?"active":""},i)})),this.state.noData&&!this.state.hasGeoPoint&&n.a.createElement("div",{className:"map-transparent-background"},n.a.createElement("div",{className:"map-no-geopoint-wrapper"},n.a.createElement("p",{className:"map-no-geopoint"},t('The map does not show data because this form does not have a "geopoint" field.')))),this.state.noData&&this.state.hasGeoPoint&&n.a.createElement("div",{className:"map-transparent-background"},n.a.createElement("div",{className:"map-no-geopoint-wrapper"},n.a.createElement("p",{className:"map-no-geopoint"},t('No "geopoint" responses have been received')))),this.state.markerMap&&this.state.markersVisible&&n.a.createElement(f.a.FormView__mapList,{className:this.state.showExpandedLegend?"expanded":"collapsed"},n.a.createElement("div",{className:"maplist-contents"},this.state.filteredByMarker&&n.a.createElement("div",{key:"m-reset",className:"map-marker-item map-marker-reset",onClick:this.resetFilterByMarker},t("Reset")),this.state.markerMap.map(function(r,a){var s="map-marker-item ";e.state.filteredByMarker&&(s+=e.state.filteredByMarker.includes(r.id.toString())?"selected":"unselected");var l=r.labels?r.labels[o]:r.value?r.value:t("not set"),c=a;return void 0!==i&&"a"!==i&&(c=e.calculateIconIndex(c,e.state.markerMap)),n.a.createElement("div",{key:"m-".concat(a),className:s},n.a.createElement("span",{className:"map-marker map-marker-".concat(i).concat(c+1)},r.count),n.a.createElement("span",{className:"map-marker-label",onClick:e.filterByMarker,"data-id":r.id,title:l},l))})),n.a.createElement("div",{className:"maplist-legend",onClick:this.toggleLegend},n.a.createElement("i",{className:R()("fa",this.state.showExpandedLegend?"fa-angle-down":"fa-angle-up")})," ",t("Legend"))),!this.state.markers&&!this.state.heatmap&&n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null))),this.state.showMapSettings&&n.a.createElement(C.a.Modal,{open:!0,onClose:this.toggleMapSettings,title:t("Map Settings")},n.a.createElement(B.a,{asset:this.props.asset,toggleMapSettings:this.toggleMapSettings,overrideStyles:this.overrideStyles,overridenStyles:this.state.overridenStyles})),n.a.createElement("div",{id:"data-map"}))}}])&&U(r.prototype,o),s}();c()(Q.prototype,m.a.ListenerMixin);var W=Q,K=W,J=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Y,"streets","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/map.es6"),__REACT_HOT_LOADER__.register(G,"baseLayers","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/map.es6"),__REACT_HOT_LOADER__.register($,"controls","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/map.es6"),__REACT_HOT_LOADER__.register(Q,"FormMap","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/map.es6"),__REACT_HOT_LOADER__.register(W,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/map.es6")),o(14)),X=o.n(J);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=ae(e);if(t){var a=ae(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?oe(e):t}(this,r)}}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(s,n.a.Component);var r,o,a=re(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={isLoadingHooks:!0,assetUid:e.assetUid,hooks:[]},p()(oe(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(_.a.hooks.getAll.completed,this.onHooksUpdate),_.a.hooks.getAll(this.state.assetUid,{onComplete:function(t){e.setState({isLoadingHooks:!1,hooks:t.results})},onFail:function(r){e.setState({isLoadingHooks:!1}),X.a.error(t("Could not load REST Services"))}})}},{key:"onHooksUpdate",value:function(e){this.setState({isLoadingHooks:!1,hooks:e.results})}},{key:"editHook",value:function(e){h.a.pageState.showModal({assetUid:this.state.assetUid,type:S.MODAL_TYPES.REST_SERVICES,hookUid:e.currentTarget.dataset.hookUid})}},{key:"deleteHookSafe",value:function(e){var r=this,o=e.currentTarget.dataset.hookName,a=e.currentTarget.dataset.hookUid;if(this.state.assetUid){var n=X.a.dialog("confirm"),s={title:t("Are you sure you want to delete ##target?").replace("##target",o),message:t("You are about to delete ##target. This action cannot be undone.").replace("##target","<strong>".concat(o,"</strong>")),labels:{ok:t("Confirm"),cancel:t("Cancel")},onok:function(){_.a.hooks.delete(r.state.assetUid,a)},oncancel:function(){n.destroy()}};n.set(s).show()}}},{key:"openNewRESTServiceModal",value:function(){h.a.pageState.showModal({assetUid:this.state.assetUid,type:S.MODAL_TYPES.REST_SERVICES})}},{key:"getSupportUrl",value:function(){if(h.a.serverEnvironment&&h.a.serverEnvironment.state.support_url)return h.a.serverEnvironment.state.support_url+"rest_services.html"}},{key:"renderModalButton",value:function(){return n.a.createElement(f.a.KoboButton,{m:"blue",onClick:this.openNewRESTServiceModal},t("Register a New Service"))}},{key:"renderEmptyView",value:function(){return n.a.createElement(f.a.FormView,{m:"form-settings",className:"rest-services rest-services--empty"},n.a.createElement(f.a.EmptyContent,null,n.a.createElement(f.a.EmptyContent__icon,{className:"k-icon-data-sync"}),n.a.createElement(f.a.EmptyContent__title,null,t("This project doesn't have any REST Services yet!")),n.a.createElement(f.a.EmptyContent__message,null,t("You can use REST Services to automatically post submissions to a third-party application.")," ",n.a.createElement("a",{href:this.getSupportUrl(),target:"_blank"},t("Learn more"))),this.renderModalButton()))}},{key:"renderListView",value:function(){var e=this;return n.a.createElement(f.a.FormView,{m:"form-settings",className:"rest-services"},n.a.createElement(f.a.FormView__cell,{m:"rest-services-list"},n.a.createElement("header",{className:"rest-services-list__header"},n.a.createElement("h2",{className:"rest-services-list__header-label"},t("REST Services: ##number##").replace("##number##",this.state.hooks.length)),n.a.createElement("a",{className:"rest-services-list__header-help-link rest-services-list__header-right",href:this.getSupportUrl(),target:"_blank"},n.a.createElement("i",{className:"k-icon k-icon-help"}),t("Need help?"))),n.a.createElement(f.a.FormView__cell,{m:["box"]},n.a.createElement(f.a.ServiceRow,{m:"header"},n.a.createElement(f.a.ServiceRow__column,{m:"name"},t("Service Name")),n.a.createElement(f.a.ServiceRow__column,{m:"count"},t("Success")),n.a.createElement(f.a.ServiceRow__column,{m:"count"},t("Pending")),n.a.createElement(f.a.ServiceRow__column,{m:"count"},t("Failed")),n.a.createElement(f.a.ServiceRow__column,{m:"actions"})),this.state.hooks.map(function(r){var o="/#/forms/".concat(e.state.assetUid,"/settings/rest/").concat(r.uid);return n.a.createElement(f.a.ServiceRow,{key:r.uid,m:r.active?"active":"inactive"},n.a.createElement(f.a.ServiceRow__linkOverlay,{href:o}),n.a.createElement(f.a.ServiceRow__column,{m:"name"},r.name),n.a.createElement(f.a.ServiceRow__column,{m:"count"},r.success_count),n.a.createElement(f.a.ServiceRow__column,{m:"count"},r.pending_count),n.a.createElement(f.a.ServiceRow__column,{m:"count"},r.failed_count),n.a.createElement(f.a.ServiceRow__column,{m:"actions"},n.a.createElement(f.a.ServiceRow__actionButton,{onClick:e.editHook,"data-hook-uid":r.uid,"data-tip":t("Edit")},n.a.createElement("i",{className:"k-icon-edit"})),n.a.createElement(f.a.ServiceRow__actionButton,{onClick:e.deleteHookSafe.bind(e),"data-hook-name":r.name,"data-hook-uid":r.uid,"data-tip":t("Delete")},n.a.createElement("i",{className:"k-icon-trash"}))))}))),this.renderModalButton())}},{key:"render",value:function(){return this.state.isLoadingHooks?n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null),t("loading..."))):0===this.state.hooks.length?this.renderEmptyView():this.renderListView()}}])&&ee(r.prototype,o),s}();c()(ne.prototype,m.a.ListenerMixin),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("rest_services.html","REST_SERVICES_SUPPORT_URL","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/RESTServices/RESTServicesList.es6"),__REACT_HOT_LOADER__.register(ne,"RESTServicesList","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/RESTServices/RESTServicesList.es6"));var se=o(471);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=de(e);if(t){var a=de(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?pe(e):t}(this,r)}}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(s,n.a.Component);var r,o,a=ue(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),t=a.call(this,e),p()(pe(t)),t}return r=s,(o=[{key:"render",value:function(){var e=this.props.asset.name||t("Untitled"),r=b.a.permissions.userCan(S.PERMISSIONS_CODENAMES.view_submissions,this.props.asset)&&b.a.permissions.userCan(S.PERMISSIONS_CODENAMES.change_asset,this.props.asset);return n.a.createElement(y.a,{title:"".concat(e," | KoboToolbox")},n.a.createElement(n.a.Fragment,null,!r&&n.a.createElement(C.a.AccessDeniedMessage,null),r&&this.props.hookUid&&n.a.createElement(se.a,{assetUid:this.props.asset.uid,hookUid:this.props.hookUid}),r&&!this.props.hookUid&&n.a.createElement(ne,{assetUid:this.props.asset.uid})))}}])&&le(r.prototype,o),s}();function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=ve(e);if(t){var a=ve(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?ge(e):t}(this,r)}}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(me,"RESTServices","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/RESTServices.es6");var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(s,n.a.Component);var r,o,a=be(s);function s(e){var t;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(t=a.call(this,e)).state={},p()(ge(t)),t}return r=s,(o=[{key:"componentDidMount",value:function(){this.listenTo(h.a.asset,this.dmixAssetStoreChange);var e=this.props.params.assetid||this.props.uid||this.props.params.uid;this.props.randdelay&&e?window.setTimeout(function(){_.a.resources.loadAsset({id:e})},3e3*Math.random()):e&&_.a.resources.loadAsset({id:e})}},{key:"render",value:function(){var e=this.userCan("view_submissions",this.state)||this.userCan("partial_submissions",this.state);if(!this.state.permissions)return!1;if((this.props.location.pathname=="/forms/".concat(this.state.uid,"/settings")||this.props.location.pathname=="/forms/".concat(this.state.uid,"/settings/sharing"))&&!this.userCan("change_asset",this.state))return n.a.createElement(C.a.AccessDeniedMessage,null);if(this.props.location.pathname=="/forms/".concat(this.state.uid,"/settings/rest")&&!e)return n.a.createElement(C.a.AccessDeniedMessage,null);if(this.props.location.pathname=="/forms/".concat(this.state.uid,"/settings/media")&&!g.b.isSelfOwned(this.state))return n.a.createElement(C.a.AccessDeniedMessage,null);var r="",o="",a="";if(null!=this.state.uid)switch(null!=this.state.deployment__identifier&&(o=(a=this.state.deployment__identifier).replace("/forms/","/reports/")),this.props.location.pathname){case"/forms/".concat(this.state.uid,"/data/report-legacy"):r=o+"/digest.html";break;case"/forms/".concat(this.state.uid,"/data/table"):return n.a.createElement(E.b,{asset:this.state});case"/forms/".concat(this.state.uid,"/data/table-legacy"):r=o+"/export.html";break;case"/forms/".concat(this.state.uid,"/data/gallery"):r=a+"/photos";break;case"/forms/".concat(this.state.uid,"/data/map"):return n.a.createElement(K,{asset:this.state});case"/forms/".concat(this.state.uid,"/data/map/").concat(this.props.params.viewby):return n.a.createElement(K,{asset:this.state,viewby:this.props.params.viewby});case"/forms/".concat(this.state.uid,"/data/downloads"):return this.renderProjectDownloads();case"/forms/".concat(this.state.uid,"/settings"):return this.renderSettingsEditor();case"/forms/".concat(this.state.uid,"/settings/media"):r=a+"/form_settings";break;case"/forms/".concat(this.state.uid,"/settings/sharing"):return this.renderSharing();case"/forms/".concat(this.state.uid,"/settings/rest"):return n.a.createElement(me,{asset:this.state});case"/forms/".concat(this.state.uid,"/settings/rest/").concat(this.props.params.hookUid):return n.a.createElement(me,{asset:this.state,hookUid:this.props.params.hookUid});case"/forms/".concat(this.state.uid,"/settings/kobocat"):r=a+"/form_settings";break;case"/forms/".concat(this.state.uid,"/reset"):return this.renderReset()}var s=this.state.name||t("Untitled");return n.a.createElement(y.a,{title:"".concat(s," | KoboToolbox")},n.a.createElement(f.a.FormView,null,n.a.createElement(f.a.FormView__cell,{m:"iframe"},n.a.createElement("iframe",{src:r}))))}},{key:"renderSettingsEditor",value:function(){var e=this.state.name||t("Untitled");return n.a.createElement(y.a,{title:"".concat(e," | KoboToolbox")},n.a.createElement(f.a.FormView,{m:"form-settings"},n.a.createElement(k.a,{context:S.PROJECT_SETTINGS_CONTEXTS.EXISTING,formAsset:this.state})))}},{key:"renderProjectDownloads",value:function(){var e=this.state.name||t("Untitled");return n.a.createElement(y.a,{title:"".concat(e," | KoboToolbox")},n.a.createElement(x.a,{asset:this.state}))}},{key:"renderSharing",value:function(){var e=this.props.params.assetid||this.props.params.uid;return n.a.createElement(f.a.FormView,{m:"form-settings-sharing"},n.a.createElement(w.a,{uid:e}))}},{key:"renderReset",value:function(){return n.a.createElement(f.a.Loading,null,n.a.createElement(f.a.Loading__inner,null,n.a.createElement("i",null),t("loading...")))}}])&&fe(r.prototype,o),s}();c()(ye.prototype,m.a.ListenerMixin),c()(ye.prototype,b.a.dmix),c()(ye.prototype,b.a.permissions),c()(ye.prototype,b.a.contextRouter),ye.contextTypes={router:i.a.object};var we=ye;r.a=we,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ye,"FormSubScreens","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formSubScreens.es6"),__REACT_HOT_LOADER__.register(we,"default","/home/sujit/projects/ndrrma/survey/source/jsapp/js/components/formSubScreens.es6"))},59:function(e,t,r){var o,a,n,s,i,l,c,u=function(e,t){for(var r in t)p.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},p={}.hasOwnProperty;i=r(15),s=r(25),l=r(397),n=r(60),o=r(37),a=r(322),e.exports=(i.extend(l.validators,{invalidChars:function(e,t,r){if(!n.Validator.__validators.invalidChars(e,r))return e+" contains invalid characters"},unique:function(e,t,r,o){var a,s;return a=o.getSurvey().rows.pluck(o.key),s=i.map(a,function(e){return e.get("value")}),n.Validator.__validators.unique(e,s)?void 0:"Question name isn't unique"}}),i.extend(s.Model.prototype,l.mixin),(c={}).BaseCollection=function(e){function t(e,r){if(e&&"_parent"in e)throw new Error("_parent chould be assigned as property to 2nd argument to XLF.BaseCollection (not first)");r&&r._parent&&(this._parent=r._parent),t.__super__.constructor.call(this,e,r)}return u(t,e),t.prototype.getSurvey=function(){var e;for(e=this._parent;e._parent;)e=e._parent;return e},t}(s.Collection),c.BaseModel=function(e){function t(e,r){r&&"_parent"in r?this._parent=r._parent:"object"==typeof e&&"_parent"in e&&(this._parent=e._parent,delete e._parent),t.__super__.constructor.call(this,e,r)}return u(t,e),t.prototype.parse=function(){},t.prototype.linkUp=function(e){},t.prototype.finalize=function(){},t.prototype.getValue=function(e){var t;if(e){if(void 0===(t=this.get(e)))throw new Error("Could not get value");t.getValue&&(t=t.getValue())}else t=this.get("value");return t},t.prototype.setDetail=function(e,t){return t.constructor===c.RowDetail?this.set(e,t):this.set(e,new c.RowDetail({key:e,value:t},{_parent:this}))},t.prototype.parentRow=function(){return this._parent._parent},t.prototype.precedingRow=function(){var e;if(0!==(e=this._parent.models.indexOf(this)))return this._parent.at(e-1)},t.prototype.nextRow=function(){var e;return e=this._parent.models.indexOf(this),this._parent.at(e+1)},t.prototype.getSurvey=function(){var e;if(null==(e=this._parent))return null;for(;e._parent||e.collection;)if(e._parent)e=e._parent;else{if(!e.collection||!e.collection._parent)break;e=e.collection._parent}return e},t}(s.Model),c.RowDetail=function(e){function t(e,r){var n,s,l,c;this.key=e.key,s=e.value,this.validation=(l=this.validation,c=this,function(){return l.apply(c,arguments)}),this._parent=r._parent,this.key in a&&i.extend(this,a[this.key]),t.__super__.constructor.call(this),null!=s&&(n={},i.isString(s)||i.isNumber(s)?n.value=s:i.isObject(s)&&"value"in s?i.extend(n,s):n.value=s,this.set(n)),this._order=o.columnOrder(this.key),this.postInitialize()}return u(t,e),t.prototype.idAttribute="name",t.prototype.validation=function(){return"name"===this.key?{value:{unique:!0,required:!0}}:"calculation"===this.key||"label"===this.key&&"group"!==this._parent.constructor.key?{value:{required:!0}}:{}},t.prototype.postInitialize=function(){},t.prototype.initialize=function(){var e,t;if(this.get("_hideUnlessChanged")&&(this.hidden=!0,this._oValue=this.get("value"),this.on("change",function(){return this.hidden=this.get("value")===this._oValue})),this.on("change:value",(t=this,function(e,r,o){return t._parent.trigger("detail-change",t.key,r,o),t.getSurvey().trigger("row-detail-change",t._parent,t.key,r,o)})),"name"===(e=this.key)||"label"===e||"hint"===e||"guidance_hint"===e||"required"===e||"calculation"===e||"default"===e||"appearance"===e||"constraint_message"===e||"tags"===e||this.key.match(/^.+::.+/))return this.on("change",function(e){return function(t){return e.getSurvey().trigger("change",t)}}(this))},t}(c.BaseModel),c)},6:function(e,r,o){"use strict";o.d(r,"a",function(){return h});var a=o(7),n=o.n(a),s=o(149),i=o(57),l=o.n(i),c=o(70),u=o.n(c),p=o(73),d=o(5),m=o(3),_=new s.a;function f(e,t){var r={},o=!1;return Object.keys(t).forEach(function(a){e[a]!==t[a]&&(r[a]=t[a],o=!0)}),!!o&&r}var h={};h.tags=n.a.createStore({init:function(){this.queries={},this.listenTo(d.a.resources.listTags.completed,this.listTagsCompleted)},listTagsCompleted:function(e){this.trigger(e.results)}}),h.surveyState=n.a.createStore({init:function(){this.state={}},setState:function(e){var t=f(this.state,e);t&&(Object(m.assign)(this.state,e),this.trigger(t))}}),h.assetSearch=n.a.createStore({init:function(){this.queries={},this.listenTo(d.a.search.assets.completed,this.onSearchAssetsCompleted)},getRecentSearch:function(e){return e in this.queries&&(new Date).getTime()-this.queries[e][1].getTime()<3e5&&this.queries[e][0]},onSearchAssetsCompleted:function(e,t){t.query=e.q,this.queries[e.q]=[t,new Date],t.count>0&&this.trigger(t)}}),h.translations=n.a.createStore({init:function(){this.state={isTranslationTableUnsaved:!1}},setState:function(e){var t=f(this.state,e);t&&(Object(m.assign)(this.state,t),this.trigger(t))},setTranslationTableUnsaved:function(e){this.setState({isTranslationTableUnsaved:e})}}),h.pageState=n.a.createStore({init:function(){this.state={assetNavExpanded:!1,showFixedDrawer:!1}},setState:function(e){var t=f(this.state,e);t&&(Object(m.assign)(this.state,t),this.trigger(t))},toggleFixedDrawer:function(){var e={},t=!this.state.showFixedDrawer;e.showFixedDrawer=t,Object(m.assign)(this.state,e),this.trigger(e)},showModal:function(e){this.setState({modal:e})},hideModal:function(){this._onHideModal&&this._onHideModal(),this.setState({modal:!1})},switchModal:function(e){var t=this;this.hideModal(),window.setTimeout(function(){t.showModal(e)},0)},switchToPreviousModal:function(){this.switchModal({type:this.state.modal.previousType})},hasPreviousModal:function(){return this.state.modal&&this.state.modal.previousType}}),h.snapshots=n.a.createStore({init:function(){this.listenTo(d.a.resources.createSnapshot.completed,this.snapshotCreated),this.listenTo(d.a.resources.createSnapshot.failed,this.snapshotCreationFailed)},snapshotCreated:function(e){this.trigger(Object(m.assign)({success:!0},e))},snapshotCreationFailed:function(e){this.trigger(Object(m.assign)({success:!1},e.responseJSON))}}),h.asset=n.a.createStore({init:function(){this.data={},this.listenTo(d.a.resources.loadAsset.completed,this.onLoadAssetCompleted),this.listenTo(d.a.resources.updateAsset.completed,this.onUpdateAssetCompleted)},onUpdateAssetCompleted:function(e){this.data[e.uid]=Object(p.b)(e),this.trigger(this.data,e.uid,{asset_updated:!0})},onLoadAssetCompleted:function(e){if(!e.uid)throw new Error("no uid found in response");this.data[e.uid]=Object(p.b)(e),this.trigger(this.data,e.uid)}}),h.session=n.a.createStore({init:function(){this.listenTo(d.a.auth.getEnvironment.completed,this.triggerEnv),this.listenTo(d.a.auth.verifyLogin.loggedin,this.triggerLoggedIn),this.listenTo(d.a.auth.verifyLogin.anonymous,function(e){Object(m.log)("login confirmed anonymous",e.message)}),this.listenTo(d.a.auth.verifyLogin.failed,function(e){Object(m.log)("login not verified",e.status,e.statusText)}),d.a.auth.verifyLogin(),d.a.auth.getEnvironment()},getInitialState:function(){return{isLoggedIn:!1,sessionIsLoggedIn:!1}},triggerEnv:function(e){var t=function(e){return{value:e[0],label:e[1]}};e.available_sectors&&(e.available_sectors=e.available_sectors.map(t)),e.available_countries&&(e.available_countries=e.available_countries.map(t)),e.interface_languages&&(e.interface_languages=e.interface_languages.map(t)),e.all_languages&&(e.all_languages=e.all_languages.map(t)),this.environment=e,this.trigger({environment:e})},triggerLoggedIn:function(e){this.currentAccount=e,this.trigger({isLoggedIn:!0,sessionIsLoggedIn:!0,sessionAccount:e,currentAccount:e})}}),h.assetContent=n.a.createStore({init:function(){this.data={},this.surveys={},this.listenTo(d.a.resources.loadAssetContent.completed,this.onLoadAssetContentCompleted)},onLoadAssetContentCompleted:function(e){this.data[e.uid]=e,this.trigger(this.data,e.uid)}}),h.surveyCompanion=n.a.createStore({init:function(){this.listenTo(d.a.survey.addExternalItemAtPosition,this.addExternalItemAtPosition)},addExternalItemAtPosition:function(e){var t=e.position,r=e.survey,o=e.uid,a=e.groupId;h.allAssets.whenLoaded(o,function(e){var o=l()(e),n=u.a.model.Survey.loadDict(o.content,r);r.insertSurvey(n,t,a)})}}),h.allAssets=n.a.createStore({init:function(){this.data=[],this.byUid={},this._waitingOn={},this.listenTo(d.a.search.assets.completed,this.onListAssetsCompleted),this.listenTo(d.a.search.assets.failed,this.onListAssetsFailed),this.listenTo(d.a.resources.updateAsset.completed,this.onUpdateAssetCompleted),this.listenTo(d.a.resources.deleteAsset.completed,this.onDeleteAssetCompleted),this.listenTo(d.a.resources.cloneAsset.completed,this.onCloneAssetCompleted),this.listenTo(d.a.resources.loadAsset.completed,this.onLoadAssetCompleted)},whenLoaded:function(e,t){"string"==typeof e&&"function"==typeof t&&(this.byUid[e]&&this.byUid[e].content?t.call(this,this.byUid[e]):(this._waitingOn[e]||(this._waitingOn[e]=[]),this._waitingOn[e].push(t),d.a.resources.loadAsset({id:e})))},onUpdateAssetCompleted:function(e){var t=this;this.registerAsset(e),this.data.forEach(function(r,o){r.uid===e.uid&&(t.data[o]=e)})},onLoadAssetCompleted:function(e){this.registerAsset(e)},onCloneAssetCompleted:function(e){this.registerAsset(e),this.byUid[e.uid]=e,this.data.unshift(e),this.trigger(this.data)},onDeleteAssetCompleted:function(e){var t=this;this.byUid[e.uid]&&(this.byUid[e.uid].deleted="true",this.trigger(this.data),window.setTimeout(function(){t.data=t.data.filter(function(t){return t.uid!==e.uid}),t.trigger(t.data)},500))},registerAsset:function(e){var t=Object(p.a)(e);e.tags=t.tags,this.byUid[e.uid]=e,e.content&&this.callCallbacks(e)},callCallbacks:function(e){if(this._waitingOn[e.uid])for(;this._waitingOn[e.uid].length>0;)this._waitingOn[e.uid].pop().call(this,e)},onListAssetsCompleted:function(e,t){t.results.forEach(this.registerAsset),this.data=t.results,this.trigger(this.data)},onListAssetsFailed:function(e,r){Object(m.notify)(r.responseJSON.detail||t("failed to list assets"))}}),h.selectedAsset=n.a.createStore({init:function(){this.uid=_.get("selectedAssetUid"),this.listenTo(d.a.resources.cloneAsset.completed,this.onCloneAssetCompleted)},onCloneAssetCompleted:function(e){this.uid=e.uid,this.asset=h.allAssets.byUid[e.uid],this.asset||console.error("selectedAssetStore error"),this.trigger(this.asset)},toggleSelect:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.uid!==e?(this.uid=e,this.asset=h.allAssets.byUid[e]):(this.uid=!1,this.asset={}),_.set("selectedAssetUid",this.uid),this.trigger({selectedAssetUid:this.uid}),!1!==this.uid}}),h.userExists=n.a.createStore({init:function(){this.checked={},this.listenTo(d.a.misc.checkUsername.completed,this.usernameExists),this.listenTo(d.a.misc.checkUsername.failed,this.usernameDoesntExist)},checkUsername:function(e){if(e in this.checked)return this.checked[e]},usernameExists:function(e){this.checked[e]=!0,this.trigger(this.checked,e)},usernameDoesntExist:function(e){this.checked[e]=!1,this.trigger(this.checked,e)}}),h.serverEnvironment=n.a.createStore({init:function(){this.state={},this.listenTo(d.a.misc.getServerEnvironment.completed,this.updateEnvironment)},setState:function(e){var t=f(this.state,e);t&&(Object(m.assign)(this.state,e),this.trigger(t))},updateEnvironment:function(e){this.setState(e)}}),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"cookies","/home/sujit/projects/ndrrma/survey/source/jsapp/js/stores.es6"),__REACT_HOT_LOADER__.register(f,"changes","/home/sujit/projects/ndrrma/survey/source/jsapp/js/stores.es6"),__REACT_HOT_LOADER__.register(h,"stores","/home/sujit/projects/ndrrma/survey/source/jsapp/js/stores.es6"),__REACT_HOT_LOADER__.register(300,"MAX_SEARCH_AGE","/home/sujit/projects/ndrrma/survey/source/jsapp/js/stores.es6"))},60:function(e,t,r){(function(t){var o,a,n,s,i,l,c,u,p,d,m,_=[].slice;a=r(15),o=r(321),e.exports=((n={}).Validator=o,n.normalizeEventName=function(e){var t;return t=new RegExp("[: ()]","g"),e.replace(t,"-")},n.reorderElemsByData=function(e,r,o){var n,s,i,l,c;for(s=[],c=!1,t(r).find(e).each(function(e){var r,n;if(0===e)c=this.parentElement;else if(this.parentElement!==c)throw new Error("All reordered items must be siblings");if(n=(r=t(this).detach()).data(o),a.isNumber(n))return s[n]=r}),i=0,l=s.length;i<l;i++)(n=s[i])&&n.appendTo(c)},n.cleanStringify=function(e){var t,r,o;for(r in t=[],e)""!==(o=e[r])&&t.push('<span class="atts"><i>'+r+'</i>="<em>'+o+'</em>"</span>');return t.join("&nbsp;")},n.debugFrame=(s=!1,i={position:"fixed",width:"95%",height:"80%",bottom:10,left:"2.5%",overflow:"auto",zIndex:100,backgroundColor:"rgba(255,255,255,0.7)"},(l=function(e){var r;return r=e.split("\n").join("<br>"),s=t("<div>",{class:"well debug-frame"}).html("<code>"+r+"</code>").css(i).appendTo("body")}).close=function(){if(s)return s.remove(),s=!1},l),n.launchQuestionLibrary=function(e){var r;return null==e&&(e={}),r=t("<div>",{class:"js-click-remove-iframe iframe-bg-shade"}),t("<div>").text('Launch question library in this element\n<section koboform-question-library=""></section>').appendTo(r),r.click(function(){return r.remove()}),r},n.enketoIframe=(d="https://enketo.org",p="/webform/preview",u=function(e){return""+d+p+"?form="+e},c=function(e){if(e.enketoPreviewUri&&(p=e.enketoPreviewUri),e.enketoServer)return d=e.enketoServer},(m=function(e,r){return null==r&&(r={}),c(r),console.log(r),t(".enketo-holder").append(t("<iframe>",{src:u(e)})),t(".enketo-holder iframe").load(function(){return t(".enketo-loading-message").remove()})}).close=function(){return t(".iframe-bg-shade").remove(),t(".enketo-holder").remove()},m.fromCsv=function(e,r){var o,a,n,s,i;return null==r&&(r={}),a=t("<div>",{class:"enketo-holder"}).html('<div class=\'enketo-iframe-icon\'></div>\n<div class="enketo-loading-message">\n  <p>\n  <i class="fa fa-spin fa-spinner"></i>\n  <br/>\n  Loading Preview\n</p>\n<p>\n  This will take a few seconds depending on the size of your form.\n</p>\n</div>'),i=t("<div>",{class:"js-click-remove-iframe iframe-bg-shade"}),a.appendTo("body"),i.appendTo("body"),i.click(function(){return i.remove(),a.remove()}),t(".enketo-holder .enketo-iframe-icon").click(function(){return i.remove(),a.remove()}),s=r.previewServer||"",o=JSON.stringify({body:e}),c(r),n=r.onError||function(){var e;return e=1<=arguments.length?_.call(arguments,0):[],"undefined"!=typeof console&&null!==console?console.error.apply(console,e):void 0},t.ajax({url:s+"/koboform/survey_preview/",method:"POST",data:o,complete:function(e,t){var o,l,c;return l=e.responseJSON,"success"===t&&l&&l.unique_string?(c=l.unique_string,m(s+"/koboform/survey_preview/"+c),null!=r.onSuccess?r.onSuccess():void 0):"success"!==t?(i.remove(),a.remove(),(o=e.responseText||e.statusText).split("\n").length>0&&(o=o.split("\n").slice(0,3).join("<br>")),n(o,{title:"Error launching preview"})):l&&l.error?(i.remove(),a.remove(),n(l.error)):(i.remove(),a.remove(),n("SurveyPreview response JSON is not recognized"))}})},m),n.ViewComposer=function(){function e(){this.views=[]}return e.prototype.add=function(e,t){return this.views.push(e)},e.prototype.remove=function(e){throw"not implemented"},e.prototype.get=function(e){throw"not implemented"},e.prototype.render=function(){var e,t,r,o,a;for(o=[],e=0,t=(r=this.views).length;e<t;e++)a=r[e],o.push(a.render());return o},e.prototype.attach_to=function(e){var t,r,o,a,n;for(a=[],t=0,r=(o=this.views).length;t<r;t++)n=o[t],a.push(n.attach_to(e));return a},e.prototype.bind_event=function(e,t){throw"not implemented"},e}(),n)}).call(this,r(19))},61:function(e,t,r){(function(t){var o;o=r(25),this.jQuery=t,r(398),e.exports=function(){var e;if((e=[]).length>0)throw new Error("Missing plugin(s): {"+e.join(", ")+"}");return o.View}()}).call(this,r(19))},70:function(e,t,r){var o,a,n;o=r(133),n=r(329),a=r(50),e.exports={model:o,view:n,helper:{skipLogic:a}}},71:function(e,t,r){var o,a,n,s,i=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};o=r(15),e.exports=(n={group:["begin group","end group","begin_group","end_group"],repeat:["begin repeat","end repeat","begin_repeat","end_repeat"],kobomatrix:["begin_kobomatrix","end_kobomatrix"],score:["begin score","end score","begin_score","end_score"],rank:["begin_rank","end_rank","begin rank","end rank"],kobomatrix:["begin_kobomatrix","end_kobomatrix"]},a=function(e){return n[e]||[e]},(s={}).groupable=function(){return o.flatten([a("group"),a("repeat"),a("score"),a("rank"),a("kobomatrix")])},s.groupsOrRepeats=function(){return o.flatten([a("group"),a("repeat")])},s.requiredSheetNameList=function(){return["survey"]},s.testGroupable=function(e){var t;return t=!1,i.call(n.group,e)>=0?t={type:"group"}:i.call(n.repeat,e)>=0?t={type:"repeat"}:i.call(n.score,e)>=0?t={type:"score"}:i.call(n.rank,e)>=0?t={type:"rank"}:i.call(n.kobomatrix,e)>=0&&(t={type:"kobomatrix"}),t&&t.type&&(t.begin=!e.match(/end/)),t},s.testGroupOrRepeat=function(e){return console.error("q.testGroupOrRepeat is renamed to q.testGroupable"),s.testGroupable(e)},s.hiddenTypes=function(){return o.flatten([["imei","deviceid"],["start"],["end"],["today"],["simserial"],["subscriberid"],["phonenumber","phone_number"],["audit"]])},a.q=a.custom=s,a)},73:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s});var o=r(3);function a(e){return{tags:e.tag_string.split(",").filter(function(e){return 0!==e.length})}}function n(e){var t=e.content&&e.content.settings;return t?(t.length&&(t=t[0]),{unparsed__settings:t,settings__style:t.style,settings__form_id:t.form_id,settings__title:t.title}):{}}function s(e){return Object(o.assign)(e,n(e),a(e))}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"parseTags","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetParserUtils.es6"),__REACT_HOT_LOADER__.register(n,"parseSettings","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetParserUtils.es6"),__REACT_HOT_LOADER__.register(s,"parsed","/home/sujit/projects/ndrrma/survey/source/jsapp/js/assetParserUtils.es6"))},758:function(e,t,r){var o=r(348),a=r(759);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);o(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},759:function(e,t,r){var o=r(349);(t=e.exports=r(119)(!1)).i(r(760),""),t.i(r(762),""),t.i(r(763),""),t.push([e.i,'.mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid,.ui-panel__body{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing,.ui-panel__body{padding:0}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media (max-width: 479px){.mdl-grid,.ui-panel__body{padding:8px}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.ui-panel__body>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone,.ui-panel__body>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.ui-panel__body>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone,.ui-panel__body>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.ui-panel__body>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone,.ui-panel__body>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.ui-panel__body>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone,.ui-panel__body>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.ui-panel__body>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone,.ui-panel__body>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.ui-panel__body>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone,.ui-panel__body>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.ui-panel__body>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone,.ui-panel__body>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.ui-panel__body>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone,.ui-panel__body>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.ui-panel__body>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone,.ui-panel__body>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.ui-panel__body>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone,.ui-panel__body>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.ui-panel__body>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone,.ui-panel__body>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.ui-panel__body>.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone,.ui-panel__body>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.ui-panel__body>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone,.ui-panel__body>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.ui-panel__body>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone,.ui-panel__body>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.ui-panel__body>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone,.ui-panel__body>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media (min-width: 480px) and (max-width: 839px){.mdl-grid,.ui-panel__body{padding:8px}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.ui-panel__body>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet,.ui-panel__body>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.ui-panel__body>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet,.ui-panel__body>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.ui-panel__body>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet,.ui-panel__body>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.ui-panel__body>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet,.ui-panel__body>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.ui-panel__body>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet,.ui-panel__body>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.ui-panel__body>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet,.ui-panel__body>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.ui-panel__body>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet,.ui-panel__body>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.ui-panel__body>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet,.ui-panel__body>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.ui-panel__body>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet,.ui-panel__body>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.ui-panel__body>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet,.ui-panel__body>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.ui-panel__body>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet,.ui-panel__body>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.ui-panel__body>.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet,.ui-panel__body>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.ui-panel__body>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet,.ui-panel__body>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.ui-panel__body>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet,.ui-panel__body>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.ui-panel__body>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet,.ui-panel__body>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.ui-panel__body>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet,.ui-panel__body>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.ui-panel__body>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet,.ui-panel__body>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.ui-panel__body>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet,.ui-panel__body>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.ui-panel__body>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet,.ui-panel__body>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media (min-width: 840px){.mdl-grid,.ui-panel__body{padding:8px}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder{margin:8px;width:calc(33.33333% - 16px)}.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder{width:33.33333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.33333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.ui-panel__body>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop,.ui-panel__body>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.33333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.66667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.ui-panel__body>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop,.ui-panel__body>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.66667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.ui-panel__body>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop,.ui-panel__body>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.33333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.ui-panel__body>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop,.ui-panel__body>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.33333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.66667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.ui-panel__body>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop,.ui-panel__body>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.66667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.ui-panel__body>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop,.ui-panel__body>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.33333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.ui-panel__body>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop,.ui-panel__body>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.33333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.66667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.ui-panel__body>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop,.ui-panel__body>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.66667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.ui-panel__body>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop,.ui-panel__body>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.33333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.ui-panel__body>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop,.ui-panel__body>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.33333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.66667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.ui-panel__body>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop,.ui-panel__body>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.66667%}.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.ui-panel__body>.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop,.ui-panel__body>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.33333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.ui-panel__body>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop,.ui-panel__body>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.33333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.66667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.ui-panel__body>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop,.ui-panel__body>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.66667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.ui-panel__body>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop,.ui-panel__body>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.33333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.ui-panel__body>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop,.ui-panel__body>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.33333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.66667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.ui-panel__body>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop,.ui-panel__body>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.66667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.ui-panel__body>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop,.ui-panel__body>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.33333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.ui-panel__body>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop,.ui-panel__body>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.33333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.66667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.ui-panel__body>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop,.ui-panel__body>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.66667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.ui-panel__body>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop,.ui-panel__body>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.33333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.ui-panel__body>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop,.ui-panel__body>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.33333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.66667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.ui-panel__body>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop,.ui-panel__body>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.66667%}}.mdl-button,.popover-menu--new-menu .popover-menu__toggle,.popover-menu--question-language .popover-menu__toggle,.popover-menu--custom-reports .popover-menu__toggle,.form-wrap .error-message__link,.formBuilder-header__close,.formBuilder-header__button,.cascade-popup .cascade-popup__buttonWrapper button,.form-view__icon-button,.form-view--table .ReactTable .-pagination .-btn,.rest-services .rest-services-list__header-back-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#5a5e72}.mdl-button[data-tip],.popover-menu--new-menu .popover-menu__toggle[data-tip],.popover-menu--question-language .popover-menu__toggle[data-tip],.popover-menu--custom-reports .popover-menu__toggle[data-tip],.form-wrap .error-message__link[data-tip],.formBuilder-header__close[data-tip],.formBuilder-header__button[data-tip],.cascade-popup .cascade-popup__buttonWrapper button[data-tip],.form-view__icon-button[data-tip],.form-view--table .ReactTable .-pagination .-btn[data-tip],.rest-services .rest-services-list__header-back-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner,.popover-menu--new-menu .popover-menu__toggle::-moz-focus-inner,.popover-menu--question-language .popover-menu__toggle::-moz-focus-inner,.popover-menu--custom-reports .popover-menu__toggle::-moz-focus-inner,.form-wrap .error-message__link::-moz-focus-inner,.formBuilder-header__close::-moz-focus-inner,.formBuilder-header__button::-moz-focus-inner,.cascade-popup .cascade-popup__buttonWrapper button::-moz-focus-inner,.form-view__icon-button::-moz-focus-inner,.form-view--table .ReactTable .-pagination .-btn::-moz-focus-inner,.rest-services .rest-services-list__header-back-button::-moz-focus-inner{border:0}.mdl-button:hover,.popover-menu--new-menu .popover-menu__toggle:hover,.popover-menu--question-language .popover-menu__toggle:hover,.popover-menu--custom-reports .popover-menu__toggle:hover,.form-wrap .error-message__link:hover,.formBuilder-header__close:hover,.formBuilder-header__button:hover,.cascade-popup .cascade-popup__buttonWrapper button:hover,.form-view__icon-button:hover,.form-view--table .ReactTable .-pagination .-btn:hover,.rest-services .rest-services-list__header-back-button:hover{color:#2d2f39}.mdl-button.mdl-button--colored,.popover-menu--new-menu .popover-menu__toggle,.popover-menu--question-language .mdl-button--colored.popover-menu__toggle,.popover-menu--question-language .form-wrap .popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--question-language .popover-menu__toggle.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .popover-menu__toggle.error-message__link--raised,.form-wrap .mdl-button--colored.error-message__link,.form-wrap .error-message__link.error-message__link--raised,.form-wrap .mdl-button.error-message__link--raised,.form-wrap .error-message__link--raised.formBuilder-header__close,.form-wrap .error-message__link--raised.formBuilder-header__button,.form-wrap .error-message__link--raised.form-view__icon-button,.form-wrap .rest-services .error-message__link--raised.rest-services-list__header-back-button,.rest-services .form-wrap .error-message__link--raised.rest-services-list__header-back-button,.mdl-button--colored.formBuilder-header__close,.mdl-button--colored.formBuilder-header__button,.formBuilder-header__button.formBuilder-header__button--create,.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button,.mdl-button--colored.form-view__icon-button,.form-view--table .ReactTable .-pagination .-btn,.rest-services .mdl-button--colored.rest-services-list__header-back-button{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover,.popover-menu--new-menu .popover-menu__toggle:hover,.popover-menu--question-language .mdl-button--colored.popover-menu__toggle:hover,.popover-menu--question-language .form-wrap .popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--question-language .popover-menu__toggle.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .popover-menu__toggle.error-message__link--raised:hover,.form-wrap .mdl-button--colored.error-message__link:hover,.form-wrap .error-message__link.error-message__link--raised:hover,.form-wrap .mdl-button.error-message__link--raised:hover,.form-wrap .error-message__link--raised.formBuilder-header__close:hover,.form-wrap .error-message__link--raised.formBuilder-header__button:hover,.form-wrap .error-message__link--raised.form-view__icon-button:hover,.form-wrap .rest-services .error-message__link--raised.rest-services-list__header-back-button:hover,.rest-services .form-wrap .error-message__link--raised.rest-services-list__header-back-button:hover,.mdl-button--colored.formBuilder-header__close:hover,.mdl-button--colored.formBuilder-header__button:hover,.formBuilder-header__button.formBuilder-header__button--create:hover,.formBuilder-header__button.formBuilder-header__button--save:hover,.cascade-popup .cascade-popup__buttonWrapper button:hover,.mdl-button--colored.form-view__icon-button:hover,.form-view--table .ReactTable .-pagination .-btn:hover,.rest-services .mdl-button--colored.rest-services-list__header-back-button:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle,.popover-menu--question-language .mdl-button--colored.mdl-button--red.popover-menu__toggle,.popover-menu--question-language .form-wrap .mdl-button--red.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--question-language .mdl-button--red.popover-menu__toggle.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--red.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--red.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--red.popover-menu__toggle.error-message__link--raised,.form-wrap .mdl-button--colored.mdl-button--red.error-message__link,.form-wrap .mdl-button--red.error-message__link.error-message__link--raised,.form-wrap .mdl-button.mdl-button--red.error-message__link--raised,.form-wrap .mdl-button--red.error-message__link--raised.formBuilder-header__close,.form-wrap .mdl-button--red.error-message__link--raised.formBuilder-header__button,.form-wrap .mdl-button--red.error-message__link--raised.form-view__icon-button,.form-wrap .rest-services .mdl-button--red.error-message__link--raised.rest-services-list__header-back-button,.rest-services .form-wrap .mdl-button--red.error-message__link--raised.rest-services-list__header-back-button,.mdl-button--colored.mdl-button--red.formBuilder-header__close,.mdl-button--colored.mdl-button--red.formBuilder-header__button,.mdl-button--red.formBuilder-header__button.formBuilder-header__button--create,.mdl-button--red.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red,.mdl-button--colored.mdl-button--red.form-view__icon-button,.form-view--table .ReactTable .-pagination .mdl-button--red.-btn,.rest-services .mdl-button--colored.mdl-button--red.rest-services-list__header-back-button{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle:hover,.popover-menu--question-language .mdl-button--colored.mdl-button--red.popover-menu__toggle:hover,.popover-menu--question-language .form-wrap .mdl-button--red.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--question-language .mdl-button--red.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--red.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--red.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--red.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .mdl-button--colored.mdl-button--red.error-message__link:hover,.form-wrap .mdl-button--red.error-message__link.error-message__link--raised:hover,.form-wrap .mdl-button.mdl-button--red.error-message__link--raised:hover,.form-wrap .mdl-button--red.error-message__link--raised.formBuilder-header__close:hover,.form-wrap .mdl-button--red.error-message__link--raised.formBuilder-header__button:hover,.form-wrap .mdl-button--red.error-message__link--raised.form-view__icon-button:hover,.form-wrap .rest-services .mdl-button--red.error-message__link--raised.rest-services-list__header-back-button:hover,.rest-services .form-wrap .mdl-button--red.error-message__link--raised.rest-services-list__header-back-button:hover,.mdl-button--colored.mdl-button--red.formBuilder-header__close:hover,.mdl-button--colored.mdl-button--red.formBuilder-header__button:hover,.mdl-button--red.formBuilder-header__button.formBuilder-header__button--create:hover,.mdl-button--red.formBuilder-header__button.formBuilder-header__button--save:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red:hover,.mdl-button--colored.mdl-button--red.form-view__icon-button:hover,.form-view--table .ReactTable .-pagination .mdl-button--red.-btn:hover,.rest-services .mdl-button--colored.mdl-button--red.rest-services-list__header-back-button:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle,.popover-menu--question-language .mdl-button--colored.mdl-button--orange.popover-menu__toggle,.popover-menu--question-language .form-wrap .mdl-button--orange.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--question-language .mdl-button--orange.popover-menu__toggle.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--orange.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--orange.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--orange.popover-menu__toggle.error-message__link--raised,.form-wrap .mdl-button--colored.mdl-button--orange.error-message__link,.form-wrap .mdl-button--orange.error-message__link.error-message__link--raised,.form-wrap .mdl-button.mdl-button--orange.error-message__link--raised,.form-wrap .mdl-button--orange.error-message__link--raised.formBuilder-header__close,.form-wrap .mdl-button--orange.error-message__link--raised.formBuilder-header__button,.form-wrap .mdl-button--orange.error-message__link--raised.form-view__icon-button,.form-wrap .rest-services .mdl-button--orange.error-message__link--raised.rest-services-list__header-back-button,.rest-services .form-wrap .mdl-button--orange.error-message__link--raised.rest-services-list__header-back-button,.mdl-button--colored.mdl-button--orange.formBuilder-header__close,.mdl-button--colored.mdl-button--orange.formBuilder-header__button,.mdl-button--orange.formBuilder-header__button.formBuilder-header__button--create,.mdl-button--orange.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange,.mdl-button--colored.mdl-button--orange.form-view__icon-button,.form-view--table .ReactTable .-pagination .mdl-button--orange.-btn,.rest-services .mdl-button--colored.mdl-button--orange.rest-services-list__header-back-button{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle:hover,.popover-menu--question-language .mdl-button--colored.mdl-button--orange.popover-menu__toggle:hover,.popover-menu--question-language .form-wrap .mdl-button--orange.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--question-language .mdl-button--orange.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--orange.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--orange.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--orange.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .mdl-button--colored.mdl-button--orange.error-message__link:hover,.form-wrap .mdl-button--orange.error-message__link.error-message__link--raised:hover,.form-wrap .mdl-button.mdl-button--orange.error-message__link--raised:hover,.form-wrap .mdl-button--orange.error-message__link--raised.formBuilder-header__close:hover,.form-wrap .mdl-button--orange.error-message__link--raised.formBuilder-header__button:hover,.form-wrap .mdl-button--orange.error-message__link--raised.form-view__icon-button:hover,.form-wrap .rest-services .mdl-button--orange.error-message__link--raised.rest-services-list__header-back-button:hover,.rest-services .form-wrap .mdl-button--orange.error-message__link--raised.rest-services-list__header-back-button:hover,.mdl-button--colored.mdl-button--orange.formBuilder-header__close:hover,.mdl-button--colored.mdl-button--orange.formBuilder-header__button:hover,.mdl-button--orange.formBuilder-header__button.formBuilder-header__button--create:hover,.mdl-button--orange.formBuilder-header__button.formBuilder-header__button--save:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange:hover,.mdl-button--colored.mdl-button--orange.form-view__icon-button:hover,.form-view--table .ReactTable .-pagination .mdl-button--orange.-btn:hover,.rest-services .mdl-button--colored.mdl-button--orange.rest-services-list__header-back-button:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle,.popover-menu--question-language .mdl-button--colored.mdl-button--green.popover-menu__toggle,.popover-menu--question-language .form-wrap .mdl-button--green.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--question-language .mdl-button--green.popover-menu__toggle.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--green.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--green.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--green.popover-menu__toggle.error-message__link--raised,.form-wrap .mdl-button--colored.mdl-button--green.error-message__link,.form-wrap .mdl-button--green.error-message__link.error-message__link--raised,.form-wrap .mdl-button.mdl-button--green.error-message__link--raised,.form-wrap .mdl-button--green.error-message__link--raised.formBuilder-header__close,.form-wrap .mdl-button--green.error-message__link--raised.formBuilder-header__button,.form-wrap .mdl-button--green.error-message__link--raised.form-view__icon-button,.form-wrap .rest-services .mdl-button--green.error-message__link--raised.rest-services-list__header-back-button,.rest-services .form-wrap .mdl-button--green.error-message__link--raised.rest-services-list__header-back-button,.mdl-button--colored.mdl-button--green.formBuilder-header__close,.mdl-button--colored.mdl-button--green.formBuilder-header__button,.mdl-button--green.formBuilder-header__button.formBuilder-header__button--create,.mdl-button--green.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green,.mdl-button--colored.mdl-button--green.form-view__icon-button,.form-view--table .ReactTable .-pagination .mdl-button--green.-btn,.rest-services .mdl-button--colored.mdl-button--green.rest-services-list__header-back-button{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle:hover,.popover-menu--question-language .mdl-button--colored.mdl-button--green.popover-menu__toggle:hover,.popover-menu--question-language .form-wrap .mdl-button--green.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--question-language .mdl-button--green.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--green.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--green.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--green.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .mdl-button--colored.mdl-button--green.error-message__link:hover,.form-wrap .mdl-button--green.error-message__link.error-message__link--raised:hover,.form-wrap .mdl-button.mdl-button--green.error-message__link--raised:hover,.form-wrap .mdl-button--green.error-message__link--raised.formBuilder-header__close:hover,.form-wrap .mdl-button--green.error-message__link--raised.formBuilder-header__button:hover,.form-wrap .mdl-button--green.error-message__link--raised.form-view__icon-button:hover,.form-wrap .rest-services .mdl-button--green.error-message__link--raised.rest-services-list__header-back-button:hover,.rest-services .form-wrap .mdl-button--green.error-message__link--raised.rest-services-list__header-back-button:hover,.mdl-button--colored.mdl-button--green.formBuilder-header__close:hover,.mdl-button--colored.mdl-button--green.formBuilder-header__button:hover,.mdl-button--green.formBuilder-header__button.formBuilder-header__button--create:hover,.mdl-button--green.formBuilder-header__button.formBuilder-header__button--save:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green:hover,.mdl-button--colored.mdl-button--green.form-view__icon-button:hover,.form-view--table .ReactTable .-pagination .mdl-button--green.-btn:hover,.rest-services .mdl-button--colored.mdl-button--green.rest-services-list__header-back-button:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle,.popover-menu--question-language .mdl-button--colored.mdl-button--gray.popover-menu__toggle,.popover-menu--question-language .form-wrap .mdl-button--gray.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--question-language .mdl-button--gray.popover-menu__toggle.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--gray.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--gray.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--gray.popover-menu__toggle.error-message__link--raised,.form-wrap .mdl-button--colored.mdl-button--gray.error-message__link,.form-wrap .mdl-button--gray.error-message__link.error-message__link--raised,.form-wrap .mdl-button.mdl-button--gray.error-message__link--raised,.form-wrap .mdl-button--gray.error-message__link--raised.formBuilder-header__close,.form-wrap .mdl-button--gray.error-message__link--raised.formBuilder-header__button,.form-wrap .mdl-button--gray.error-message__link--raised.form-view__icon-button,.form-wrap .rest-services .mdl-button--gray.error-message__link--raised.rest-services-list__header-back-button,.rest-services .form-wrap .mdl-button--gray.error-message__link--raised.rest-services-list__header-back-button,.mdl-button--colored.mdl-button--gray.formBuilder-header__close,.mdl-button--colored.mdl-button--gray.formBuilder-header__button,.mdl-button--gray.formBuilder-header__button.formBuilder-header__button--create,.mdl-button--gray.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray,.mdl-button--colored.mdl-button--gray.form-view__icon-button,.form-view--table .ReactTable .-pagination .mdl-button--gray.-btn,.rest-services .mdl-button--colored.mdl-button--gray.rest-services-list__header-back-button{color:#5a5e72}.mdl-button.mdl-button--colored.mdl-button--gray:hover,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle:hover,.popover-menu--question-language .mdl-button--colored.mdl-button--gray.popover-menu__toggle:hover,.popover-menu--question-language .form-wrap .mdl-button--gray.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--question-language .mdl-button--gray.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--gray.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--gray.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--gray.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .mdl-button--colored.mdl-button--gray.error-message__link:hover,.form-wrap .mdl-button--gray.error-message__link.error-message__link--raised:hover,.form-wrap .mdl-button.mdl-button--gray.error-message__link--raised:hover,.form-wrap .mdl-button--gray.error-message__link--raised.formBuilder-header__close:hover,.form-wrap .mdl-button--gray.error-message__link--raised.formBuilder-header__button:hover,.form-wrap .mdl-button--gray.error-message__link--raised.form-view__icon-button:hover,.form-wrap .rest-services .mdl-button--gray.error-message__link--raised.rest-services-list__header-back-button:hover,.rest-services .form-wrap .mdl-button--gray.error-message__link--raised.rest-services-list__header-back-button:hover,.mdl-button--colored.mdl-button--gray.formBuilder-header__close:hover,.mdl-button--colored.mdl-button--gray.formBuilder-header__button:hover,.mdl-button--gray.formBuilder-header__button.formBuilder-header__button--create:hover,.mdl-button--gray.formBuilder-header__button.formBuilder-header__button--save:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray:hover,.mdl-button--colored.mdl-button--gray.form-view__icon-button:hover,.form-view--table .ReactTable .-pagination .mdl-button--gray.-btn:hover,.rest-services .mdl-button--colored.mdl-button--gray.rest-services-list__header-back-button:hover{color:#434656}input.mdl-button[type="submit"],.popover-menu--new-menu input.popover-menu__toggle[type="submit"],.popover-menu--question-language input.popover-menu__toggle[type="submit"],.popover-menu--custom-reports input.popover-menu__toggle[type="submit"],.form-wrap input.error-message__link[type="submit"],input.formBuilder-header__close[type="submit"],input.formBuilder-header__button[type="submit"],input.form-view__icon-button[type="submit"],.form-view--table .ReactTable .-pagination input.-btn[type="submit"],.rest-services input.rest-services-list__header-back-button[type="submit"]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised,.popover-menu--new-menu .popover-menu__toggle,.form-wrap .error-message__link--raised,.formBuilder-header__button.formBuilder-header__button--create,.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button{box-shadow:0 0 2px 0 rgba(45,47,57,0.06),0 2px 2px 0 rgba(45,47,57,0.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active,.popover-menu--new-menu .popover-menu__toggle:active,.form-wrap .error-message__link--raised:active,.formBuilder-header__button.formBuilder-header__button--create:active,.formBuilder-header__button.formBuilder-header__button--save:active,.cascade-popup .cascade-popup__buttonWrapper button:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored,.popover-menu--new-menu .popover-menu__toggle,.form-wrap .error-message__link--raised,.formBuilder-header__button.formBuilder-header__button--create,.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button,.form-view--table .ReactTable .-pagination .mdl-button--raised.-btn,.form-view--table .ReactTable .-pagination .popover-menu--new-menu .-btn.popover-menu__toggle,.popover-menu--new-menu .form-view--table .ReactTable .-pagination .-btn.popover-menu__toggle,.form-view--table .ReactTable .-pagination .form-wrap .-btn.error-message__link--raised,.form-wrap .form-view--table .ReactTable .-pagination .-btn.error-message__link--raised,.form-view--table .ReactTable .-pagination .-btn.formBuilder-header__button.formBuilder-header__button--create,.form-view--table .ReactTable .-pagination .-btn.formBuilder-header__button.formBuilder-header__button--save,.form-view--table .ReactTable .-pagination .cascade-popup .cascade-popup__buttonWrapper button.-btn,.cascade-popup .cascade-popup__buttonWrapper .form-view--table .ReactTable .-pagination button.-btn{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover,.popover-menu--new-menu .popover-menu__toggle:hover,.form-wrap .error-message__link--raised:hover,.formBuilder-header__button.formBuilder-header__button--create:hover,.formBuilder-header__button.formBuilder-header__button--save:hover,.cascade-popup .cascade-popup__buttonWrapper button:hover,.form-view--table .ReactTable .-pagination .mdl-button--raised.-btn:hover,.form-view--table .ReactTable .-pagination .popover-menu--new-menu .-btn.popover-menu__toggle:hover,.popover-menu--new-menu .form-view--table .ReactTable .-pagination .-btn.popover-menu__toggle:hover,.form-view--table .ReactTable .-pagination .form-wrap .-btn.error-message__link--raised:hover,.form-wrap .form-view--table .ReactTable .-pagination .-btn.error-message__link--raised:hover,.form-view--table .ReactTable .-pagination .-btn.formBuilder-header__button.formBuilder-header__button--create:hover,.form-view--table .ReactTable .-pagination .-btn.formBuilder-header__button.formBuilder-header__button--save:hover,.form-view--table .ReactTable .-pagination .cascade-popup .cascade-popup__buttonWrapper button.-btn:hover,.cascade-popup .cascade-popup__buttonWrapper .form-view--table .ReactTable .-pagination button.-btn:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle,.form-wrap .mdl-button--red.error-message__link--raised,.mdl-button--red.formBuilder-header__button.formBuilder-header__button--create,.mdl-button--red.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red,.form-view--table .ReactTable .-pagination .mdl-button--raised.mdl-button--red.-btn,.form-view--table .ReactTable .-pagination .popover-menu--new-menu .mdl-button--red.-btn.popover-menu__toggle,.popover-menu--new-menu .form-view--table .ReactTable .-pagination .mdl-button--red.-btn.popover-menu__toggle,.form-view--table .ReactTable .-pagination .form-wrap .mdl-button--red.-btn.error-message__link--raised,.form-wrap .form-view--table .ReactTable .-pagination .mdl-button--red.-btn.error-message__link--raised,.form-view--table .ReactTable .-pagination .mdl-button--red.-btn.formBuilder-header__button.formBuilder-header__button--create,.form-view--table .ReactTable .-pagination .mdl-button--red.-btn.formBuilder-header__button.formBuilder-header__button--save,.form-view--table .ReactTable .-pagination .cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red.-btn,.cascade-popup .cascade-popup__buttonWrapper .form-view--table .ReactTable .-pagination button.mdl-button--red.-btn{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle:hover,.form-wrap .mdl-button--red.error-message__link--raised:hover,.mdl-button--red.formBuilder-header__button.formBuilder-header__button--create:hover,.mdl-button--red.formBuilder-header__button.formBuilder-header__button--save:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red:hover,.form-view--table .ReactTable .-pagination .mdl-button--raised.mdl-button--red.-btn:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle,.form-wrap .mdl-button--orange.error-message__link--raised,.mdl-button--orange.formBuilder-header__button.formBuilder-header__button--create,.mdl-button--orange.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange,.form-view--table .ReactTable .-pagination .mdl-button--raised.mdl-button--orange.-btn,.form-view--table .ReactTable .-pagination .popover-menu--new-menu .mdl-button--orange.-btn.popover-menu__toggle,.popover-menu--new-menu .form-view--table .ReactTable .-pagination .mdl-button--orange.-btn.popover-menu__toggle,.form-view--table .ReactTable .-pagination .form-wrap .mdl-button--orange.-btn.error-message__link--raised,.form-wrap .form-view--table .ReactTable .-pagination .mdl-button--orange.-btn.error-message__link--raised,.form-view--table .ReactTable .-pagination .mdl-button--orange.-btn.formBuilder-header__button.formBuilder-header__button--create,.form-view--table .ReactTable .-pagination .mdl-button--orange.-btn.formBuilder-header__button.formBuilder-header__button--save,.form-view--table .ReactTable .-pagination .cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange.-btn,.cascade-popup .cascade-popup__buttonWrapper .form-view--table .ReactTable .-pagination button.mdl-button--orange.-btn{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle:hover,.form-wrap .mdl-button--orange.error-message__link--raised:hover,.mdl-button--orange.formBuilder-header__button.formBuilder-header__button--create:hover,.mdl-button--orange.formBuilder-header__button.formBuilder-header__button--save:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange:hover,.form-view--table .ReactTable .-pagination .mdl-button--raised.mdl-button--orange.-btn:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle,.form-wrap .mdl-button--green.error-message__link--raised,.mdl-button--green.formBuilder-header__button.formBuilder-header__button--create,.mdl-button--green.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green,.form-view--table .ReactTable .-pagination .mdl-button--raised.mdl-button--green.-btn,.form-view--table .ReactTable .-pagination .popover-menu--new-menu .mdl-button--green.-btn.popover-menu__toggle,.popover-menu--new-menu .form-view--table .ReactTable .-pagination .mdl-button--green.-btn.popover-menu__toggle,.form-view--table .ReactTable .-pagination .form-wrap .mdl-button--green.-btn.error-message__link--raised,.form-wrap .form-view--table .ReactTable .-pagination .mdl-button--green.-btn.error-message__link--raised,.form-view--table .ReactTable .-pagination .mdl-button--green.-btn.formBuilder-header__button.formBuilder-header__button--create,.form-view--table .ReactTable .-pagination .mdl-button--green.-btn.formBuilder-header__button.formBuilder-header__button--save,.form-view--table .ReactTable .-pagination .cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green.-btn,.cascade-popup .cascade-popup__buttonWrapper .form-view--table .ReactTable .-pagination button.mdl-button--green.-btn{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle:hover,.form-wrap .mdl-button--green.error-message__link--raised:hover,.mdl-button--green.formBuilder-header__button.formBuilder-header__button--create:hover,.mdl-button--green.formBuilder-header__button.formBuilder-header__button--save:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green:hover,.form-view--table .ReactTable .-pagination .mdl-button--raised.mdl-button--green.-btn:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle,.form-wrap .mdl-button--gray.error-message__link--raised,.mdl-button--gray.formBuilder-header__button.formBuilder-header__button--create,.mdl-button--gray.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray,.form-view--table .ReactTable .-pagination .mdl-button--raised.mdl-button--gray.-btn,.form-view--table .ReactTable .-pagination .popover-menu--new-menu .mdl-button--gray.-btn.popover-menu__toggle,.popover-menu--new-menu .form-view--table .ReactTable .-pagination .mdl-button--gray.-btn.popover-menu__toggle,.form-view--table .ReactTable .-pagination .form-wrap .mdl-button--gray.-btn.error-message__link--raised,.form-wrap .form-view--table .ReactTable .-pagination .mdl-button--gray.-btn.error-message__link--raised,.form-view--table .ReactTable .-pagination .mdl-button--gray.-btn.formBuilder-header__button.formBuilder-header__button--create,.form-view--table .ReactTable .-pagination .mdl-button--gray.-btn.formBuilder-header__button.formBuilder-header__button--save,.form-view--table .ReactTable .-pagination .cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray.-btn,.cascade-popup .cascade-popup__buttonWrapper .form-view--table .ReactTable .-pagination button.mdl-button--gray.-btn{background-color:#5a5e72;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle:hover,.form-wrap .mdl-button--gray.error-message__link--raised:hover,.mdl-button--gray.formBuilder-header__button.formBuilder-header__button--create:hover,.mdl-button--gray.formBuilder-header__button.formBuilder-header__button--save:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray:hover,.form-view--table .ReactTable .-pagination .mdl-button--raised.mdl-button--gray.-btn:hover{background-color:#4f5264;color:#fff}.mdl-button--icon,.formBuilder-header__close,.form-view__icon-button,.rest-services .rest-services-list__header-back-button{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i,.formBuilder-header__close i,.form-view__icon-button i,.rest-services .rest-services-list__header-back-button i{font-size:32px}.mdl-button--tab{color:#fff;opacity:0.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid white}.mdl-button[disabled][disabled],.popover-menu--new-menu .popover-menu__toggle[disabled][disabled],.popover-menu--question-language .popover-menu__toggle[disabled][disabled],.popover-menu--custom-reports .popover-menu__toggle[disabled][disabled],.form-wrap .error-message__link[disabled][disabled],.formBuilder-header__close[disabled][disabled],.formBuilder-header__button[disabled][disabled],.cascade-popup .cascade-popup__buttonWrapper button[disabled][disabled],.form-view__icon-button[disabled][disabled],.form-view--table .ReactTable .-pagination .-btn[disabled][disabled],.rest-services .rest-services-list__header-back-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled,.popover-menu--new-menu .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--question-language .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--custom-reports .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link,.mdl-button--disabled.mdl-button--disabled.formBuilder-header__close,.mdl-button--disabled.mdl-button--disabled.formBuilder-header__button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--disabled.mdl-button--disabled,.mdl-button--disabled.mdl-button--disabled.form-view__icon-button,.form-view--table .ReactTable .-pagination .mdl-button--disabled.mdl-button--disabled.-btn,.rest-services .mdl-button--disabled.mdl-button--disabled.rest-services-list__header-back-button{color:#5a5e72;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.popover-menu--new-menu .popover-menu__toggle[disabled][disabled],.popover-menu--question-language .mdl-button--raised.popover-menu__toggle[disabled][disabled],.popover-menu--question-language .form-wrap .popover-menu__toggle.error-message__link--raised[disabled][disabled],.form-wrap .popover-menu--question-language .popover-menu__toggle.error-message__link--raised[disabled][disabled],.popover-menu--custom-reports .mdl-button--raised.popover-menu__toggle[disabled][disabled],.popover-menu--custom-reports .form-wrap .popover-menu__toggle.error-message__link--raised[disabled][disabled],.form-wrap .popover-menu--custom-reports .popover-menu__toggle.error-message__link--raised[disabled][disabled],.form-wrap .mdl-button--raised.error-message__link[disabled][disabled],.form-wrap .error-message__link.error-message__link--raised[disabled][disabled],.form-wrap .mdl-button.error-message__link--raised[disabled][disabled],.form-wrap .error-message__link--raised.formBuilder-header__close[disabled][disabled],.form-wrap .error-message__link--raised.formBuilder-header__button[disabled][disabled],.form-wrap .error-message__link--raised.form-view__icon-button[disabled][disabled],.form-wrap .form-view--table .ReactTable .-pagination .error-message__link--raised.-btn[disabled][disabled],.form-view--table .ReactTable .-pagination .form-wrap .error-message__link--raised.-btn[disabled][disabled],.form-wrap .rest-services .error-message__link--raised.rest-services-list__header-back-button[disabled][disabled],.rest-services .form-wrap .error-message__link--raised.rest-services-list__header-back-button[disabled][disabled],.mdl-button--raised.formBuilder-header__close[disabled][disabled],.mdl-button--raised.formBuilder-header__button[disabled][disabled],.formBuilder-header__button.formBuilder-header__button--create[disabled][disabled],.formBuilder-header__button.formBuilder-header__button--save[disabled][disabled],.cascade-popup .cascade-popup__buttonWrapper button[disabled][disabled],.mdl-button--raised.form-view__icon-button[disabled][disabled],.form-view--table .ReactTable .-pagination .mdl-button--raised.-btn[disabled][disabled],.rest-services .mdl-button--raised.rest-services-list__header-back-button[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled,.popover-menu--new-menu .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--question-language .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--question-language .form-wrap .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--question-language .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.popover-menu--custom-reports .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.form-wrap .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.error-message__link,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link.error-message__link--raised,.form-wrap .mdl-button.mdl-button--disabled.mdl-button--disabled.error-message__link--raised,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.formBuilder-header__close,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.formBuilder-header__button,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-view__icon-button,.form-wrap .form-view--table .ReactTable .-pagination .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.-btn,.form-view--table .ReactTable .-pagination .form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.-btn,.form-wrap .rest-services .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.rest-services-list__header-back-button,.rest-services .form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.rest-services-list__header-back-button,.mdl-button--raised.mdl-button--disabled.mdl-button--disabled.formBuilder-header__close,.mdl-button--raised.mdl-button--disabled.mdl-button--disabled.formBuilder-header__button,.mdl-button--disabled.mdl-button--disabled.formBuilder-header__button.formBuilder-header__button--create,.mdl-button--disabled.mdl-button--disabled.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--disabled.mdl-button--disabled,.mdl-button--raised.mdl-button--disabled.mdl-button--disabled.form-view__icon-button,.form-view--table .ReactTable .-pagination .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.-btn,.rest-services .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.rest-services-list__header-back-button{background-color:#e2e3e9;color:#5a5e72;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.popover-menu--new-menu .popover-menu__toggle[disabled][disabled],.popover-menu--question-language .mdl-button--colored.popover-menu__toggle[disabled][disabled],.popover-menu--question-language .form-wrap .popover-menu__toggle.error-message__link--raised[disabled][disabled],.form-wrap .popover-menu--question-language .popover-menu__toggle.error-message__link--raised[disabled][disabled],.popover-menu--custom-reports .mdl-button--colored.popover-menu__toggle[disabled][disabled],.popover-menu--custom-reports .form-wrap .popover-menu__toggle.error-message__link--raised[disabled][disabled],.form-wrap .popover-menu--custom-reports .popover-menu__toggle.error-message__link--raised[disabled][disabled],.form-wrap .mdl-button--colored.error-message__link[disabled][disabled],.form-wrap .error-message__link.error-message__link--raised[disabled][disabled],.form-wrap .mdl-button.error-message__link--raised[disabled][disabled],.form-wrap .error-message__link--raised.formBuilder-header__close[disabled][disabled],.form-wrap .error-message__link--raised.formBuilder-header__button[disabled][disabled],.form-wrap .error-message__link--raised.form-view__icon-button[disabled][disabled],.form-wrap .rest-services .error-message__link--raised.rest-services-list__header-back-button[disabled][disabled],.rest-services .form-wrap .error-message__link--raised.rest-services-list__header-back-button[disabled][disabled],.mdl-button--colored.formBuilder-header__close[disabled][disabled],.mdl-button--colored.formBuilder-header__button[disabled][disabled],.formBuilder-header__button.formBuilder-header__button--create[disabled][disabled],.formBuilder-header__button.formBuilder-header__button--save[disabled][disabled],.cascade-popup .cascade-popup__buttonWrapper button[disabled][disabled],.mdl-button--colored.form-view__icon-button[disabled][disabled],.form-view--table .ReactTable .-pagination .-btn[disabled][disabled],.rest-services .mdl-button--colored.rest-services-list__header-back-button[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled,.popover-menu--new-menu .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--question-language .mdl-button--colored.mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--question-language .form-wrap .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--question-language .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.form-wrap .mdl-button--colored.mdl-button--disabled.mdl-button--disabled.error-message__link,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link.error-message__link--raised,.form-wrap .mdl-button.mdl-button--disabled.mdl-button--disabled.error-message__link--raised,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.formBuilder-header__close,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.formBuilder-header__button,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-view__icon-button,.form-wrap .rest-services .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.rest-services-list__header-back-button,.rest-services .form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.rest-services-list__header-back-button,.mdl-button--colored.mdl-button--disabled.mdl-button--disabled.formBuilder-header__close,.mdl-button--colored.mdl-button--disabled.mdl-button--disabled.formBuilder-header__button,.mdl-button--disabled.mdl-button--disabled.formBuilder-header__button.formBuilder-header__button--create,.mdl-button--disabled.mdl-button--disabled.formBuilder-header__button.formBuilder-header__button--save,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--disabled.mdl-button--disabled,.mdl-button--colored.mdl-button--disabled.mdl-button--disabled.form-view__icon-button,.form-view--table .ReactTable .-pagination .mdl-button--disabled.mdl-button--disabled.-btn,.rest-services .mdl-button--colored.mdl-button--disabled.mdl-button--disabled.rest-services-list__header-back-button{color:#5a5e72}@media screen and (max-width: 767px){.mdl-button,.popover-menu--new-menu .popover-menu__toggle,.popover-menu--question-language .popover-menu__toggle,.popover-menu--custom-reports .popover-menu__toggle,.form-wrap .error-message__link,.formBuilder-header__close,.formBuilder-header__button,.cascade-popup .cascade-popup__buttonWrapper button,.form-view__icon-button,.form-view--table .ReactTable .-pagination .-btn,.rest-services .rest-services-list__header-back-button{padding:0 12px}}@font-face{font-family:\'Roboto\';src:local("Roboto Thin"),local("Roboto-Thin"),url('+o(r(764))+') format("woff2"),url('+o(r(765))+') format("woff");font-weight:100;font-style:normal}@font-face{font-family:\'Roboto\';src:local("Roboto Light"),local("Roboto-Light"),url('+o(r(766))+') format("woff2"),url('+o(r(767))+') format("woff");font-weight:300;font-style:normal}@font-face{font-family:\'Roboto\';src:local("Roboto LightItalic"),local("Roboto-LightItalic"),url('+o(r(768))+') format("woff2"),url('+o(r(769))+') format("woff");font-weight:300;font-style:italic}@font-face{font-family:\'Roboto\';src:local("Roboto Regular"),local("Roboto-Regular"),url('+o(r(770))+') format("woff2"),url('+o(r(771))+') format("woff");font-weight:400;font-style:normal}@font-face{font-family:\'Roboto\';src:local("Roboto RegularItalic"),local("Roboto-RegularItalic"),url('+o(r(772))+') format("woff2"),url('+o(r(773))+') format("woff");font-weight:400;font-style:italic}@font-face{font-family:\'Roboto\';src:local("Roboto Medium"),url('+o(r(774))+') format("woff2"),url('+o(r(775))+') format("woff");font-weight:500;font-style:normal}@font-face{font-family:\'Roboto\';src:local("Roboto Bold"),local("Roboto-Bold"),url('+o(r(776))+') format("woff2"),url('+o(r(777))+') format("woff");font-weight:700;font-style:normal}@font-face{font-family:\'Roboto\';src:local("Roboto BoldItalic"),local("Roboto-BoldItalic"),url('+o(r(778))+') format("woff2"),url('+o(r(779))+') format("woff");font-weight:700;font-style:italic}@font-face{font-family:"k-icons";src:url('+o(r(780))+') format("woff2"),url('+o(r(781))+') format("woff"),url('+o(r(782))+') format("truetype"),url('+o(r(783))+'?#iefix) format("embedded-opentype"),url('+o(r(784))+'#k-icons) format("svg");font-weight:normal;font-style:normal}.k-icon,.alertify-notifier .ajs-message .ajs-close,.react-tagsinput-remove,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.breadcrumbs .breadcrumbs__divider,[class^="k-icon-"]{font-family:"k-icons";font-style:normal;font-weight:normal}.k-icon::before,.alertify-notifier .ajs-message .ajs-close::before,.react-tagsinput-remove::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before,.breadcrumbs .breadcrumbs__divider::before,[class^="k-icon-"]::before,[class*=" k-icon-"]::before{font-family:"k-icons" !important;font-style:normal;font-weight:normal;speak:none;display:inline-block;text-decoration:inherit;width:1em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.k-icon-active::before{content:"\\F101"}.k-icon-add::before{content:"\\F102"}.k-icon-alert::before{content:"\\F103"}.k-icon-archived::before{content:"\\F104"}.k-icon-arrow-back::before{content:"\\F105"}.k-icon-arrow-first::before{content:"\\F106"}.k-icon-arrow-last::before{content:"\\F107"}.k-icon-arrow-next::before{content:"\\F108"}.k-icon-attach::before{content:"\\F109"}.k-icon-audio::before{content:"\\F10A"}.k-icon-block-new::before{content:"\\F10B"}.k-icon-block-shared-new::before{content:"\\F10C"}.k-icon-camera::before{content:"\\F10D"}.k-icon-cascading::before{content:"\\F10E"}.k-icon-check-circle::before{content:"\\F10F"}.k-icon-check::before{content:"\\F110"}.k-icon-clone::before{content:"\\F111"}.k-icon-close::before,.alertify-notifier .ajs-message .ajs-close::before,.react-tagsinput-remove::before{content:"\\F112"}.k-icon-comment-reply::before{content:"\\F113"}.k-icon-comment::before{content:"\\F114"}.k-icon-custom-reports::before{content:"\\F115"}.k-icon-data-sync::before{content:"\\F116"}.k-icon-date-and-time::before{content:"\\F117"}.k-icon-date::before{content:"\\F118"}.k-icon-deploy::before{content:"\\F119"}.k-icon-down::before{content:"\\F11A"}.k-icon-download::before{content:"\\F11B"}.k-icon-drafts::before{content:"\\F11C"}.k-icon-edit::before{content:"\\F11D"}.k-icon-email::before{content:"\\F11E"}.k-icon-expand::before{content:"\\F11F"}.k-icon-filter-alt::before{content:"\\F120"}.k-icon-filter-arrows::before{content:"\\F121"}.k-icon-filter::before{content:"\\F122"}.k-icon-folder-in::before{content:"\\F123"}.k-icon-folder-out::before{content:"\\F124"}.k-icon-folder-public::before{content:"\\F125"}.k-icon-folder-shared::before{content:"\\F126"}.k-icon-folder-subscribed::before{content:"\\F127"}.k-icon-folder::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before{content:"\\F128"}.k-icon-form-overview::before{content:"\\F129"}.k-icon-form::before{content:"\\F12A"}.k-icon-forms::before{content:"\\F12B"}.k-icon-forum::before{content:"\\F12C"}.k-icon-github::before{content:"\\F12D"}.k-icon-globe-alt::before{content:"\\F12E"}.k-icon-globe::before{content:"\\F12F"}.k-icon-gps::before{content:"\\F130"}.k-icon-graph-settings::before{content:"\\F131"}.k-icon-group::before{content:"\\F132"}.k-icon-heatmap::before{content:"\\F133"}.k-icon-help-articles::before{content:"\\F134"}.k-icon-help::before,.form-wrap .error-message__link--help i::before{content:"\\F135"}.k-icon-image-file::before{content:"\\F136"}.k-icon-information::before{content:"\\F137"}.k-icon-intercom::before{content:"\\F138"}.k-icon-kobo::before{content:"\\F139"}.k-icon-language-default::before{content:"\\F13A"}.k-icon-language-settings::before{content:"\\F13B"}.k-icon-language::before{content:"\\F13C"}.k-icon-layer::before{content:"\\F13D"}.k-icon-library-public::before{content:"\\F13E"}.k-icon-library-shared::before{content:"\\F13F"}.k-icon-library::before{content:"\\F140"}.k-icon-link::before{content:"\\F141"}.k-icon-location::before{content:"\\F142"}.k-icon-lock::before{content:"\\F143"}.k-icon-logout::before{content:"\\F144"}.k-icon-map-view::before{content:"\\F145"}.k-icon-media-files::before{content:"\\F146"}.k-icon-menu::before{content:"\\F147"}.k-icon-minus::before{content:"\\F148"}.k-icon-more::before{content:"\\F149"}.k-icon-next::before,.breadcrumbs .breadcrumbs__divider::before{content:"\\F14A"}.k-icon-notification::before{content:"\\F14B"}.k-icon-pdf::before{content:"\\F14C"}.k-icon-photo-gallery::before{content:"\\F14D"}.k-icon-pins::before{content:"\\F14E"}.k-icon-plus::before{content:"\\F14F"}.k-icon-prev::before{content:"\\F150"}.k-icon-print::before{content:"\\F151"}.k-icon-projects::before{content:"\\F152"}.k-icon-question-block-shared::before{content:"\\F153"}.k-icon-question-block::before{content:"\\F154"}.k-icon-question-new::before{content:"\\F155"}.k-icon-question-shared-new::before{content:"\\F156"}.k-icon-remove::before{content:"\\F157"}.k-icon-rename::before{content:"\\F158"}.k-icon-replace-all::before{content:"\\F159"}.k-icon-replace::before{content:"\\F15A"}.k-icon-report-add-to-template::before{content:"\\F15B"}.k-icon-report-menu::before{content:"\\F15C"}.k-icon-report-template::before{content:"\\F15D"}.k-icon-report::before{content:"\\F15E"}.k-icon-restore::before{content:"\\F15F"}.k-icon-search::before{content:"\\F160"}.k-icon-select-many::before{content:"\\F161"}.k-icon-select-one::before{content:"\\F162"}.k-icon-settings::before{content:"\\F163"}.k-icon-subscribe::before{content:"\\F164"}.k-icon-table::before{content:"\\F165"}.k-icon-tag::before{content:"\\F166"}.k-icon-template-new::before{content:"\\F167"}.k-icon-template-shared-new::before{content:"\\F168"}.k-icon-template-shared::before{content:"\\F169"}.k-icon-template::before{content:"\\F16A"}.k-icon-time::before{content:"\\F16B"}.k-icon-trash::before{content:"\\F16C"}.k-icon-unsubscribe::before{content:"\\F16D"}.k-icon-up::before{content:"\\F16E"}.k-icon-upload::before{content:"\\F16F"}.k-icon-user-link::before{content:"\\F170"}.k-icon-user-share::before{content:"\\F171"}.k-icon-user-star::before{content:"\\F172"}.k-icon-user::before{content:"\\F173"}.k-icon-users::before{content:"\\F174"}.k-icon-video::before{content:"\\F175"}.k-icon-view-all-alt::before{content:"\\F176"}.k-icon-view-all::before{content:"\\F177"}.k-icon-view-no::before{content:"\\F178"}.k-icon-view::before{content:"\\F179"}.k-icon-xls-file::before{content:"\\F17A"}.k-icon-xml-file::before{content:"\\F17B"}/*!\n *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */@font-face{font-family:\'FontAwesome\';src:url('+o(r(785))+");src:url("+o(r(786))+'?#iefix&v=4.7.0) format("embedded-opentype"),url('+o(r(787))+') format("woff2"),url('+o(r(788))+') format("woff"),url('+o(r(789))+') format("truetype"),url('+o(r(790))+'#fontawesomeregular) format("svg");font-weight:normal;font-style:normal}.fa,.message--loading>i:first-child,.loading i:first-child,.mdl-layout__header .search .search__icon,.mdl-layout__header .search .search__cancel,.right-and-down-caret,.formBuilder-header__button>i{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw,.message--loading>i:first-child,.right-and-down-caret,.formBuilder-header__button>i{width:1.28571em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14286em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14286em;width:2.14286em;top:.14286em;text-align:center}.fa-li.fa-lg{left:-1.85714em}.fa-border{padding:.2em .25em .15em;border:solid 0.08em #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.message--loading>i.fa-pull-left:first-child,.loading i.fa-pull-left:first-child,.mdl-layout__header .search .fa-pull-left.search__icon,.mdl-layout__header .search .fa-pull-left.search__cancel,.fa-pull-left.right-and-down-caret,.formBuilder-header__button>i.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.message--loading>i.fa-pull-right:first-child,.loading i.fa-pull-right:first-child,.mdl-layout__header .search .fa-pull-right.search__icon,.mdl-layout__header .search .fa-pull-right.search__cancel,.fa-pull-right.right-and-down-caret,.formBuilder-header__button>i.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left,.message--loading>i.pull-left:first-child,.loading i.pull-left:first-child,.mdl-layout__header .search .pull-left.search__icon,.mdl-layout__header .search .pull-left.search__cancel,.pull-left.right-and-down-caret,.formBuilder-header__button>i.pull-left{margin-right:.3em}.fa.pull-right,.message--loading>i.pull-right:first-child,.loading i.pull-right:first-child,.mdl-layout__header .search .pull-right.search__icon,.mdl-layout__header .search .pull-right.search__cancel,.pull-right.right-and-down-caret,.formBuilder-header__button>i.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}@keyframes fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scale(-1, 1)}.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scale(1, -1)}:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-flip-horizontal,:root .fa-flip-vertical{-webkit-filter:none;filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\\F000"}.fa-music:before{content:"\\F001"}.fa-search:before,.mdl-layout__header .search .search__icon:before{content:"\\F002"}.fa-envelope-o:before{content:"\\F003"}.fa-heart:before{content:"\\F004"}.fa-star:before{content:"\\F005"}.fa-star-o:before{content:"\\F006"}.fa-user:before{content:"\\F007"}.fa-film:before{content:"\\F008"}.fa-th-large:before{content:"\\F009"}.fa-th:before{content:"\\F00A"}.fa-th-list:before{content:"\\F00B"}.fa-check:before{content:"\\F00C"}.fa-remove:before,.fa-close:before,.mdl-layout__header .search .search__cancel:before,.fa-times:before{content:"\\F00D"}.fa-search-plus:before{content:"\\F00E"}.fa-search-minus:before{content:"\\F010"}.fa-power-off:before{content:"\\F011"}.fa-signal:before{content:"\\F012"}.fa-gear:before,.fa-cog:before{content:"\\F013"}.fa-trash-o:before{content:"\\F014"}.fa-home:before{content:"\\F015"}.fa-file-o:before{content:"\\F016"}.fa-clock-o:before{content:"\\F017"}.fa-road:before{content:"\\F018"}.fa-download:before{content:"\\F019"}.fa-arrow-circle-o-down:before{content:"\\F01A"}.fa-arrow-circle-o-up:before{content:"\\F01B"}.fa-inbox:before{content:"\\F01C"}.fa-play-circle-o:before{content:"\\F01D"}.fa-rotate-right:before,.fa-repeat:before{content:"\\F01E"}.fa-refresh:before{content:"\\F021"}.fa-list-alt:before{content:"\\F022"}.fa-lock:before{content:"\\F023"}.fa-flag:before{content:"\\F024"}.fa-headphones:before{content:"\\F025"}.fa-volume-off:before{content:"\\F026"}.fa-volume-down:before{content:"\\F027"}.fa-volume-up:before{content:"\\F028"}.fa-qrcode:before{content:"\\F029"}.fa-barcode:before{content:"\\F02A"}.fa-tag:before{content:"\\F02B"}.fa-tags:before{content:"\\F02C"}.fa-book:before{content:"\\F02D"}.fa-bookmark:before{content:"\\F02E"}.fa-print:before{content:"\\F02F"}.fa-camera:before{content:"\\F030"}.fa-font:before{content:"\\F031"}.fa-bold:before{content:"\\F032"}.fa-italic:before{content:"\\F033"}.fa-text-height:before{content:"\\F034"}.fa-text-width:before{content:"\\F035"}.fa-align-left:before{content:"\\F036"}.fa-align-center:before{content:"\\F037"}.fa-align-right:before{content:"\\F038"}.fa-align-justify:before{content:"\\F039"}.fa-list:before{content:"\\F03A"}.fa-dedent:before,.fa-outdent:before{content:"\\F03B"}.fa-indent:before{content:"\\F03C"}.fa-video-camera:before{content:"\\F03D"}.fa-photo:before,.fa-image:before,.fa-picture-o:before{content:"\\F03E"}.fa-pencil:before{content:"\\F040"}.fa-map-marker:before{content:"\\F041"}.fa-adjust:before{content:"\\F042"}.fa-tint:before{content:"\\F043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\\F044"}.fa-share-square-o:before{content:"\\F045"}.fa-check-square-o:before{content:"\\F046"}.fa-arrows:before{content:"\\F047"}.fa-step-backward:before{content:"\\F048"}.fa-fast-backward:before{content:"\\F049"}.fa-backward:before{content:"\\F04A"}.fa-play:before{content:"\\F04B"}.fa-pause:before{content:"\\F04C"}.fa-stop:before{content:"\\F04D"}.fa-forward:before{content:"\\F04E"}.fa-fast-forward:before{content:"\\F050"}.fa-step-forward:before{content:"\\F051"}.fa-eject:before{content:"\\F052"}.fa-chevron-left:before{content:"\\F053"}.fa-chevron-right:before{content:"\\F054"}.fa-plus-circle:before{content:"\\F055"}.fa-minus-circle:before{content:"\\F056"}.fa-times-circle:before{content:"\\F057"}.fa-check-circle:before{content:"\\F058"}.fa-question-circle:before{content:"\\F059"}.fa-info-circle:before{content:"\\F05A"}.fa-crosshairs:before{content:"\\F05B"}.fa-times-circle-o:before{content:"\\F05C"}.fa-check-circle-o:before{content:"\\F05D"}.fa-ban:before{content:"\\F05E"}.fa-arrow-left:before{content:"\\F060"}.fa-arrow-right:before{content:"\\F061"}.fa-arrow-up:before{content:"\\F062"}.fa-arrow-down:before{content:"\\F063"}.fa-mail-forward:before,.fa-share:before{content:"\\F064"}.fa-expand:before{content:"\\F065"}.fa-compress:before{content:"\\F066"}.fa-plus:before{content:"\\F067"}.fa-minus:before{content:"\\F068"}.fa-asterisk:before{content:"\\F069"}.fa-exclamation-circle:before{content:"\\F06A"}.fa-gift:before{content:"\\F06B"}.fa-leaf:before{content:"\\F06C"}.fa-fire:before{content:"\\F06D"}.fa-eye:before{content:"\\F06E"}.fa-eye-slash:before{content:"\\F070"}.fa-warning:before,.fa-exclamation-triangle:before{content:"\\F071"}.fa-plane:before{content:"\\F072"}.fa-calendar:before{content:"\\F073"}.fa-random:before{content:"\\F074"}.fa-comment:before{content:"\\F075"}.fa-magnet:before{content:"\\F076"}.fa-chevron-up:before{content:"\\F077"}.fa-chevron-down:before{content:"\\F078"}.fa-retweet:before{content:"\\F079"}.fa-shopping-cart:before{content:"\\F07A"}.fa-folder:before{content:"\\F07B"}.fa-folder-open:before{content:"\\F07C"}.fa-arrows-v:before{content:"\\F07D"}.fa-arrows-h:before{content:"\\F07E"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\\F080"}.fa-twitter-square:before{content:"\\F081"}.fa-facebook-square:before{content:"\\F082"}.fa-camera-retro:before{content:"\\F083"}.fa-key:before{content:"\\F084"}.fa-gears:before,.fa-cogs:before{content:"\\F085"}.fa-comments:before{content:"\\F086"}.fa-thumbs-o-up:before{content:"\\F087"}.fa-thumbs-o-down:before{content:"\\F088"}.fa-star-half:before{content:"\\F089"}.fa-heart-o:before{content:"\\F08A"}.fa-sign-out:before{content:"\\F08B"}.fa-linkedin-square:before{content:"\\F08C"}.fa-thumb-tack:before{content:"\\F08D"}.fa-external-link:before{content:"\\F08E"}.fa-sign-in:before{content:"\\F090"}.fa-trophy:before{content:"\\F091"}.fa-github-square:before{content:"\\F092"}.fa-upload:before{content:"\\F093"}.fa-lemon-o:before{content:"\\F094"}.fa-phone:before{content:"\\F095"}.fa-square-o:before{content:"\\F096"}.fa-bookmark-o:before{content:"\\F097"}.fa-phone-square:before{content:"\\F098"}.fa-twitter:before{content:"\\F099"}.fa-facebook-f:before,.fa-facebook:before{content:"\\F09A"}.fa-github:before{content:"\\F09B"}.fa-unlock:before{content:"\\F09C"}.fa-credit-card:before{content:"\\F09D"}.fa-feed:before,.fa-rss:before{content:"\\F09E"}.fa-hdd-o:before{content:"\\F0A0"}.fa-bullhorn:before{content:"\\F0A1"}.fa-bell:before{content:"\\F0F3"}.fa-certificate:before{content:"\\F0A3"}.fa-hand-o-right:before{content:"\\F0A4"}.fa-hand-o-left:before{content:"\\F0A5"}.fa-hand-o-up:before{content:"\\F0A6"}.fa-hand-o-down:before{content:"\\F0A7"}.fa-arrow-circle-left:before{content:"\\F0A8"}.fa-arrow-circle-right:before{content:"\\F0A9"}.fa-arrow-circle-up:before{content:"\\F0AA"}.fa-arrow-circle-down:before{content:"\\F0AB"}.fa-globe:before{content:"\\F0AC"}.fa-wrench:before{content:"\\F0AD"}.fa-tasks:before{content:"\\F0AE"}.fa-filter:before{content:"\\F0B0"}.fa-briefcase:before{content:"\\F0B1"}.fa-arrows-alt:before{content:"\\F0B2"}.fa-group:before,.fa-users:before{content:"\\F0C0"}.fa-chain:before,.fa-link:before{content:"\\F0C1"}.fa-cloud:before{content:"\\F0C2"}.fa-flask:before{content:"\\F0C3"}.fa-cut:before,.fa-scissors:before{content:"\\F0C4"}.fa-copy:before,.fa-files-o:before{content:"\\F0C5"}.fa-paperclip:before{content:"\\F0C6"}.fa-save:before,.fa-floppy-o:before{content:"\\F0C7"}.fa-square:before{content:"\\F0C8"}.fa-navicon:before,.fa-reorder:before,.fa-bars:before{content:"\\F0C9"}.fa-list-ul:before{content:"\\F0CA"}.fa-list-ol:before{content:"\\F0CB"}.fa-strikethrough:before{content:"\\F0CC"}.fa-underline:before{content:"\\F0CD"}.fa-table:before{content:"\\F0CE"}.fa-magic:before{content:"\\F0D0"}.fa-truck:before{content:"\\F0D1"}.fa-pinterest:before{content:"\\F0D2"}.fa-pinterest-square:before{content:"\\F0D3"}.fa-google-plus-square:before{content:"\\F0D4"}.fa-google-plus:before{content:"\\F0D5"}.fa-money:before{content:"\\F0D6"}.fa-caret-down:before,.card--expandedchoices .right-and-down-caret:before{content:"\\F0D7"}.fa-caret-up:before{content:"\\F0D8"}.fa-caret-left:before{content:"\\F0D9"}.fa-caret-right:before,.right-and-down-caret:before{content:"\\F0DA"}.fa-columns:before{content:"\\F0DB"}.fa-unsorted:before,.fa-sort:before{content:"\\F0DC"}.fa-sort-down:before,.fa-sort-desc:before{content:"\\F0DD"}.fa-sort-up:before,.fa-sort-asc:before{content:"\\F0DE"}.fa-envelope:before{content:"\\F0E0"}.fa-linkedin:before{content:"\\F0E1"}.fa-rotate-left:before,.fa-undo:before{content:"\\F0E2"}.fa-legal:before,.fa-gavel:before{content:"\\F0E3"}.fa-dashboard:before,.fa-tachometer:before{content:"\\F0E4"}.fa-comment-o:before{content:"\\F0E5"}.fa-comments-o:before{content:"\\F0E6"}.fa-flash:before,.fa-bolt:before{content:"\\F0E7"}.fa-sitemap:before{content:"\\F0E8"}.fa-umbrella:before{content:"\\F0E9"}.fa-paste:before,.fa-clipboard:before{content:"\\F0EA"}.fa-lightbulb-o:before{content:"\\F0EB"}.fa-exchange:before{content:"\\F0EC"}.fa-cloud-download:before{content:"\\F0ED"}.fa-cloud-upload:before{content:"\\F0EE"}.fa-user-md:before{content:"\\F0F0"}.fa-stethoscope:before{content:"\\F0F1"}.fa-suitcase:before{content:"\\F0F2"}.fa-bell-o:before{content:"\\F0A2"}.fa-coffee:before{content:"\\F0F4"}.fa-cutlery:before{content:"\\F0F5"}.fa-file-text-o:before{content:"\\F0F6"}.fa-building-o:before{content:"\\F0F7"}.fa-hospital-o:before{content:"\\F0F8"}.fa-ambulance:before{content:"\\F0F9"}.fa-medkit:before{content:"\\F0FA"}.fa-fighter-jet:before{content:"\\F0FB"}.fa-beer:before{content:"\\F0FC"}.fa-h-square:before{content:"\\F0FD"}.fa-plus-square:before{content:"\\F0FE"}.fa-angle-double-left:before{content:"\\F100"}.fa-angle-double-right:before{content:"\\F101"}.fa-angle-double-up:before{content:"\\F102"}.fa-angle-double-down:before{content:"\\F103"}.fa-angle-left:before{content:"\\F104"}.fa-angle-right:before{content:"\\F105"}.fa-angle-up:before{content:"\\F106"}.fa-angle-down:before{content:"\\F107"}.fa-desktop:before{content:"\\F108"}.fa-laptop:before{content:"\\F109"}.fa-tablet:before{content:"\\F10A"}.fa-mobile-phone:before,.fa-mobile:before{content:"\\F10B"}.fa-circle-o:before{content:"\\F10C"}.fa-quote-left:before{content:"\\F10D"}.fa-quote-right:before{content:"\\F10E"}.fa-spinner:before{content:"\\F110"}.fa-circle:before{content:"\\F111"}.fa-mail-reply:before,.fa-reply:before{content:"\\F112"}.fa-github-alt:before{content:"\\F113"}.fa-folder-o:before{content:"\\F114"}.fa-folder-open-o:before{content:"\\F115"}.fa-smile-o:before{content:"\\F118"}.fa-frown-o:before{content:"\\F119"}.fa-meh-o:before{content:"\\F11A"}.fa-gamepad:before{content:"\\F11B"}.fa-keyboard-o:before{content:"\\F11C"}.fa-flag-o:before{content:"\\F11D"}.fa-flag-checkered:before{content:"\\F11E"}.fa-terminal:before{content:"\\F120"}.fa-code:before{content:"\\F121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\\F122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\\F123"}.fa-location-arrow:before{content:"\\F124"}.fa-crop:before{content:"\\F125"}.fa-code-fork:before{content:"\\F126"}.fa-unlink:before,.fa-chain-broken:before{content:"\\F127"}.fa-question:before{content:"\\F128"}.fa-info:before{content:"\\F129"}.fa-exclamation:before{content:"\\F12A"}.fa-superscript:before{content:"\\F12B"}.fa-subscript:before{content:"\\F12C"}.fa-eraser:before{content:"\\F12D"}.fa-puzzle-piece:before{content:"\\F12E"}.fa-microphone:before{content:"\\F130"}.fa-microphone-slash:before{content:"\\F131"}.fa-shield:before{content:"\\F132"}.fa-calendar-o:before{content:"\\F133"}.fa-fire-extinguisher:before{content:"\\F134"}.fa-rocket:before{content:"\\F135"}.fa-maxcdn:before{content:"\\F136"}.fa-chevron-circle-left:before{content:"\\F137"}.fa-chevron-circle-right:before{content:"\\F138"}.fa-chevron-circle-up:before{content:"\\F139"}.fa-chevron-circle-down:before{content:"\\F13A"}.fa-html5:before{content:"\\F13B"}.fa-css3:before{content:"\\F13C"}.fa-anchor:before{content:"\\F13D"}.fa-unlock-alt:before{content:"\\F13E"}.fa-bullseye:before{content:"\\F140"}.fa-ellipsis-h:before{content:"\\F141"}.fa-ellipsis-v:before{content:"\\F142"}.fa-rss-square:before{content:"\\F143"}.fa-play-circle:before{content:"\\F144"}.fa-ticket:before{content:"\\F145"}.fa-minus-square:before{content:"\\F146"}.fa-minus-square-o:before{content:"\\F147"}.fa-level-up:before{content:"\\F148"}.fa-level-down:before{content:"\\F149"}.fa-check-square:before{content:"\\F14A"}.fa-pencil-square:before{content:"\\F14B"}.fa-external-link-square:before{content:"\\F14C"}.fa-share-square:before{content:"\\F14D"}.fa-compass:before{content:"\\F14E"}.fa-toggle-down:before,.fa-caret-square-o-down:before{content:"\\F150"}.fa-toggle-up:before,.fa-caret-square-o-up:before{content:"\\F151"}.fa-toggle-right:before,.fa-caret-square-o-right:before{content:"\\F152"}.fa-euro:before,.fa-eur:before{content:"\\F153"}.fa-gbp:before{content:"\\F154"}.fa-dollar:before,.fa-usd:before{content:"\\F155"}.fa-rupee:before,.fa-inr:before{content:"\\F156"}.fa-cny:before,.fa-rmb:before,.fa-yen:before,.fa-jpy:before{content:"\\F157"}.fa-ruble:before,.fa-rouble:before,.fa-rub:before{content:"\\F158"}.fa-won:before,.fa-krw:before{content:"\\F159"}.fa-bitcoin:before,.fa-btc:before{content:"\\F15A"}.fa-file:before{content:"\\F15B"}.fa-file-text:before{content:"\\F15C"}.fa-sort-alpha-asc:before{content:"\\F15D"}.fa-sort-alpha-desc:before{content:"\\F15E"}.fa-sort-amount-asc:before{content:"\\F160"}.fa-sort-amount-desc:before{content:"\\F161"}.fa-sort-numeric-asc:before{content:"\\F162"}.fa-sort-numeric-desc:before{content:"\\F163"}.fa-thumbs-up:before{content:"\\F164"}.fa-thumbs-down:before{content:"\\F165"}.fa-youtube-square:before{content:"\\F166"}.fa-youtube:before{content:"\\F167"}.fa-xing:before{content:"\\F168"}.fa-xing-square:before{content:"\\F169"}.fa-youtube-play:before{content:"\\F16A"}.fa-dropbox:before{content:"\\F16B"}.fa-stack-overflow:before{content:"\\F16C"}.fa-instagram:before{content:"\\F16D"}.fa-flickr:before{content:"\\F16E"}.fa-adn:before{content:"\\F170"}.fa-bitbucket:before{content:"\\F171"}.fa-bitbucket-square:before{content:"\\F172"}.fa-tumblr:before{content:"\\F173"}.fa-tumblr-square:before{content:"\\F174"}.fa-long-arrow-down:before{content:"\\F175"}.fa-long-arrow-up:before{content:"\\F176"}.fa-long-arrow-left:before{content:"\\F177"}.fa-long-arrow-right:before{content:"\\F178"}.fa-apple:before{content:"\\F179"}.fa-windows:before{content:"\\F17A"}.fa-android:before{content:"\\F17B"}.fa-linux:before{content:"\\F17C"}.fa-dribbble:before{content:"\\F17D"}.fa-skype:before{content:"\\F17E"}.fa-foursquare:before{content:"\\F180"}.fa-trello:before{content:"\\F181"}.fa-female:before{content:"\\F182"}.fa-male:before{content:"\\F183"}.fa-gittip:before,.fa-gratipay:before{content:"\\F184"}.fa-sun-o:before{content:"\\F185"}.fa-moon-o:before{content:"\\F186"}.fa-archive:before{content:"\\F187"}.fa-bug:before{content:"\\F188"}.fa-vk:before{content:"\\F189"}.fa-weibo:before{content:"\\F18A"}.fa-renren:before{content:"\\F18B"}.fa-pagelines:before{content:"\\F18C"}.fa-stack-exchange:before{content:"\\F18D"}.fa-arrow-circle-o-right:before{content:"\\F18E"}.fa-arrow-circle-o-left:before{content:"\\F190"}.fa-toggle-left:before,.fa-caret-square-o-left:before{content:"\\F191"}.fa-dot-circle-o:before{content:"\\F192"}.fa-wheelchair:before{content:"\\F193"}.fa-vimeo-square:before{content:"\\F194"}.fa-turkish-lira:before,.fa-try:before{content:"\\F195"}.fa-plus-square-o:before{content:"\\F196"}.fa-space-shuttle:before{content:"\\F197"}.fa-slack:before{content:"\\F198"}.fa-envelope-square:before{content:"\\F199"}.fa-wordpress:before{content:"\\F19A"}.fa-openid:before{content:"\\F19B"}.fa-institution:before,.fa-bank:before,.fa-university:before{content:"\\F19C"}.fa-mortar-board:before,.fa-graduation-cap:before{content:"\\F19D"}.fa-yahoo:before{content:"\\F19E"}.fa-google:before{content:"\\F1A0"}.fa-reddit:before{content:"\\F1A1"}.fa-reddit-square:before{content:"\\F1A2"}.fa-stumbleupon-circle:before{content:"\\F1A3"}.fa-stumbleupon:before{content:"\\F1A4"}.fa-delicious:before{content:"\\F1A5"}.fa-digg:before{content:"\\F1A6"}.fa-pied-piper-pp:before{content:"\\F1A7"}.fa-pied-piper-alt:before{content:"\\F1A8"}.fa-drupal:before{content:"\\F1A9"}.fa-joomla:before{content:"\\F1AA"}.fa-language:before{content:"\\F1AB"}.fa-fax:before{content:"\\F1AC"}.fa-building:before{content:"\\F1AD"}.fa-child:before{content:"\\F1AE"}.fa-paw:before{content:"\\F1B0"}.fa-spoon:before{content:"\\F1B1"}.fa-cube:before{content:"\\F1B2"}.fa-cubes:before{content:"\\F1B3"}.fa-behance:before{content:"\\F1B4"}.fa-behance-square:before{content:"\\F1B5"}.fa-steam:before{content:"\\F1B6"}.fa-steam-square:before{content:"\\F1B7"}.fa-recycle:before{content:"\\F1B8"}.fa-automobile:before,.fa-car:before{content:"\\F1B9"}.fa-cab:before,.fa-taxi:before{content:"\\F1BA"}.fa-tree:before{content:"\\F1BB"}.fa-spotify:before{content:"\\F1BC"}.fa-deviantart:before{content:"\\F1BD"}.fa-soundcloud:before{content:"\\F1BE"}.fa-database:before{content:"\\F1C0"}.fa-file-pdf-o:before{content:"\\F1C1"}.fa-file-word-o:before{content:"\\F1C2"}.fa-file-excel-o:before{content:"\\F1C3"}.fa-file-powerpoint-o:before{content:"\\F1C4"}.fa-file-photo-o:before,.fa-file-picture-o:before,.fa-file-image-o:before{content:"\\F1C5"}.fa-file-zip-o:before,.fa-file-archive-o:before{content:"\\F1C6"}.fa-file-sound-o:before,.fa-file-audio-o:before{content:"\\F1C7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\\F1C8"}.fa-file-code-o:before{content:"\\F1C9"}.fa-vine:before{content:"\\F1CA"}.fa-codepen:before{content:"\\F1CB"}.fa-jsfiddle:before{content:"\\F1CC"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-saver:before,.fa-support:before,.fa-life-ring:before{content:"\\F1CD"}.fa-circle-o-notch:before,.message--loading>i:first-child:before,.loading i:first-child:before,.formBuilder-header__button.formBuilder-header__button--savepending>i:before,.formBuilder-header__button.formBuilder-header__button--create-pending>i:before{content:"\\F1CE"}.fa-ra:before,.fa-resistance:before,.fa-rebel:before{content:"\\F1D0"}.fa-ge:before,.fa-empire:before{content:"\\F1D1"}.fa-git-square:before{content:"\\F1D2"}.fa-git:before{content:"\\F1D3"}.fa-y-combinator-square:before,.fa-yc-square:before,.fa-hacker-news:before{content:"\\F1D4"}.fa-tencent-weibo:before{content:"\\F1D5"}.fa-qq:before{content:"\\F1D6"}.fa-wechat:before,.fa-weixin:before{content:"\\F1D7"}.fa-send:before,.fa-paper-plane:before{content:"\\F1D8"}.fa-send-o:before,.fa-paper-plane-o:before{content:"\\F1D9"}.fa-history:before{content:"\\F1DA"}.fa-circle-thin:before{content:"\\F1DB"}.fa-header:before{content:"\\F1DC"}.fa-paragraph:before{content:"\\F1DD"}.fa-sliders:before{content:"\\F1DE"}.fa-share-alt:before{content:"\\F1E0"}.fa-share-alt-square:before{content:"\\F1E1"}.fa-bomb:before{content:"\\F1E2"}.fa-soccer-ball-o:before,.fa-futbol-o:before{content:"\\F1E3"}.fa-tty:before{content:"\\F1E4"}.fa-binoculars:before{content:"\\F1E5"}.fa-plug:before{content:"\\F1E6"}.fa-slideshare:before{content:"\\F1E7"}.fa-twitch:before{content:"\\F1E8"}.fa-yelp:before{content:"\\F1E9"}.fa-newspaper-o:before{content:"\\F1EA"}.fa-wifi:before{content:"\\F1EB"}.fa-calculator:before{content:"\\F1EC"}.fa-paypal:before{content:"\\F1ED"}.fa-google-wallet:before{content:"\\F1EE"}.fa-cc-visa:before{content:"\\F1F0"}.fa-cc-mastercard:before{content:"\\F1F1"}.fa-cc-discover:before{content:"\\F1F2"}.fa-cc-amex:before{content:"\\F1F3"}.fa-cc-paypal:before{content:"\\F1F4"}.fa-cc-stripe:before{content:"\\F1F5"}.fa-bell-slash:before{content:"\\F1F6"}.fa-bell-slash-o:before{content:"\\F1F7"}.fa-trash:before{content:"\\F1F8"}.fa-copyright:before{content:"\\F1F9"}.fa-at:before{content:"\\F1FA"}.fa-eyedropper:before{content:"\\F1FB"}.fa-paint-brush:before{content:"\\F1FC"}.fa-birthday-cake:before{content:"\\F1FD"}.fa-area-chart:before{content:"\\F1FE"}.fa-pie-chart:before{content:"\\F200"}.fa-line-chart:before{content:"\\F201"}.fa-lastfm:before{content:"\\F202"}.fa-lastfm-square:before{content:"\\F203"}.fa-toggle-off:before{content:"\\F204"}.fa-toggle-on:before{content:"\\F205"}.fa-bicycle:before{content:"\\F206"}.fa-bus:before{content:"\\F207"}.fa-ioxhost:before{content:"\\F208"}.fa-angellist:before{content:"\\F209"}.fa-cc:before{content:"\\F20A"}.fa-shekel:before,.fa-sheqel:before,.fa-ils:before{content:"\\F20B"}.fa-meanpath:before{content:"\\F20C"}.fa-buysellads:before{content:"\\F20D"}.fa-connectdevelop:before{content:"\\F20E"}.fa-dashcube:before{content:"\\F210"}.fa-forumbee:before{content:"\\F211"}.fa-leanpub:before{content:"\\F212"}.fa-sellsy:before{content:"\\F213"}.fa-shirtsinbulk:before{content:"\\F214"}.fa-simplybuilt:before{content:"\\F215"}.fa-skyatlas:before{content:"\\F216"}.fa-cart-plus:before{content:"\\F217"}.fa-cart-arrow-down:before{content:"\\F218"}.fa-diamond:before{content:"\\F219"}.fa-ship:before{content:"\\F21A"}.fa-user-secret:before{content:"\\F21B"}.fa-motorcycle:before{content:"\\F21C"}.fa-street-view:before{content:"\\F21D"}.fa-heartbeat:before{content:"\\F21E"}.fa-venus:before{content:"\\F221"}.fa-mars:before{content:"\\F222"}.fa-mercury:before{content:"\\F223"}.fa-intersex:before,.fa-transgender:before{content:"\\F224"}.fa-transgender-alt:before{content:"\\F225"}.fa-venus-double:before{content:"\\F226"}.fa-mars-double:before{content:"\\F227"}.fa-venus-mars:before{content:"\\F228"}.fa-mars-stroke:before{content:"\\F229"}.fa-mars-stroke-v:before{content:"\\F22A"}.fa-mars-stroke-h:before{content:"\\F22B"}.fa-neuter:before{content:"\\F22C"}.fa-genderless:before{content:"\\F22D"}.fa-facebook-official:before{content:"\\F230"}.fa-pinterest-p:before{content:"\\F231"}.fa-whatsapp:before{content:"\\F232"}.fa-server:before{content:"\\F233"}.fa-user-plus:before{content:"\\F234"}.fa-user-times:before{content:"\\F235"}.fa-hotel:before,.fa-bed:before{content:"\\F236"}.fa-viacoin:before{content:"\\F237"}.fa-train:before{content:"\\F238"}.fa-subway:before{content:"\\F239"}.fa-medium:before{content:"\\F23A"}.fa-yc:before,.fa-y-combinator:before{content:"\\F23B"}.fa-optin-monster:before{content:"\\F23C"}.fa-opencart:before{content:"\\F23D"}.fa-expeditedssl:before{content:"\\F23E"}.fa-battery-4:before,.fa-battery:before,.fa-battery-full:before{content:"\\F240"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:"\\F241"}.fa-battery-2:before,.fa-battery-half:before{content:"\\F242"}.fa-battery-1:before,.fa-battery-quarter:before{content:"\\F243"}.fa-battery-0:before,.fa-battery-empty:before{content:"\\F244"}.fa-mouse-pointer:before{content:"\\F245"}.fa-i-cursor:before{content:"\\F246"}.fa-object-group:before{content:"\\F247"}.fa-object-ungroup:before{content:"\\F248"}.fa-sticky-note:before{content:"\\F249"}.fa-sticky-note-o:before{content:"\\F24A"}.fa-cc-jcb:before{content:"\\F24B"}.fa-cc-diners-club:before{content:"\\F24C"}.fa-clone:before{content:"\\F24D"}.fa-balance-scale:before{content:"\\F24E"}.fa-hourglass-o:before{content:"\\F250"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:"\\F251"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:"\\F252"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:"\\F253"}.fa-hourglass:before{content:"\\F254"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:"\\F255"}.fa-hand-stop-o:before,.fa-hand-paper-o:before{content:"\\F256"}.fa-hand-scissors-o:before{content:"\\F257"}.fa-hand-lizard-o:before{content:"\\F258"}.fa-hand-spock-o:before{content:"\\F259"}.fa-hand-pointer-o:before{content:"\\F25A"}.fa-hand-peace-o:before{content:"\\F25B"}.fa-trademark:before{content:"\\F25C"}.fa-registered:before{content:"\\F25D"}.fa-creative-commons:before{content:"\\F25E"}.fa-gg:before{content:"\\F260"}.fa-gg-circle:before{content:"\\F261"}.fa-tripadvisor:before{content:"\\F262"}.fa-odnoklassniki:before{content:"\\F263"}.fa-odnoklassniki-square:before{content:"\\F264"}.fa-get-pocket:before{content:"\\F265"}.fa-wikipedia-w:before{content:"\\F266"}.fa-safari:before{content:"\\F267"}.fa-chrome:before{content:"\\F268"}.fa-firefox:before{content:"\\F269"}.fa-opera:before{content:"\\F26A"}.fa-internet-explorer:before{content:"\\F26B"}.fa-tv:before,.fa-television:before{content:"\\F26C"}.fa-contao:before{content:"\\F26D"}.fa-500px:before{content:"\\F26E"}.fa-amazon:before{content:"\\F270"}.fa-calendar-plus-o:before{content:"\\F271"}.fa-calendar-minus-o:before{content:"\\F272"}.fa-calendar-times-o:before{content:"\\F273"}.fa-calendar-check-o:before{content:"\\F274"}.fa-industry:before{content:"\\F275"}.fa-map-pin:before{content:"\\F276"}.fa-map-signs:before{content:"\\F277"}.fa-map-o:before{content:"\\F278"}.fa-map:before{content:"\\F279"}.fa-commenting:before{content:"\\F27A"}.fa-commenting-o:before{content:"\\F27B"}.fa-houzz:before{content:"\\F27C"}.fa-vimeo:before{content:"\\F27D"}.fa-black-tie:before{content:"\\F27E"}.fa-fonticons:before{content:"\\F280"}.fa-reddit-alien:before{content:"\\F281"}.fa-edge:before{content:"\\F282"}.fa-credit-card-alt:before{content:"\\F283"}.fa-codiepie:before{content:"\\F284"}.fa-modx:before{content:"\\F285"}.fa-fort-awesome:before{content:"\\F286"}.fa-usb:before{content:"\\F287"}.fa-product-hunt:before{content:"\\F288"}.fa-mixcloud:before{content:"\\F289"}.fa-scribd:before{content:"\\F28A"}.fa-pause-circle:before{content:"\\F28B"}.fa-pause-circle-o:before{content:"\\F28C"}.fa-stop-circle:before{content:"\\F28D"}.fa-stop-circle-o:before{content:"\\F28E"}.fa-shopping-bag:before{content:"\\F290"}.fa-shopping-basket:before{content:"\\F291"}.fa-hashtag:before{content:"\\F292"}.fa-bluetooth:before{content:"\\F293"}.fa-bluetooth-b:before{content:"\\F294"}.fa-percent:before{content:"\\F295"}.fa-gitlab:before{content:"\\F296"}.fa-wpbeginner:before{content:"\\F297"}.fa-wpforms:before{content:"\\F298"}.fa-envira:before{content:"\\F299"}.fa-universal-access:before{content:"\\F29A"}.fa-wheelchair-alt:before{content:"\\F29B"}.fa-question-circle-o:before{content:"\\F29C"}.fa-blind:before{content:"\\F29D"}.fa-audio-description:before{content:"\\F29E"}.fa-volume-control-phone:before{content:"\\F2A0"}.fa-braille:before{content:"\\F2A1"}.fa-assistive-listening-systems:before{content:"\\F2A2"}.fa-asl-interpreting:before,.fa-american-sign-language-interpreting:before{content:"\\F2A3"}.fa-deafness:before,.fa-hard-of-hearing:before,.fa-deaf:before{content:"\\F2A4"}.fa-glide:before{content:"\\F2A5"}.fa-glide-g:before{content:"\\F2A6"}.fa-signing:before,.fa-sign-language:before{content:"\\F2A7"}.fa-low-vision:before{content:"\\F2A8"}.fa-viadeo:before{content:"\\F2A9"}.fa-viadeo-square:before{content:"\\F2AA"}.fa-snapchat:before{content:"\\F2AB"}.fa-snapchat-ghost:before{content:"\\F2AC"}.fa-snapchat-square:before{content:"\\F2AD"}.fa-pied-piper:before{content:"\\F2AE"}.fa-first-order:before{content:"\\F2B0"}.fa-yoast:before{content:"\\F2B1"}.fa-themeisle:before{content:"\\F2B2"}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:"\\F2B3"}.fa-fa:before,.fa-font-awesome:before{content:"\\F2B4"}.fa-handshake-o:before{content:"\\F2B5"}.fa-envelope-open:before{content:"\\F2B6"}.fa-envelope-open-o:before{content:"\\F2B7"}.fa-linode:before{content:"\\F2B8"}.fa-address-book:before{content:"\\F2B9"}.fa-address-book-o:before{content:"\\F2BA"}.fa-vcard:before,.fa-address-card:before{content:"\\F2BB"}.fa-vcard-o:before,.fa-address-card-o:before{content:"\\F2BC"}.fa-user-circle:before{content:"\\F2BD"}.fa-user-circle-o:before{content:"\\F2BE"}.fa-user-o:before{content:"\\F2C0"}.fa-id-badge:before{content:"\\F2C1"}.fa-drivers-license:before,.fa-id-card:before{content:"\\F2C2"}.fa-drivers-license-o:before,.fa-id-card-o:before{content:"\\F2C3"}.fa-quora:before{content:"\\F2C4"}.fa-free-code-camp:before{content:"\\F2C5"}.fa-telegram:before{content:"\\F2C6"}.fa-thermometer-4:before,.fa-thermometer:before,.fa-thermometer-full:before{content:"\\F2C7"}.fa-thermometer-3:before,.fa-thermometer-three-quarters:before{content:"\\F2C8"}.fa-thermometer-2:before,.fa-thermometer-half:before{content:"\\F2C9"}.fa-thermometer-1:before,.fa-thermometer-quarter:before{content:"\\F2CA"}.fa-thermometer-0:before,.fa-thermometer-empty:before{content:"\\F2CB"}.fa-shower:before{content:"\\F2CC"}.fa-bathtub:before,.fa-s15:before,.fa-bath:before{content:"\\F2CD"}.fa-podcast:before{content:"\\F2CE"}.fa-window-maximize:before{content:"\\F2D0"}.fa-window-minimize:before{content:"\\F2D1"}.fa-window-restore:before{content:"\\F2D2"}.fa-times-rectangle:before,.fa-window-close:before{content:"\\F2D3"}.fa-times-rectangle-o:before,.fa-window-close-o:before{content:"\\F2D4"}.fa-bandcamp:before{content:"\\F2D5"}.fa-grav:before{content:"\\F2D6"}.fa-etsy:before{content:"\\F2D7"}.fa-imdb:before{content:"\\F2D8"}.fa-ravelry:before{content:"\\F2D9"}.fa-eercast:before{content:"\\F2DA"}.fa-microchip:before{content:"\\F2DB"}.fa-snowflake-o:before{content:"\\F2DC"}.fa-superpowers:before{content:"\\F2DD"}.fa-wpexplorer:before{content:"\\F2DE"}.fa-meetup:before{content:"\\F2E0"}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}.alertify .ajs-dimmer{background-color:#fff;opacity:0.55}.alertify .ajs-dialog{box-shadow:2px 2px 15px 2px rgba(45,47,57,0.15)}.alertify .ajs-header{margin:0px;padding:0px;padding-bottom:18px;font-size:18px;font-weight:bold}.alertify.ajs-closable .ajs-commands button{width:32px;height:32px;padding:0px}.alertify.ajs-closable .ajs-commands button.ajs-close{background:transparent;font-size:32px;color:#5a5e72}.alertify.ajs-closable .ajs-commands button.ajs-close:hover{color:#2d2f39}.alertify.ajs-closable .ajs-commands button.ajs-close:before{content:\'\\D7\'}.alertify.ajs-closable .ajs-commands{margin:0px;top:20px;right:20px;padding:0px}.alertify .ajs-body{min-height:20px}.alertify .ajs-body .ajs-content{padding:0px}.alertify .ajs-body .ajs-content pre{max-height:250px;overflow:auto;word-wrap:break-word;max-width:100%;padding-right:20px;white-space:initial;font-size:12px}.alertify .ajs-dialog{max-width:550px;padding:30px 30px 0 30px}.alertify .ajs-footer{margin:-4px;padding:17px 0px}.alertify .ajs-footer .ajs-buttons.ajs-primary{text-align:right}@media screen and (max-height: 600px){.alertify .ajs-dialog{margin-top:4%;margin-bottom:4%}.alertify .ajs-body .ajs-content pre{max-height:150px;font-size:11px}}@media screen and (max-height: 475px){.alertify .ajs-dialog{margin-top:2%;margin-bottom:2%}.alertify .ajs-body .ajs-content pre{max-height:100px;font-size:10px}}.alertify-notifier .ajs-message,.alertify-notifier .ajs-message.ajs-error,.alertify-notifier .ajs-message.ajs-success,.alertify-notifier .ajs-message.ajs-warning{background:#2d2f39;color:#fff;padding:17px 24px;padding-right:44px;width:auto;min-width:320px;max-width:460px;line-height:1.3em}.alertify-notifier .ajs-message.ajs-error{box-shadow:0 2px 0 0 #e84a5f inset}.alertify-notifier .ajs-message.ajs-success{box-shadow:0 2px 0 0 #28bd70 inset}.alertify-notifier .ajs-message.ajs-warning{box-shadow:0 2px 0 0 #e6801a inset}.alertify-notifier .ajs-message .ajs-close{background:transparent;background-image:none;right:15px;top:50%;margin-top:-10px;opacity:0.5;color:#fff}.alertify-toggle{display:block;padding-bottom:5px;padding-top:5px}.alertify-toggle input{margin-right:5px}.alertify-toggle:first-child{padding-top:15px}.alertify-toggle.alertify-toggle-important{margin-top:20px;padding-top:20px;padding-bottom:20px;border-top:1px solid #e2e3e9;font-weight:bold}.kobo-select__wrapper.kobo-select__wrapper--error>label,.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select-label,.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select-error,.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select .kobo-select__placeholder{color:#e84a5f}.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select .kobo-select__control{border-bottom-color:#e84a5f}.kobo-select-label{display:block;color:inherit;font-size:12px;line-height:16px;font-weight:400;opacity:0.38}.kobo-select-label+.kobo-select{margin-top:10px}.kobo-select-error{font-size:12px}.kobo-select .kobo-select__control{box-shadow:none;border:none;border-bottom:1px solid #e2e3e9;border-radius:0;background-color:#fff;transition:border-bottom-color 250ms}.kobo-select .kobo-select__control:hover{border-bottom-color:#e2e3e9}.kobo-select .kobo-select__control.kobo-select__control--is-focused{border-bottom-color:#259af4}.kobo-select .kobo-select__input input{transition:none !important}.kobo-select .kobo-select__placeholder{color:#5a5e72}.kobo-select .kobo-select__indicator-separator{display:none}.kobo-select .kobo-select__menu{box-shadow:0 0 2px 0 rgba(45,47,57,0.06),0 2px 2px 0 rgba(45,47,57,0.12);border-radius:2px;z-index:2}.kobo-select .kobo-select__menu-list{max-height:134px}.kobo-select .kobo-select__option.kobo-select__option--is-focused{background-color:#f1f1f4}.kobo-select .kobo-select__option.kobo-select__option--is-selected{background-color:#259af4}.react-tagsinput.react-tagsinput-invalid .react-tagsinput-input{color:#e84a5f;border-bottom-color:#e84a5f}.react-tagsinput.react-tagsinput-validating .react-tagsinput-input{color:#22b6c3;border-bottom-color:#22b6c3}.react-tagsinput-tag,.lib-list__tag{background-color:#5a5e72;color:#fff;font-weight:400;margin-bottom:4px;margin-right:4px;padding:4px 8px;padding-right:6px;display:inline-block;font-size:13px;border-radius:2px}.react-tagsinput-remove{cursor:pointer;color:#fff !important;opacity:0.6;margin-left:6px}.react-tagsinput-remove:hover{opacity:0.9}.react-tagsinput-input{background:transparent;border:0 none;color:#5a5e72;font-family:sans-serif;font-size:13px;font-weight:400;margin-bottom:2px;margin-top:1px;outline:none;padding:5px;min-width:90px}.react-tags-save-button{float:left}.kpiapp,.mdl-wrapper,.mdl-layout{height:100%}.mdl-layout{max-width:1440px;margin:0 auto;overflow:hidden}.mdl-layout__content{height:calc(100% - 64px);position:relative;flex-grow:0;overflow:hidden}.mdl-layout__content>.dropzone,.mdl-layout__content .public-collections-wrapper{height:100%;overflow:hidden}.ui-panel{height:100%;margin:0px 8px}.ui-panel.ui-panel--fixed{position:fixed;top:0;left:0;bottom:0;right:0}.ui-panel__body{padding:0;height:100%;flex-direction:column}.ui-panel__body>.asset-view__content,.ui-panel__body>.formBuilder{flex-flow:column;margin:0px !important}.ui-panel__body>.asset-view__content{height:100%}.ui-panel__body>.formBuilder{height:100%}.ui-panel--transparent .ui-panel__body{background:transparent;box-shadow:none;margin:0px}.mdl-layout.page-wrapper--in-formbuilder .mdl-layout__content{margin:0px;width:100%;height:100%}.mdl-layout.page-wrapper--in-formbuilder .ui-panel{margin:0px}.text-small{font-size:0.85em;opacity:.75}.message--error{-webkit-text-decoration:uppercase;text-decoration:uppercase}.message--loading{text-align:center}.loading{display:table;vertical-align:middle;height:100%;width:100%;font-size:18px;opacity:0.8}.loading i:first-child{margin-right:12px;vertical-align:middle;font-size:24px}.loading__inner{display:table-cell;vertical-align:middle;text-align:center;padding-left:20px;padding-right:20px;overflow:hidden}.loading__inner code{margin:20px;padding:15px;font-size:13px;display:block;background:#fff;width:80%;max-height:300px;overflow:auto;word-wrap:break-word;text-align:left}.loading__inner .pro-tip{font-size:14px;margin-top:30px}.loading__msg{padding-top:10px}.popover-menu{position:relative;display:inline-block;vertical-align:middle}.popover-menu__toggle{background:transparent;border:none;margin:0;padding:0;cursor:pointer;color:#5a5e72;display:inline-block;vertical-align:middle}.popover-menu__toggle:hover{color:#259af4}.popover-menu__toggle i{margin:0px;font-size:36px}.popover-menu__content{box-shadow:0 0 8px 0 rgba(45,47,57,0.06),0 8px 8px 0 rgba(45,47,57,0.12);border-radius:2px;overflow:hidden;position:absolute;min-width:160px;max-width:300px;text-align:left;background:#fff;z-index:10;right:-10px;transition:opacity 0.35s;opacity:1}.popover-menu__content--hiding{opacity:0;transition:opacity 0.35s}.popover-menu__content--hidden{display:none}.popover-menu__content--visible{display:block}.popover-menu--below .popover-menu__content{top:100%}.popover-menu--right .popover-menu__content{right:auto;left:-10px}.popover-menu--above .popover-menu__content,.popover-menu--viewby-menu .popover-menu__content{bottom:100%;top:auto}.popover-menu__link,.popover-menu__item{background-color:#fff;display:block;padding:6px 16px 6px 10px;position:relative;color:#5a5e72;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.popover-menu__link>i:first-child,.popover-menu__item>i:first-child{margin-right:4px;font-size:32px;width:28px;vertical-align:middle}.popover-menu__link span,.popover-menu__item span{vertical-align:middle}.popover-menu__link:hover,.popover-menu__item:hover{background-color:#f1f1f4;color:#2d2f39}.popover-menu__link.active,.popover-menu__item.active{color:#259af4}.popover-menu__link.divider,.popover-menu__item.divider{border-top:1px solid #e2e3e9}@media screen and (max-height: 475px){.popover-menu__link,.popover-menu__item{padding:3px 8px 3px 5px}}.popover-menu__moveTo{max-height:120px;overflow:auto;overflow-x:hidden;background-color:#f1f1f4;border-bottom:1px solid #e2e3e9}.popover-menu__item--move-coll-item{background-color:#f1f1f4;position:relative;text-align:left;padding:3px 8px 3px 5px}.popover-menu__item--move-coll-item span{display:inline-block;max-width:150px;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word}.popover-menu__item--move-coll-item.popover-menu__item--move-coll-item-parent{pointer-events:none;font-weight:700;color:#2d2f39}.popover-menu__heading{padding:8px 15px;color:#5a5e72;border-top:1px solid #e2e3e9;background-color:#f1f1f4;margin:0px}.popover-menu--assetrow-menu .popover-menu__content{right:0px}.popover-menu--formLanding-menu{margin-left:4px}.popover-menu--formLanding-menu .popover-menu__content{right:10px}.popover-menu--new-menu{width:100%;margin-bottom:10px}.popover-menu--new-menu .popover-menu__content{right:0px;width:100%}.popover-menu--new-menu .popover-menu__toggle{border-radius:6px;width:100%}.popover-menu--assets-table .popover-menu__content{max-height:195px;overflow:auto}.popover-menu--bulkUpdate-menu{vertical-align:top}.popover-menu--bulkUpdate-menu .popover-menu__toggle{vertical-align:inherit;color:#259af4}.popover-menu--bulkUpdate-menu .popover-menu__toggle:hover{color:#55b0f6}.popover-menu--bulkUpdate-menu .popover-menu__toggle::after{content:"\\F107";font-family:"FontAwesome";margin-left:3px}.popover-menu--bulkUpdate-menu .popover-menu__content{line-height:20px}.popover-menu--question-language .popover-menu__toggle{text-transform:uppercase;padding-left:0px}.popover-menu--question-language .popover-menu__toggle::after{content:"\\F107";font-family:"FontAwesome";font-size:18px;margin-left:5px}.popover-menu--custom-reports .popover-menu__toggle{text-transform:uppercase;padding-left:0px}.popover-menu--custom-reports .popover-menu__toggle::after{content:"\\F107";font-family:"FontAwesome";font-size:18px;margin-left:5px}.popover-menu--custom-reports .popover-menu__content{max-height:500px;min-width:300px;overflow:scroll;right:auto;left:20px}.popover-menu--custom-reports .popover-menu__link{white-space:normal}.popover-menu--collectData-menu .popover-menu__toggle{padding:8px 12px;padding-right:90px;color:#5a5e72;background:#f1f1f4;position:relative;box-shadow:0 0 2px 0 rgba(45,47,57,0.06),0 2px 2px 0 rgba(45,47,57,0.12);border-radius:2px}.popover-menu--collectData-menu .popover-menu__toggle:hover{color:#2d2f39}.popover-menu--collectData-menu .popover-menu__toggle::after{position:absolute;right:10px;top:8px;content:"\\F0D7";font-family:"FontAwesome";font-size:16px}.popover-menu--collectData-menu .popover-menu__content{min-width:550px;max-width:780px;top:auto;bottom:-150px;right:auto;left:30px;max-height:400px;overflow:auto}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link{max-width:100%;white-space:normal;padding:12px;border-bottom:1px solid #e2e3e9;border-left:2px solid transparent}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link:last-child{border-bottom:none}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link .collect-data-label{font-weight:600;color:#2d2f39}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link .collect-data-desc{font-size:12px;line-height:16px}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link:hover{border-left:2px solid #22b6c3}@media screen and (max-width: 767px){.popover-menu--collectData-menu .popover-menu__toggle{padding-right:40px}.popover-menu--collectData-menu .popover-menu__content{min-width:320px;max-width:360px;left:0px}.popover-menu--collectData-menu .popover-menu__content .collect-data-desc{font-size:inherit}}iframe{border:none}.form-modal__item:not(:last-child){margin-bottom:15px}.form-modal__item.form-modal__item--inline{display:inline-block}.form-modal__item.form-modal__item--inline:not(:last-child){margin-bottom:0;margin-right:20px}.form-modal__item--sector,.form-modal__item--country{width:50%;float:left}.form-modal__item--sector .kobo-select{margin-right:30px}.form-modal__item--metadata-share{padding-top:15px;clear:both}.form-modal__item label{font-weight:normal;font-size:12px;color:#5a5e72}.form-modal__item label.long{padding-top:5px;margin-bottom:10px;font-size:14px}.form-modal__item label:not(.inline){display:block}.form-modal__item label.next-to-checkbox{display:inline-block !important;margin-left:10px;max-width:90%;vertical-align:top}.form-modal__item input[type="text"],.form-modal__item input[type="email"],.form-modal__item input[type="password"],.form-modal__item input[type="url"],.form-modal__item select,.form-modal__item textarea{width:100%;padding:4px 10px;font-size:15px;border:1px solid transparent;border-bottom-color:#e2e3e9;transition:border-color 0.3s}.form-modal__item input[type="text"]:focus,.form-modal__item input[type="email"]:focus,.form-modal__item input[type="password"]:focus,.form-modal__item input[type="url"]:focus,.form-modal__item select:focus,.form-modal__item textarea:focus{transition:border-color 0.3s;border-bottom-color:#259af4}.form-modal__item textarea{overflow:hidden;resize:none;height:auto}.form-modal__item textarea.questions{height:60px;overflow:auto;font-size:13px}@media screen and (max-width: 767px){.form-modal__item select{max-width:90%;background:#b8bac7}}.ajs-content input[type="text"],.ajs-content textarea{width:100%;padding:6px 0px;font-size:15px;border:1px solid transparent;border-bottom-color:#e2e3e9;transition:border-color 0.3s}.ajs-content input[type="text"]:focus,.ajs-content textarea:focus{transition:border-color 0.3s;border-bottom-color:#259af4}span.svg-icon svg{max-width:100%;max-height:100%}.k-spin,.message--loading>i:first-child,.loading i:first-child,.formBuilder-header__button.formBuilder-header__button--savepending>i,.formBuilder-header__button.formBuilder-header__button--create-pending>i{-webkit-animation:fa-spin 1.2s infinite linear;animation:fa-spin 1.2s infinite linear}::-webkit-scrollbar{width:0.8em}::-webkit-scrollbar:horizontal{height:0.8em}::-webkit-scrollbar-track{background-color:#b8bac7;background-color:transparent;border-radius:6px}::-webkit-scrollbar-thumb{background-color:#b8bac7;outline:none;border-radius:6px}.dropzone-active-overlay{display:none;position:absolute;width:100%;height:120px;top:50%;margin-top:-60px;left:0;z-index:2;text-align:center;font-size:18px}.dropzone-active-overlay i{font-size:64px;display:block;margin:0 auto;margin-bottom:10px;color:#259af4}.dropzone{position:relative;min-height:calc(100% - 4px)}.dropzone::after{position:absolute;top:0;right:0;bottom:0;left:0;content:\'\';background:rgba(255,255,255,0.7);border:2px solid #259af4;z-index:1;opacity:0;visibility:hidden;transition:0.2s}.dropzone.dropzone--active::after{opacity:1;visibility:visible;transition:0.2s}.dropzone.dropzone--active .dropzone-active-overlay{display:block}.kobo-button,.alertify .ajs-footer button{display:inline-block;vertical-align:middle;position:relative;cursor:pointer;font-size:14px;font-weight:600;text-transform:uppercase;text-decoration:none;text-align:center;border-radius:6px;color:#fff;background-color:#5a5e72;box-shadow:0 2px 4px 0 rgba(0,0,0,0.25);height:auto;min-height:40px;line-height:30px;padding:5px 30px;margin:0;border:none}.kobo-button[disabled],.alertify .ajs-footer button[disabled]{pointer-events:none;color:rgba(255,255,255,0.75);background-image:url("data:image/png;base64,  iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkkAQAAB8AG7jymN8AAAAASUVORK5CYII=")}.kobo-button:hover,.alertify .ajs-footer button:hover{background-image:url("data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk4AcAABUAET9MVpIAAAAASUVORK5CYII=")}.kobo-button:active,.alertify .ajs-footer button:active{transform:translateY(1px);box-shadow:0 1px 3px 0 rgba(0,0,0,0.25)}.kobo-button i,.alertify .ajs-footer button i,.kobo-button .k-icon,.alertify .ajs-footer button .k-icon,.kobo-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-button .ajs-close,.alertify .ajs-footer button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button .ajs-close,.kobo-button .react-tagsinput-remove,.alertify .ajs-footer button .react-tagsinput-remove,.kobo-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button i,.alertify .ajs-footer button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .alertify .ajs-footer button i,.kobo-button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .kobo-button .breadcrumbs__divider,.alertify .ajs-footer button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .alertify .ajs-footer button .breadcrumbs__divider{vertical-align:top;font-size:30px}.kobo-button.kobo-button--small,.alertify .ajs-footer button.kobo-button--small{font-size:13px;line-height:20px;min-height:30px;padding:5px 15px}.kobo-button.kobo-button--small i,.alertify .ajs-footer button.kobo-button--small i,.kobo-button.kobo-button--small .k-icon,.alertify .ajs-footer button.kobo-button--small .k-icon,.kobo-button.kobo-button--small .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-button.kobo-button--small .ajs-close,.alertify .ajs-footer button.kobo-button--small .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button.kobo-button--small .ajs-close,.kobo-button.kobo-button--small .react-tagsinput-remove,.alertify .ajs-footer button.kobo-button--small .react-tagsinput-remove,.kobo-button.kobo-button--small .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button.kobo-button--small i,.alertify .ajs-footer button.kobo-button--small .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .alertify .ajs-footer button.kobo-button--small i,.kobo-button.kobo-button--small .breadcrumbs .breadcrumbs__divider,.breadcrumbs .kobo-button.kobo-button--small .breadcrumbs__divider,.alertify .ajs-footer button.kobo-button--small .breadcrumbs .breadcrumbs__divider,.breadcrumbs .alertify .ajs-footer button.kobo-button--small .breadcrumbs__divider{font-size:20px}.kobo-button.kobo-button--fullwidth,.alertify .ajs-footer button.kobo-button--fullwidth{display:block;width:100%}.kobo-button.kobo-button--blue,.alertify .ajs-footer button.kobo-button--blue,.alertify .ajs-footer button.ajs-ok{background-color:#259af4}.kobo-button.kobo-button--teal,.alertify .ajs-footer button.kobo-button--teal{background-color:#22b6c3}.kobo-button.kobo-button--green,.alertify .ajs-footer button.kobo-button--green{background-color:#28bd70}.kobo-button.kobo-button--orange,.alertify .ajs-footer button.kobo-button--orange{background-color:#e6801a}.kobo-button.kobo-button--red,.alertify .ajs-footer button.kobo-button--red,.alertify .ajs-footer button.ajs-cancel{background-color:#e84a5f}.kobo-button.kobo-button--whitegray,.alertify .ajs-footer button.kobo-button--whitegray{color:#2d2f39;background-color:#f1f1f4}.kobo-button.kobo-button--whitegray[disabled],.alertify .ajs-footer button.kobo-button--whitegray[disabled]{color:rgba(45,47,57,0.75)}.kobo-light-button,.kobo-light-badge{display:inline-block;vertical-align:middle;position:relative;font-size:14px;font-weight:400;text-decoration:none;text-align:center;border-radius:4px;height:24px;line-height:14px;padding:4px 12px;margin:0;border-width:1px;border-style:solid;white-space:nowrap}.kobo-light-button i,.kobo-light-button .k-icon,.kobo-light-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-button .ajs-close,.kobo-light-button .react-tagsinput-remove,.kobo-light-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button i,.kobo-light-button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .kobo-light-button .breadcrumbs__divider,.kobo-light-badge i,.kobo-light-badge .k-icon,.kobo-light-badge .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-badge .ajs-close,.kobo-light-badge .react-tagsinput-remove,.kobo-light-badge .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-badge i,.kobo-light-badge .breadcrumbs .breadcrumbs__divider,.breadcrumbs .kobo-light-badge .breadcrumbs__divider{vertical-align:top;font-size:24px;position:relative;top:-5px;margin-left:-6px}.kobo-light-badge{color:#2d2f39;background-color:#e2e3e9;border-color:#e2e3e9;white-space:nowrap;padding-left:8px;padding-right:8px}.kobo-light-button{cursor:pointer;color:#5a5e72;background-color:transparent;border-color:currentColor}.kobo-light-button[disabled]{pointer-events:none;opacity:0.75}.kobo-light-button:hover{color:#fff;background-color:#5a5e72;border-color:#5a5e72}.kobo-light-button:active{transform:translateY(1px)}.kobo-light-button.kobo-light-button--blue{color:#259af4}.kobo-light-button.kobo-light-button--blue:hover{color:#fff;background-color:#259af4;border-color:#259af4}.kobo-light-button.kobo-light-button--teal{color:#22b6c3}.kobo-light-button.kobo-light-button--teal:hover{color:#fff;background-color:#22b6c3;border-color:#22b6c3}.kobo-light-button.kobo-light-button--green{color:#28bd70}.kobo-light-button.kobo-light-button--green:hover{color:#fff;background-color:#28bd70;border-color:#28bd70}.kobo-light-button.kobo-light-button--orange{color:#e6801a}.kobo-light-button.kobo-light-button--orange:hover{color:#fff;background-color:#e6801a;border-color:#e6801a}.kobo-light-button.kobo-light-button--red{color:#e84a5f}.kobo-light-button.kobo-light-button--red:hover{color:#fff;background-color:#e84a5f;border-color:#e84a5f}.kobo-text-button{display:inline-block;vertical-align:middle;position:relative;font-size:14px;font-weight:400;text-decoration:none;border:0;padding:0;margin:0;cursor:pointer;color:#5a5e72;background:transparent;text-transform:uppercase}.kobo-text-button[disabled]{pointer-events:none;opacity:0.75}.kobo-text-button:hover{opacity:0.9}.kobo-text-button:active{transform:translateY(1px)}.kobo-text-button.kobo-text-button--blue{color:#259af4}.kobo-text-button.kobo-text-button--teal{color:#22b6c3}.kobo-text-button.kobo-text-button--green{color:#28bd70}.kobo-text-button.kobo-text-button--orange{color:#e6801a}.kobo-text-button.kobo-text-button--red{color:#e84a5f}.radio .radio__row,.radio .checkbox__wrapper,.checkbox .radio__row,.checkbox .checkbox__wrapper{padding:4px 0;cursor:pointer}.radio .radio__row:hover .radio__input:not([disabled]):checked::after,.radio .radio__row:hover .checkbox__input:not([disabled]):checked::after,.radio .checkbox__wrapper:hover .radio__input:not([disabled]):checked::after,.radio .checkbox__wrapper:hover .checkbox__input:not([disabled]):checked::after,.checkbox .radio__row:hover .radio__input:not([disabled]):checked::after,.checkbox .radio__row:hover .checkbox__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:hover .radio__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:hover .checkbox__input:not([disabled]):checked::after{opacity:0.8}.radio .radio__row:hover .radio__input:not([disabled]):not(:checked)::after,.radio .radio__row:hover .checkbox__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:hover .radio__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:hover .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:hover .radio__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:hover .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:hover .radio__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:hover .checkbox__input:not([disabled]):not(:checked)::after{opacity:0.1}.radio .radio__row:active .radio__input:not([disabled]):checked::after,.radio .radio__row:active .checkbox__input:not([disabled]):checked::after,.radio .checkbox__wrapper:active .radio__input:not([disabled]):checked::after,.radio .checkbox__wrapper:active .checkbox__input:not([disabled]):checked::after,.checkbox .radio__row:active .radio__input:not([disabled]):checked::after,.checkbox .radio__row:active .checkbox__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:active .radio__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:active .checkbox__input:not([disabled]):checked::after{opacity:0.6}.radio .radio__row:active .radio__input:not([disabled]):not(:checked)::after,.radio .radio__row:active .checkbox__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:active .radio__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:active .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:active .radio__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:active .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:active .radio__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:active .checkbox__input:not([disabled]):not(:checked)::after{opacity:0.3}.radio .radio__row,.checkbox .radio__row{display:block}.radio .radio__input,.radio .checkbox__input,.radio .radio__label,.radio .checkbox__label,.checkbox .radio__input,.checkbox .checkbox__input,.checkbox .radio__label,.checkbox .checkbox__label{display:inline-block;vertical-align:top}.radio .radio__label,.radio .checkbox__label,.checkbox .radio__label,.checkbox .checkbox__label{max-width:calc(100% - 32px);color:#2d2f39;font-size:14px}.radio .radio__input+.radio__label,.radio .checkbox__input+.checkbox__label,.checkbox .radio__input+.radio__label,.checkbox .checkbox__input+.checkbox__label{margin-left:8px}.radio .radio__input,.checkbox .radio__input{border-radius:50%}.radio .radio__input::after,.checkbox .radio__input::after{content:"";top:4px;left:4px;border-radius:50%;width:10px;height:10px;background-color:#259af4}.radio .checkbox__input,.checkbox .checkbox__input{border-radius:2px}.radio .checkbox__input::after,.checkbox .checkbox__input::after{content:"\\2713";top:50%;left:50%;transform:translate(-50%, -50%);width:18px;height:18px;color:#fff;background-color:#259af4;text-align:center;line-height:18px;font-size:18px}.radio .radio__input,.radio .checkbox__input,.checkbox .radio__input,.checkbox .checkbox__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;margin:0;border:1px solid #5a5e72;width:20px;height:20px;outline:0;background-color:transparent;color:#5a5e72;cursor:pointer}.radio .radio__input::after,.radio .checkbox__input::after,.checkbox .radio__input::after,.checkbox .checkbox__input::after{display:block;position:absolute;opacity:0}.radio .radio__input:checked,.radio .checkbox__input:checked,.checkbox .radio__input:checked,.checkbox .checkbox__input:checked{border-color:#259af4}.radio .radio__input:checked::after,.radio .checkbox__input:checked::after,.checkbox .radio__input:checked::after,.checkbox .checkbox__input:checked::after{opacity:1}.radio .radio__input[disabled],.radio .checkbox__input[disabled],.checkbox .radio__input[disabled],.checkbox .checkbox__input[disabled]{pointer-events:none;opacity:0.5}.radio .radio__input[disabled]+.radio__label,.radio .radio__input[disabled]+.checkbox__label,.radio .checkbox__input[disabled]+.radio__label,.radio .checkbox__input[disabled]+.checkbox__label,.checkbox .radio__input[disabled]+.radio__label,.checkbox .radio__input[disabled]+.checkbox__label,.checkbox .checkbox__input[disabled]+.radio__label,.checkbox .checkbox__input[disabled]+.checkbox__label{opacity:0.5}.toggle-switch{position:relative;display:inline-block;line-height:20px}.toggle-switch .toggle-switch__wrapper{cursor:pointer}.toggle-switch input{visibility:hidden;position:absolute}.toggle-switch .toggle-switch__slider{display:inline-block;vertical-align:top;position:relative;width:30px;height:20px;background-color:#b8bac7;transition:0.3s cubic-bezier(1, 0, 0.5, 1);border-radius:34px}.toggle-switch .toggle-switch__slider[disabled]{opacity:0.5}.toggle-switch .toggle-switch__slider::before{position:absolute;content:"";height:16px;width:16px;left:2px;top:2px;background-color:#fff;transition:inherit;border-radius:50%}.toggle-switch .toggle-switch__slider+.toggle-switch__label{margin-left:6px}.toggle-switch input:checked+.toggle-switch__slider{background-color:#22b6c3}.toggle-switch input:checked+.toggle-switch__slider::before{transform:translateX(10px)}.toggle-switch input:focus+.toggle-switch__slider{box-shadow:0 0 1px #22b6c3}.toggle-switch .toggle-switch__label{color:#2d2f39;font-size:14px}.modal__backdrop{position:fixed;height:100%;width:100%;z-index:1101;top:0px;left:0px;background-color:rgba(45,47,57,0.4) !important}.modal{box-shadow:0 0 12px 0 rgba(45,47,57,0.06),0 12px 12px 0 rgba(45,47,57,0.12);border-radius:2px;align-items:stretch;display:flex;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);min-width:40%;max-width:90%;max-height:95%;overflow-x:auto;visibility:hidden}.modal.modal--open{visibility:visible}.modal.modal--large{height:auto !important;width:80%;max-width:1240px}.modal.modal--large.modal--large-shorter{max-width:960px}.modal.modal--large .modal__content{height:100%;width:100%;display:flex;flex-direction:column}.modal.modal--large .modal__body{flex-grow:1;display:flex;flex-direction:column}.modal.modal--large .modal__body .enketo-holder{flex-grow:1;display:flex;flex-direction:column}.modal.modal--large .modal__body iframe{flex-grow:1;border:1px solid white;width:100%}.modal.modal--large .modal__body .modal__footer{margin-bottom:30px}.modal__body{padding:30px 30px 0;margin-bottom:30px}.modal__body .modal__footer{padding:0}.modal__content{overflow:auto;background-color:#fff;width:100%}.modal__tabs{background:#259af4;color:#fff}.modal__header{min-height:70px;background:#259af4;color:#fff;display:flex;justify-content:space-between}.modal__title{margin:0px;padding:24px 30px;font-size:18px;line-height:22px}.modal__x,.modal__done{z-index:10;color:inherit;background-color:inherit;padding:8px;margin:11px 15px 11px 11px;border-radius:50%;font-size:20px;cursor:pointer}.modal__x i,.modal__done i{display:block;font-size:32px}.modal__x:hover,.modal__done:hover{opacity:0.7}.modal__done{padding:24px;margin:0px;font-size:18px;font-weight:600;color:#259af4}.modal__subheader{background:#f1f1f4;padding:20px 30px;margin:-30px -30px 20px;color:#5a5e72}.modal__subheader i{margin:2px 10px 10px 0;font-size:32px;float:left}.modal__footer{padding:0 30px 30px;margin-top:20px;text-align:right}.modal__footer::before,.modal__footer::after{content:\'\';display:table;clear:both}.modal__footer:first-child{margin-top:0;margin-bottom:20px}.modal__footer button:not(:first-of-type){margin-left:10px}.modal__hr{margin:20px -30px;border:0;background-color:#e2e3e9;height:1px}.modal.modal-submission .modal__header{background-color:#f1f1f4;color:#2d2f39}.modal.modal-submission .form-modal{text-align:right;padding-bottom:20px}.modal.modal-submission .mdl-button--raised+.mdl-button--icon,.modal.modal-submission .popover-menu--new-menu .popover-menu__toggle+.mdl-button--icon,.popover-menu--new-menu .modal.modal-submission .popover-menu__toggle+.mdl-button--icon,.modal.modal-submission .form-wrap .error-message__link--raised+.mdl-button--icon,.form-wrap .modal.modal-submission .error-message__link--raised+.mdl-button--icon,.modal.modal-submission .formBuilder-header__button.formBuilder-header__button--create+.mdl-button--icon,.modal.modal-submission .formBuilder-header__button.formBuilder-header__button--save+.mdl-button--icon,.modal.modal-submission .cascade-popup .cascade-popup__buttonWrapper button+.mdl-button--icon,.cascade-popup .cascade-popup__buttonWrapper .modal.modal-submission button+.mdl-button--icon,.modal.modal-submission .mdl-button--raised+.formBuilder-header__close,.modal.modal-submission .popover-menu--new-menu .popover-menu__toggle+.formBuilder-header__close,.popover-menu--new-menu .modal.modal-submission .popover-menu__toggle+.formBuilder-header__close,.modal.modal-submission .form-wrap .error-message__link--raised+.formBuilder-header__close,.form-wrap .modal.modal-submission .error-message__link--raised+.formBuilder-header__close,.modal.modal-submission .formBuilder-header__button.formBuilder-header__button--create+.formBuilder-header__close,.modal.modal-submission .formBuilder-header__button.formBuilder-header__button--save+.formBuilder-header__close,.modal.modal-submission .cascade-popup .cascade-popup__buttonWrapper button+.formBuilder-header__close,.cascade-popup .cascade-popup__buttonWrapper .modal.modal-submission button+.formBuilder-header__close,.modal.modal-submission .mdl-button--raised+.form-view__icon-button,.modal.modal-submission .popover-menu--new-menu .popover-menu__toggle+.form-view__icon-button,.popover-menu--new-menu .modal.modal-submission .popover-menu__toggle+.form-view__icon-button,.modal.modal-submission .form-wrap .error-message__link--raised+.form-view__icon-button,.form-wrap .modal.modal-submission .error-message__link--raised+.form-view__icon-button,.modal.modal-submission .formBuilder-header__button.formBuilder-header__button--create+.form-view__icon-button,.modal.modal-submission .formBuilder-header__button.formBuilder-header__button--save+.form-view__icon-button,.modal.modal-submission .cascade-popup .cascade-popup__buttonWrapper button+.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper .modal.modal-submission button+.form-view__icon-button,.modal.modal-submission .rest-services .mdl-button--raised+.rest-services-list__header-back-button,.rest-services .modal.modal-submission .mdl-button--raised+.rest-services-list__header-back-button,.modal.modal-submission .popover-menu--new-menu .rest-services .popover-menu__toggle+.rest-services-list__header-back-button,.rest-services .modal.modal-submission .popover-menu--new-menu .popover-menu__toggle+.rest-services-list__header-back-button,.popover-menu--new-menu .modal.modal-submission .rest-services .popover-menu__toggle+.rest-services-list__header-back-button,.rest-services .popover-menu--new-menu .modal.modal-submission .popover-menu__toggle+.rest-services-list__header-back-button,.modal.modal-submission .form-wrap .rest-services .error-message__link--raised+.rest-services-list__header-back-button,.rest-services .modal.modal-submission .form-wrap .error-message__link--raised+.rest-services-list__header-back-button,.form-wrap .modal.modal-submission .rest-services .error-message__link--raised+.rest-services-list__header-back-button,.rest-services .form-wrap .modal.modal-submission .error-message__link--raised+.rest-services-list__header-back-button,.modal.modal-submission .rest-services .formBuilder-header__button.formBuilder-header__button--create+.rest-services-list__header-back-button,.rest-services .modal.modal-submission .formBuilder-header__button.formBuilder-header__button--create+.rest-services-list__header-back-button,.modal.modal-submission .rest-services .formBuilder-header__button.formBuilder-header__button--save+.rest-services-list__header-back-button,.rest-services .modal.modal-submission .formBuilder-header__button.formBuilder-header__button--save+.rest-services-list__header-back-button,.modal.modal-submission .cascade-popup .cascade-popup__buttonWrapper .rest-services button+.rest-services-list__header-back-button,.rest-services .modal.modal-submission .cascade-popup .cascade-popup__buttonWrapper button+.rest-services-list__header-back-button,.cascade-popup .cascade-popup__buttonWrapper .modal.modal-submission .rest-services button+.rest-services-list__header-back-button,.rest-services .cascade-popup .cascade-popup__buttonWrapper .modal.modal-submission button+.rest-services-list__header-back-button{margin-left:30px;overflow:visible}.modal.modal-submission .form-modal__group{display:flex;justify-content:space-between;margin-bottom:20px}.modal.modal-submission .form-modal__group .switch--label-language,.modal.modal-submission .form-modal__group .switch--validation-status{width:50%;text-align:left}.modal.modal-submission .form-modal__group .switch--label-language label,.modal.modal-submission .form-modal__group .switch--label-language .kobo-select,.modal.modal-submission .form-modal__group .switch--validation-status label,.modal.modal-submission .form-modal__group .switch--validation-status .kobo-select{display:inline-block;vertical-align:middle}.modal.modal-submission .form-modal__group .switch--label-language label,.modal.modal-submission .form-modal__group .switch--validation-status label{margin-right:12px}.modal.modal-submission .form-modal__group .switch--validation-status{width:100%;text-align:right}.modal.modal-submission .form-modal__group .switch--validation-status .kobo-select{text-align:left}.modal.modal-submission .form-modal__group .switch--label-language+.switch--validation-status{width:50%}.modal.modal-submission .form-modal__group .kobo-select input{min-width:100px}.modal.modal-submission .form-modal__group .kobo-select{min-width:120px}.modal.modal-submission .submission-pager a{display:inline-block;cursor:pointer}.modal.modal-submission .submission-pager a:first-child{padding-left:0}.modal.modal-submission .submission-pager a .k-icon,.modal.modal-submission .submission-pager a .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .modal.modal-submission .submission-pager a .ajs-close,.modal.modal-submission .submission-pager a .react-tagsinput-remove,.modal.modal-submission .submission-pager a .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .modal.modal-submission .submission-pager a i,.modal.modal-submission .submission-pager a .breadcrumbs .breadcrumbs__divider,.breadcrumbs .modal.modal-submission .submission-pager a .breadcrumbs__divider{display:inline-block;vertical-align:middle}.modal.modal-submission .submission-actions .checkbox,.modal.modal-submission .submission-duplicate__actions .checkbox{display:inline-block;vertical-align:middle;margin-right:40px}.modal.modal-submission .submission-actions .checkbox__label,.modal.modal-submission .submission-duplicate__actions .checkbox__label{white-space:nowrap}.modal.modal-submission .submission-duplicate__actions{margin:auto}.modal.modal-submission .submission-duplicate__actions a{width:120px}.modal.modal-submission .submission-duplicate__button{margin-left:12px}.modal.modal-submission .submission-duplicate__text,.modal.modal-submission .submission-duplicate__header{max-width:60%;text-align:center;margin:auto;margin-bottom:24px}.modal.modal-submission .submission-duplicate__header{margin-bottom:12px;color:#259af4}.modal.modal-submission .submission--warning{margin-bottom:30px;padding:10px;background:#f1f1f4;text-align:center;line-height:1em}.modal.modal-submission .submission--warning i{color:#e6801a;font-size:40px;margin-right:10px;vertical-align:middle;display:inline-block}.modal.modal-submission .submission--warning span{line-height:1.4em;display:inline-block;vertical-align:middle;width:calc(100% - 60px)}.modal.modal-submission .submission--warning+.submission--warning{margin-top:-30px;border-top:1px solid #e2e3e9}.enketo-holder{margin:-30px -30px}.enketo-holder .enketo-loading-message p{text-align:center;font-weight:600}.enketo-holder .enketo-loading-message i:before{color:#3da5f5;font-size:20px}.touch .enketo-holder{width:94%;left:3%;margin-left:0px;-webkit-overflow-scrolling:touch;overflow-y:scroll}.enketo-iframe-icon{color:#fff;background-image:url("/jquery-ui/themes/humanity/images/ui-icons_ffffff_256x240.png");background-color:#b8bac7;background-position:-81px -129px;position:absolute;right:6px;top:6px;border-radius:3px;z-index:1100;width:15px;height:15px;cursor:pointer}.modal .project-settings{width:100%}@media screen and (min-width: 768px){.modal .project-settings{min-width:600px}}.form-view .project-settings{margin-bottom:30px}.project-settings .intro{margin-bottom:20px;text-align:left}.project-settings .form-modal__item[disabled]{pointer-events:none}.project-settings.project-settings--narrow .form-modal__item--sector,.project-settings.project-settings--narrow .form-modal__item--country{width:100%;float:none}.project-settings.project-settings--narrow .form-modal__item--sector .kobo-select,.project-settings.project-settings--narrow .form-modal__item--country .kobo-select{margin-right:0}.project-settings .form-modal__item--form-source-buttons{margin:0 auto;max-width:500px}.project-settings .form-modal__item--form-source-buttons button{display:inline-block;vertical-align:top;border:none;background:#f1f1f4;border-radius:6px;color:#5a5e72;cursor:pointer;margin:5px;padding:10px;width:calc(50% - 10px);min-height:120px;box-shadow:0 2px 4px 0 rgba(0,0,0,0.25)}@media screen and (min-width: 768px){.project-settings .form-modal__item--form-source-buttons button{margin:10px;padding:20px;width:calc(50% - 20px)}}.project-settings .form-modal__item--form-source-buttons button i{display:block;margin:0 auto;font-size:48px;color:currentColor}.project-settings .form-modal__item--form-source-buttons button:hover{color:#2d2f39;background-color:#e2e3e9}.project-settings .form-modal__item--form-source-buttons button:active{transform:translateY(1px);box-shadow:0 1px 3px 0 rgba(0,0,0,0.25)}.project-settings .dropzone{background:#f1f1f4;padding:30px;border:2px dashed #e2e3e9;cursor:pointer;border-radius:6px;text-align:center}.project-settings .dropzone i{display:block;margin:0 auto;font-size:72px;opacity:0.5}.project-settings .dropzone .loading{font-size:inherit}.project-settings .dropzone .loading i{font-size:36px;margin-top:20px;margin-bottom:16px}.project-settings .dropzone:hover{border-color:#259af4}.project-settings .dropzone.dropzone-active{border-color:#259af4}.project-settings .dropzone.dropzone-reject{border-color:#e84a5f}@media screen and (min-height: 600px){.project-settings.project-settings--choose-template .templates-list{max-height:380px;overflow-y:auto}}.form-modal__item--http-headers .form-modal__item--http-header-row{margin-top:10px}.form-modal__item--http-headers .form-modal__item--http-header-row input{width:calc(50% - 20px);background-color:rgba(45,47,57,0.05);padding-left:5px;padding-right:5px}.form-modal__item--http-headers .form-modal__item--http-header-row input:not(:first-child){margin-left:10px}.form-modal__item--http-headers .http-header-row-remove{height:30px;min-height:30px;line-height:30px;width:30px;vertical-align:top;padding:0}.form-modal__item--http-headers .http-header-row-remove:hover{color:#e84a5f}.form-modal__item--http-headers .http-header-row-remove .k-icon,.form-modal__item--http-headers .http-header-row-remove .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-modal__item--http-headers .http-header-row-remove .ajs-close,.form-modal__item--http-headers .http-header-row-remove .react-tagsinput-remove,.form-modal__item--http-headers .http-header-row-remove .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-modal__item--http-headers .http-header-row-remove i,.form-modal__item--http-headers .http-header-row-remove .breadcrumbs .breadcrumbs__divider,.breadcrumbs .form-modal__item--http-headers .http-header-row-remove .breadcrumbs__divider{font-size:1.5em;vertical-align:middle}@media (min-width: 600px){.form-modal--translation-settings{min-width:500px}}.form-modal--translation-settings .form-view__cell--translation-note{padding-bottom:20px}.form-modal--translation-settings .form-view__cell--translation-note p{margin:0}.form-modal--translation-settings .form-view__cell--translation{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e2e3e9;padding:6px 0px}.form-modal--translation-settings .form-view__cell--translation .form-view__cell--translation-name .form-view__icon-button{opacity:0;visibility:hidden;transition:250ms}.form-modal--translation-settings .form-view__cell--translation:hover .form-view__cell--translation-name .form-view__icon-button{opacity:1;visibility:visible}.form-modal--translation-settings .form-view__cell--translation-actions{white-space:nowrap}.form-modal--translation-settings .form-view__label--default-language{display:inline;font-weight:700;margin-left:6px}.form-modal--translation-settings .form-view__cell--add-language{padding-top:20px;text-align:right;border-top:1px solid #e2e3e9}.form-modal--translation-settings .form-view__cell--add-language-form,.form-modal--translation-settings .form-view__cell--update-language-form{background:#f1f1f4;padding:15px;position:relative}.form-modal--translation-settings .form-view__cell--add-language-form .form-view__link--close,.form-modal--translation-settings .form-view__cell--update-language-form .form-view__link--close{position:absolute;right:0px;top:6px}.form-modal--translation-settings .form-view__cell--add-language-form .form-view__link--close i,.form-modal--translation-settings .form-view__cell--update-language-form .form-view__link--close i{font-size:24px}.form-modal--translation-settings .form-view__cell--add-language-form{margin-top:20px}.form-modal--translation-settings .form-view__cell--add-language-form .form-view__cell--label{padding-bottom:10px}.form-modal--translation-settings .form-view__form--add-language-fields{display:flex;justify-content:space-between}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell:not(:first-child){margin-left:10px}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-name{flex:3}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-code{flex:2}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell.form-view__cell--submit-button{padding-top:10px}.form-modal--translation-table{flex:1;height:100%;display:flex;flex-direction:column;width:100%;margin:0}.form-modal--translation-table .translation-table-container{flex:1;overflow-y:auto;border:1px solid #e2e3e9}.form-modal--translation-table .form-view__cell--add-language-form,.form-modal--translation-table .form-view__cell--update-language-form{background:#f1f1f4;padding:15px;position:relative}.form-modal--translation-table .form-view__cell--add-language-form .form-view__link--close,.form-modal--translation-table .form-view__cell--update-language-form .form-view__link--close{position:absolute;right:0px;top:6px}.form-modal--translation-table .form-view__cell--add-language-form .form-view__link--close i,.form-modal--translation-table .form-view__cell--update-language-form .form-view__link--close i{font-size:24px}.form-modal--translation-table .form-view__cell--update-language-form{max-width:70%;margin-left:auto}.form-modal--translation-table .form-view__form--add-language-fields{display:flex;justify-content:space-between}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell:not(:first-child){margin-left:10px}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-name{flex:3}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-code{flex:2}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell.form-view__cell--submit-button{padding-top:10px}.form-modal--translation-table .ReactTable{width:100%}.form-modal--translation-table .ReactTable .rt-thead.-header{box-shadow:none;border-bottom:2px solid #e2e3e9}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .rt-td,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .rt-td{white-space:normal}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-th:first-child,.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-td:first-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-th:first-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-td:first-child{min-width:30%;color:#5a5e72}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-th:last-child,.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-td:last-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-th:last-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-td:last-child{min-width:70%}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation{background:#d5f6e5;color:#5a5e72;padding:2px}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation textarea,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation textarea{display:block;padding:8px;border:none;background:transparent;width:100%;color:#2d2f39}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation textarea:focus,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation textarea:focus{background:#fff}.form-view__cell--encrypt-key{padding-bottom:12px}.encrypt-help{color:#5a5e72;background:transparent;border:0;font-size:32px;vertical-align:middle;cursor:pointer}.remove-encryption{float:right}@media screen and (max-width: 767px){.modal.modal--open{min-width:90%;max-width:90%}}@media screen and (min-width: 768px){[data-tip]{position:relative}[data-tip]::before,[data-tip]::after{pointer-events:none}[data-tip]::after{content:attr(data-tip);font-size:13px;line-height:1.35em;color:#fff;background-color:#5a5e72;padding:6px 12px;position:absolute;top:96%;left:50%;transform:translate(-50%, 0);z-index:2;opacity:0;visibility:hidden;transition:opacity 0.3s;white-space:nowrap;box-shadow:0 0 2px 0 rgba(45,47,57,0.06),0 2px 2px 0 rgba(45,47,57,0.12);border-radius:2px}[data-tip]::before{border-bottom:5px solid #5a5e72;border-left:5px solid transparent;border-right:5px solid transparent;position:absolute;top:calc(96% - 5px);content:"";width:0;height:0;left:50%;transform:translate(-50%, 0);z-index:2;opacity:0;visibility:hidden;transition:opacity 0.3s}[data-tip]:hover::after,[data-tip]:hover::before{opacity:1;visibility:visible}.k-drawer [data-tip]::after{left:95%;top:50%;transform:translate(0, -50%)}.k-drawer [data-tip]::before{left:calc(95% - 5px);top:50%;transform:translate(0, -50%);border-right:5px solid #5a5e72;border-bottom:5px solid transparent;border-top:5px solid transparent;border-left:none}.right-tooltip [data-tip]::after,.right-tooltip[data-tip]::after{left:auto;right:calc(50% - 10px);transform:translate(0)}.left-tooltip [data-tip]::after,.left-tooltip[data-tip]::after{left:calc(50% - 10px);right:auto;transform:translate(0)}.asset-row .popover-menu [data-tip]::after{left:-60%}.mdl-layout__header [data-tip]::after{left:50px}.mdl-layout__header [data-tip]::before{left:50px}}.header-stretch-bg{position:absolute;width:100%;background-color:#2d2f39;min-height:64px;z-index:0}.mdl-layout__header{background-color:#2d2f39;min-height:64px;margin-left:0px;width:100%;z-index:auto}.mdl-layout__header .mdl-layout__header-row{height:64px;padding:0px 20px}.mdl-layout__header .mdl-placeholder{margin-left:auto}.mdl-layout__header .mdl-layout-title{width:244px}.mdl-layout__header .header__logo{width:175px;height:40px;background:url('+o(r(791))+") no-repeat left bottom;background-size:contain;display:block}.mdl-layout__header .account-box{margin-left:auto;position:relative;max-width:115px}.mdl-layout__header .account-box__name{display:inline-block;vertical-align:middle;color:#fff;cursor:pointer;background-color:transparent;border:none;max-width:100%}.mdl-layout__header .mdl-layout__header-searchers{flex-grow:1}.mdl-layout__header .header__link{color:#fff;cursor:pointer}.mdl-layout__header .header__link:hover{opacity:0.8}.mdl-layout__header .search{vertical-align:middle;margin:0px 6px;display:inline-block;width:60%;position:relative}.mdl-layout__header .search ::-webkit-input-placeholder{color:#fff}.mdl-layout__header .search :-ms-input-placeholder{color:#fff}.mdl-layout__header .search .k-search__input{color:#fff;border:none;border-radius:0px;padding:10px 12px;padding-left:42px;background-color:rgba(255,255,255,0.1);font-size:16px;position:relative;width:99%}.mdl-layout__header .search .search__icon,.mdl-layout__header .search .search__cancel{position:absolute;top:11px;color:#fff}.mdl-layout__header .search .search__icon::before,.mdl-layout__header .search .search__cancel::before{font-size:18px}.mdl-layout__header .search .search__icon{left:12px}.mdl-layout__header .search .search__cancel{right:12px}.popover-menu--account-menu .popover-menu__content{min-width:240px;z-index:1101}.account-box__menu{min-width:270px;max-height:80vh;overflow-y:auto}.account-box__menu .account-box__menu-item--avatar{display:inline-block;margin-right:15px;vertical-align:top}.account-box__menu .account-box__menu-item--mini-profile{color:#5a5e72;display:inline-block;width:calc(100% - 70px);line-height:20px;margin-top:5px;margin-bottom:12px}.account-box__menu .account-box__menu-item--mini-profile span{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%}.account-box__menu .account-box__menu-item--mini-profile .account-username{font-size:18px}.account-box__menu .account-box__menu-item--settings{text-align:right}.account-box__menu .account-box__menu-li{padding:15px;padding-bottom:15px}.account-box__menu .account-box__menu-li a{color:#5a5e72;cursor:pointer;font-weight:normal;display:block}.account-box__menu .account-box__menu-li a i{font-size:32px;vertical-align:middle}.account-box__menu .account-box__menu-li a span{vertical-align:middle}.account-box__menu .account-box__menu-li a:hover{color:#259af4}.account-box__menu .account-box__menu-li.environment-links{text-align:right}.account-box__menu .account-box__menu-li.environment-links a{display:inline-block;margin-left:15px;font-size:12px}.account-box__menu .account-box__menu-li--lang{position:relative;border-top:1px solid #e2e3e9;padding-bottom:5px}.account-box__menu .account-box__menu-li--lang ul{background-color:#fff;color:#5a5e72;min-width:140px;padding:0;border:1px solid #e2e3e9}.account-box__menu .account-box__menu-li--lang ul li{text-transform:capitalize;padding:0}.account-box__menu .account-box__menu-li--lang ul li:not(:last-child){border-bottom:1px solid #e2e3e9}.account-box__menu .account-box__menu-li--lang ul li a{padding:10px 15px}.account-box__menu .account-box__menu-li--logout{padding-top:5px}.mdl-layout__header .mdl-button--icon,.mdl-layout__header .formBuilder-header__close,.mdl-layout__header .form-view__icon-button,.mdl-layout__header .rest-services .rest-services-list__header-back-button,.rest-services .mdl-layout__header .rest-services-list__header-back-button{display:none}@media screen and (max-width: 999px){.mdl-layout__header .mdl-button--icon,.mdl-layout__header .formBuilder-header__close,.mdl-layout__header .form-view__icon-button,.mdl-layout__header .rest-services .rest-services-list__header-back-button,.rest-services .mdl-layout__header .rest-services-list__header-back-button{display:block;margin-right:8px;padding:0px;color:#fff}.mdl-layout__header .mdl-button--icon i,.mdl-layout__header .formBuilder-header__close i,.mdl-layout__header .form-view__icon-button i,.mdl-layout__header .rest-services .rest-services-list__header-back-button i,.rest-services .mdl-layout__header .rest-services-list__header-back-button i{line-height:1.5em;display:inline-block;font-size:24px}.mdl-layout__header .account-box__logo{max-width:85%}.mdl-layout__header .mdl-layout-title{width:160px}.mdl-layout__header .mdl-layout__header-row{padding:0px 12px}.mdl-layout__header .form-title{width:calc(100% - 240px);overflow:hidden;margin-right:10px}}@media screen and (max-width: 767px){.mdl-layout__header .search{display:none}}.main-header .main-header__icon{font-size:38px;color:#b8bac7;vertical-align:middle;width:38px}.main-header .main-header__title{vertical-align:middle;margin-right:20px;flex:1;align-items:center;color:#fff;font-size:18px}.main-header .main-header__title.main-header__title--long input{font-size:14px}.main-header .main-header__title input{background:transparent;border-left:none;border-right:none;border-bottom:1px solid transparent;border-top:1px solid transparent;color:#fff;font-size:18px;margin:0;overflow:hidden;padding:3px 6px;text-overflow:ellipsis;white-space:nowrap;width:100%}.main-header .main-header__title input::-webkit-input-placeholder{color:#5a5e72}.main-header .main-header__title input:-ms-input-placeholder{color:#5a5e72}.main-header .main-header__title input:hover{border-bottom:1px solid #259af4}.main-header .main-header__title input:focus{background:rgba(255,255,255,0.05);border-bottom:1px solid #259af4}.main-header .main-header__counter{font-size:14px;margin-right:20px;color:#b8bac7}@media screen and (max-width: 767px){.main-header .main-header__icon,.main-header .main-header__counter{display:none}.mdl-layout__header .mdl-layout-title{width:40px}.mdl-layout__header .main-header__title input{border-radius:0}.mdl-layout__header .header__logo{background:url("+o(r(792))+') no-repeat left center;background-size:125%;width:40px}}.account-box__initials{width:32px;text-align:center;text-transform:uppercase;padding:6px;border-radius:32px;display:inline-block;vertical-align:middle;font-size:16px;color:#fff}.account-box__menu-item--avatar .account-box__initials{width:48px;padding:10px;border-radius:48px;font-size:24px}.git-rev{display:none}@media screen and (min-width: 768px){.git-rev{display:block;position:fixed;bottom:0px;left:80px;z-index:100}.git-rev .git-rev__item{color:#fff;opacity:0.85;background:#1b8d98;margin-top:5px;padding:6px 12px;display:block;font-size:12px}}@media screen and (pointer: coarse){.account-box__menu .account-box__menu-li--lang ul{opacity:1;position:static;border:1px solid #e2e3e9;margin-left:12px;padding:0px;max-height:1000px;box-shadow:none}.account-box__menu .account-box__menu-li--lang ul li{padding:6px 18px}}.k-drawer{height:calc(100% - 64px);top:64px;width:270px;position:absolute;left:0;display:flex;flex-direction:row;border-right:2px solid #e2e3e9}.mdl-layout__content{margin-left:270px}.k-drawer__primary-icons{display:flex;flex-direction:column;width:58px;height:100%;background-color:#f1f1f4}.k-drawer__link{font-size:42px;text-align:center;color:#5a5e72;padding:0;border-left:3px solid transparent}.k-drawer__link:first-child{margin-top:20px}.k-drawer__link:hover{color:#22b6c3}.k-drawer__link.active{color:#22b6c3;border-left:3px solid #22b6c3}.k-drawer__secondary-icons{left:0;bottom:0;position:absolute;width:58px}.k-drawer__secondary-icons .k-drawer__link{padding:0;margin-bottom:5px;display:block;text-align:center;font-weight:normal;position:relative;color:#5a5e72}.k-drawer__secondary-icons .k-drawer__link:hover{color:#22b6c3}.k-drawer__secondary-icons .k-drawer__link i{font-size:38px}.k-drawer__sidebar{width:calc(100% - 58px);height:100%;padding:20px 14px;display:flex;flex-direction:column}.k-drawer__sidebar button.mdl-button,.k-drawer__sidebar .popover-menu--new-menu button.popover-menu__toggle,.popover-menu--new-menu .k-drawer__sidebar button.popover-menu__toggle,.k-drawer__sidebar .popover-menu--question-language button.popover-menu__toggle,.popover-menu--question-language .k-drawer__sidebar button.popover-menu__toggle,.k-drawer__sidebar .popover-menu--custom-reports button.popover-menu__toggle,.popover-menu--custom-reports .k-drawer__sidebar button.popover-menu__toggle,.k-drawer__sidebar .form-wrap button.error-message__link,.form-wrap .k-drawer__sidebar button.error-message__link,.k-drawer__sidebar button.formBuilder-header__close,.k-drawer__sidebar button.formBuilder-header__button,.k-drawer__sidebar .cascade-popup .cascade-popup__buttonWrapper button,.cascade-popup .cascade-popup__buttonWrapper .k-drawer__sidebar button,.k-drawer__sidebar button.form-view__icon-button,.k-drawer__sidebar .form-view--table .ReactTable .-pagination button.-btn,.form-view--table .ReactTable .-pagination .k-drawer__sidebar button.-btn,.k-drawer__sidebar .rest-services button.rest-services-list__header-back-button,.rest-services .k-drawer__sidebar button.rest-services-list__header-back-button{width:100%}@media screen and (max-width: 999px){.k-drawer{position:fixed;z-index:1050;left:-274px;transition:left 0.5s;background-color:#fff;box-shadow:0 0 8px 0 rgba(45,47,57,0.06),0 8px 8px 0 rgba(45,47,57,0.12);border-radius:2px}.page-wrapper--fixed-drawer .k-drawer{left:0;width:340px}.mdl-layout__content{margin-left:0}}.form-sidebar{margin-top:10px;overflow-y:auto;overflow-x:hidden;flex:1;color:#5a5e72}.form-sidebar.form-sidebar--loading{pointer-events:none;opacity:0.5}.form-sidebar.form-sidebar--loading .form-sidebar__label-count{color:transparent}.form-sidebar.form-sidebar--loading .form-sidebar__label.form-sidebar__label--selected{color:inherit}.form-sidebar .form-sidebar__label,.form-sidebar .form-sidebar__item{cursor:pointer}.form-sidebar .form-sidebar__label{display:flex;flex-direction:row;align-items:center;padding:3px 0;position:relative;color:inherit}.form-sidebar .form-sidebar__label:hover{color:#2d2f39}.form-sidebar .form-sidebar__label.form-sidebar__label--selected{color:#2d2f39}.form-sidebar .form-sidebar__label i{font-size:36px;margin-right:-1px;margin-left:-4px;display:inline-block}.form-sidebar .form-sidebar__label .form-sidebar__label-text{flex:1}.form-sidebar .form-sidebar__label .form-sidebar__label-count{padding:0 6px;font-size:12px;line-height:20px;min-width:20px;border-radius:20px;background-color:#e2e3e9;text-align:center;margin-right:4px}.form-sidebar .form-sidebar__grouping{margin-bottom:10px}.form-sidebar .form-sidebar__grouping.form-sidebar__grouping--collapsed{margin:0;height:0;overflow:hidden}.form-sidebar .form-sidebar__item{display:flex;flex-direction:row;align-items:flex-start;line-height:15px;color:#5a5e72;font-weight:normal;font-size:12px;padding:5px}.form-sidebar .form-sidebar__item:hover{color:#2d2f39}.form-sidebar .form-sidebar__item.form-sidebar__item--active{background:#ededee}.form-sidebar .form-sidebar__item i{font-size:32px;margin:-5px -1px -5px 0}.form-sidebar .form-sidebar__item i+.form-sidebar__item-text{margin-top:5px}.help-bubble{position:relative}@media screen and (max-height: 499px){.help-bubble--list-with-header .help-bubble__popup,.help-bubble--single-message .help-bubble__popup{height:200px}.help-bubble--list-with-header .help-bubble__popup.help-bubble__popup--has-more-content,.help-bubble--single-message .help-bubble__popup.help-bubble__popup--has-more-content{height:300px}}@media screen and (min-height: 500px){.help-bubble--list-with-header .help-bubble__popup,.help-bubble--single-message .help-bubble__popup{min-height:200px}.help-bubble--list-with-header .help-bubble__popup.help-bubble__popup--has-more-content,.help-bubble--single-message .help-bubble__popup.help-bubble__popup--has-more-content{min-height:300px}}.help-bubble--list-with-header .help-bubble__row.help-bubble__row--link{padding-left:60px}.help-bubble--list-with-header .help-bubble__row.help-bubble__row--link .k-icon,.help-bubble--list-with-header .help-bubble__row.help-bubble__row--link .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .help-bubble--list-with-header .help-bubble__row.help-bubble__row--link .ajs-close,.help-bubble--list-with-header .help-bubble__row.help-bubble__row--link .react-tagsinput-remove,.help-bubble--list-with-header .help-bubble__row.help-bubble__row--link .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .help-bubble--list-with-header .help-bubble__row.help-bubble__row--link i,.help-bubble--list-with-header .help-bubble__row.help-bubble__row--link .breadcrumbs .breadcrumbs__divider,.breadcrumbs .help-bubble--list-with-header .help-bubble__row.help-bubble__row--link .breadcrumbs__divider{position:absolute;top:10px;left:10px;font-size:40px;color:#5a5e72}.help-bubble--list-with-header .help-bubble__back,.help-bubble--list-with-header .help-bubble__close{background-color:rgba(90,94,114,0.5);color:#fff}.help-bubble__trigger{cursor:pointer;text-align:center;background:transparent;border:0;padding:0;margin-bottom:5px;width:100%;display:block;font-weight:normal;color:#5a5e72;border-left:3px solid transparent}.help-bubble--open .help-bubble__trigger{color:#22b6c3}.help-bubble__trigger:hover{color:#22b6c3}.help-bubble__trigger:hover .help-bubble__trigger-counter{background-color:#22b6c3}.help-bubble__trigger .k-icon,.help-bubble__trigger .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .help-bubble__trigger .ajs-close,.help-bubble__trigger .react-tagsinput-remove,.help-bubble__trigger .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .help-bubble__trigger i,.help-bubble__trigger .breadcrumbs .breadcrumbs__divider,.breadcrumbs .help-bubble__trigger .breadcrumbs__divider{font-size:38px;display:block}.help-bubble__trigger-counter{position:absolute;left:50%;color:#fff;border-style:solid;border-color:#f1f1f4;top:2px;border-width:0 0 2px 2px;background:#e84a5f;border-radius:50%;font-size:10px;line-height:1.3;width:1.6em;height:1.6em}.help-bubble--intercom .help-bubble__popup{bottom:134px;max-height:calc(90vh - 172px)}.help-bubble--support .help-bubble__popup{bottom:91px;max-height:calc(90vh - 129px)}.help-bubble__popup{box-shadow:0 0 8px 0 rgba(45,47,57,0.06),0 8px 8px 0 rgba(45,47,57,0.12);border-radius:2px;display:flex;flex-direction:row;position:fixed;z-index:801;left:57px;background:#fff;width:360px;max-width:calc(100vw - 58px);overflow:hidden}@media screen and (min-width: 1440px){.help-bubble__popup{left:calc(50% - 720px + 57px)}}.help-bubble__popup-content{width:100%;overflow-y:auto;overflow-x:hidden}.help-bubble__back,.help-bubble__close{cursor:pointer;position:absolute;z-index:1;top:4px;border:0;border-radius:50%;padding:5px;background-color:rgba(255,255,255,0.5);color:#5a5e72;line-height:1;font-size:1.5rem}.help-bubble__back .k-icon,.help-bubble__back .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .help-bubble__back .ajs-close,.help-bubble__back .react-tagsinput-remove,.help-bubble__back .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .help-bubble__back i,.help-bubble__back .breadcrumbs .breadcrumbs__divider,.breadcrumbs .help-bubble__back .breadcrumbs__divider,.help-bubble__close .k-icon,.help-bubble__close .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .help-bubble__close .ajs-close,.help-bubble__close .react-tagsinput-remove,.help-bubble__close .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .help-bubble__close i,.help-bubble__close .breadcrumbs .breadcrumbs__divider,.breadcrumbs .help-bubble__close .breadcrumbs__divider{display:block}.help-bubble__back:hover,.help-bubble__close:hover{opacity:0.8}.help-bubble__back:active,.help-bubble__close:active{opacity:0.6}.help-bubble__back{left:5px}.help-bubble__close{right:5px}.help-bubble__row,.help-bubble__row-wrapper{position:relative;display:block}.help-bubble__row+.help-bubble__row,.help-bubble__row-wrapper+.help-bubble__row,.help-bubble__row+.help-bubble__row-wrapper,.help-bubble__row-wrapper+.help-bubble__row-wrapper{border-top:1px solid #e2e3e9}.help-bubble__row{padding:10px 20px}.help-bubble__row header{margin:0;font-weight:bold}.help-bubble__row p{margin:0.5em 0 0.25em;line-height:1.33}.help-bubble__row img{max-width:100%}.help-bubble__row.help-bubble__row--message-title{margin-top:40px;border-top:1px solid #e2e3e9}.help-bubble__row.help-bubble__row--header{background-color:#5a5e72;color:#fff;font-size:1.25rem}.help-bubble__row.help-bubble__row--link,.help-bubble__row.help-bubble__row--message-clickable{cursor:pointer;color:#5a5e72}.help-bubble__row.help-bubble__row--link:hover,.help-bubble__row.help-bubble__row--message-clickable:hover{color:#259af4}.help-bubble__row.help-bubble__row--link:hover .k-icon,.help-bubble__row.help-bubble__row--link:hover .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .help-bubble__row.help-bubble__row--link:hover .ajs-close,.help-bubble__row.help-bubble__row--link:hover .react-tagsinput-remove,.help-bubble__row.help-bubble__row--link:hover .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .help-bubble__row.help-bubble__row--link:hover i,.help-bubble__row.help-bubble__row--link:hover .breadcrumbs .breadcrumbs__divider,.breadcrumbs .help-bubble__row.help-bubble__row--link:hover .breadcrumbs__divider,.help-bubble__row.help-bubble__row--message-clickable:hover .k-icon,.help-bubble__row.help-bubble__row--message-clickable:hover .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .help-bubble__row.help-bubble__row--message-clickable:hover .ajs-close,.help-bubble__row.help-bubble__row--message-clickable:hover .react-tagsinput-remove,.help-bubble__row.help-bubble__row--message-clickable:hover .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .help-bubble__row.help-bubble__row--message-clickable:hover i,.help-bubble__row.help-bubble__row--message-clickable:hover .breadcrumbs .breadcrumbs__divider,.breadcrumbs .help-bubble__row.help-bubble__row--message-clickable:hover .breadcrumbs__divider{color:inherit}.help-bubble__row.help-bubble__row--link:active,.help-bubble__row.help-bubble__row--message-clickable:active{color:#22b6c3}.help-bubble__row.help-bubble__row--message-clickable.help-bubble__row--message-unread{border-left:5px solid #e84a5f;padding-left:15px}.help-bubble__row.help-bubble__row--message-clickable.help-bubble__row--message-unread:hover{border-left-color:#259af4}.help-bubble__row.help-bubble__row--message-clickable.help-bubble__row--message-unread:active{border-left-color:#22b6c3}.select2-search input{font-family:"Roboto","Helvetica","Arial",sans-serif;border-radius:0px}.select2-container-multi .select2-choices .select2-search-field input{font-family:"Roboto","Helvetica","Arial",sans-serif}.select2-container-multi .select2-choices .select2-search-choice{background-color:#3da5f5;background-image:none;border:none;border-radius:2px;box-shadow:none;color:#fff;cursor:default;line-height:13px;font-size:12px;padding:3px 5px 3px 18px}.select2-container-multi .select2-choices .select2-search-choice-focus{background:#3da5f5}.select2-search-choice-close{background:none !important;font-family:\'FontAwesome\';display:block;font-size:12px;height:12px;color:#fff;width:12px}.select2-search-choice-close:before{content:"\\F00D";opacity:0.6}.question__tags{margin-top:-10px !important;padding-top:6px}.question__tags div.tagsinput{border:none;max-width:695px}div.tagsinput span.tag{background:#3da5f5;border:none;color:#fff;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:12px;margin:0px 4px;padding:0px 6px;padding-left:20px;text-decoration:none;border-radius:2px;font-weight:normal;position:relative}div.tagsinput input{border:none;color:#2d2f39;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:12px;margin:0 5px;padding:5px;min-width:80px}div.tagsinput span.tag a{color:#3da5f5;font-size:1px;font-weight:normal;text-decoration:none;position:absolute;left:5px}div.tagsinput span.tag a:before{content:"\\F00D";opacity:0.6;font-family:\'FontAwesome\';font-size:12px;color:#fff}ul.ui-autocomplete.ui-widget-content.ui-widget{max-width:680px !important;border:1px solid #e2e3e9}ul.ui-autocomplete.ui-widget-content.ui-widget li{padding:5px;background:#fff;font-size:12px}ul.ui-autocomplete.ui-widget-content.ui-widget li:hover{background:#259af4}ul.ui-autocomplete.ui-widget-content.ui-widget li:hover a{color:#fff !important;border:none !important;background:none !important;font-weight:normal !important}ul.ui-autocomplete.ui-widget-content.ui-widget li a{font-weight:normal;color:#2d2f39}*{box-sizing:border-box}html{height:100%;color:#2d2f39}body{height:100%;background:#fff;padding:0;margin:0}html,body,input,textarea,select,button{font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:14px;font-weight:400;line-height:20px}a{color:#259af4;text-decoration:none}p{margin-bottom:16px}h3,h4,h5,h6{font-weight:400}ul{margin-top:0;margin-bottom:0;padding-left:0;list-style:none}hr{display:block;height:1px;border:0;border-top:1px solid #b8bac7;margin:1em 0;padding:0}audio,canvas,img,video{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}:focus{outline:none}i{outline:none !important}.header-bar__top-level-menu-button{display:inline-block;vertical-align:top}.header-bar__top-level-menu-button>.fa,.message--loading.header-bar__top-level-menu-button>i:first-child,.loading .header-bar__top-level-menu-button>i:first-child,.mdl-layout__header .search .header-bar__top-level-menu-button>.search__icon,.mdl-layout__header .search .header-bar__top-level-menu-button>.search__cancel,.header-bar__top-level-menu-button>.right-and-down-caret,.formBuilder-header__button.header-bar__top-level-menu-button>i{padding:12px 11px;cursor:pointer;color:rgba(29,174,227,0.8)}.header-bar__top-level-menu-button:hover>.fa,.message--loading.header-bar__top-level-menu-button:hover>i:first-child,.loading .header-bar__top-level-menu-button:hover>i:first-child,.mdl-layout__header .search .header-bar__top-level-menu-button:hover>.search__icon,.mdl-layout__header .search .header-bar__top-level-menu-button:hover>.search__cancel,.header-bar__top-level-menu-button:hover>.right-and-down-caret,.formBuilder-header__button.header-bar__top-level-menu-button:hover>i,.header-bar__top-level-menu-button:focus>.fa,.message--loading.header-bar__top-level-menu-button:focus>i:first-child,.loading .header-bar__top-level-menu-button:focus>i:first-child,.mdl-layout__header .search .header-bar__top-level-menu-button:focus>.search__icon,.mdl-layout__header .search .header-bar__top-level-menu-button:focus>.search__cancel,.header-bar__top-level-menu-button:focus>.right-and-down-caret,.formBuilder-header__button.header-bar__top-level-menu-button:focus>i{color:#259af4}.fa.green,.message--loading>i.green:first-child,.loading i.green:first-child,.mdl-layout__header .search .green.search__icon,.mdl-layout__header .search .green.search__cancel,.green.right-and-down-caret,.formBuilder-header__button>i.green{color:#28bd70}.fa.invert,.message--loading>i.invert:first-child,.loading i.invert:first-child,.mdl-layout__header .search .invert.search__icon,.mdl-layout__header .search .invert.search__cancel,.invert.right-and-down-caret,.formBuilder-header__button>i.invert{background-color:#2d2f39;color:#fff;border-radius:4px}.fa.fa-lato-text::before,.message--loading>i.fa-lato-text:first-child::before,.loading i.fa-lato-text:first-child::before,.mdl-layout__header .search .fa-lato-text.search__icon::before,.mdl-layout__header .search .fa-lato-text.search__cancel::before,.fa-lato-text.right-and-down-caret::before,.formBuilder-header__button>i.fa-lato-text::before,.fa.fa-lato-integer::before,.message--loading>i.fa-lato-integer:first-child::before,.loading i.fa-lato-integer:first-child::before,.mdl-layout__header .search .fa-lato-integer.search__icon::before,.mdl-layout__header .search .fa-lato-integer.search__cancel::before,.fa-lato-integer.right-and-down-caret::before,.formBuilder-header__button>i.fa-lato-integer::before,.fa.fa-lato-decimal::before,.message--loading>i.fa-lato-decimal:first-child::before,.loading i.fa-lato-decimal:first-child::before,.mdl-layout__header .search .fa-lato-decimal.search__icon::before,.mdl-layout__header .search .fa-lato-decimal.search__cancel::before,.fa-lato-decimal.right-and-down-caret::before,.formBuilder-header__button>i.fa-lato-decimal::before,.fa.fa-lato-range::before,.message--loading>i.fa-lato-range:first-child::before,.loading i.fa-lato-range:first-child::before,.mdl-layout__header .search .fa-lato-range.search__icon::before,.mdl-layout__header .search .fa-lato-range.search__cancel::before,.fa-lato-range.right-and-down-caret::before,.formBuilder-header__button>i.fa-lato-range::before,.fa.fa-lato-calculate::before,.message--loading>i.fa-lato-calculate:first-child::before,.loading i.fa-lato-calculate:first-child::before,.mdl-layout__header .search .fa-lato-calculate.search__icon::before,.mdl-layout__header .search .fa-lato-calculate.search__cancel::before,.fa-lato-calculate.right-and-down-caret::before,.formBuilder-header__button>i.fa-lato-calculate::before{font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:600;letter-spacing:-0.02em}.fa.fa-lato-text::before,.message--loading>i.fa-lato-text:first-child::before,.loading i.fa-lato-text:first-child::before,.mdl-layout__header .search .fa-lato-text.search__icon::before,.mdl-layout__header .search .fa-lato-text.search__cancel::before,.fa-lato-text.right-and-down-caret::before,.formBuilder-header__button>i.fa-lato-text::before{content:"abc"}.fa.fa-lato-integer::before,.message--loading>i.fa-lato-integer:first-child::before,.loading i.fa-lato-integer:first-child::before,.mdl-layout__header .search .fa-lato-integer.search__icon::before,.mdl-layout__header .search .fa-lato-integer.search__cancel::before,.fa-lato-integer.right-and-down-caret::before,.formBuilder-header__button>i.fa-lato-integer::before{content:"123";font-size:0.9em}.fa.fa-lato-decimal::before,.message--loading>i.fa-lato-decimal:first-child::before,.loading i.fa-lato-decimal:first-child::before,.mdl-layout__header .search .fa-lato-decimal.search__icon::before,.mdl-layout__header .search .fa-lato-decimal.search__cancel::before,.fa-lato-decimal.right-and-down-caret::before,.formBuilder-header__button>i.fa-lato-decimal::before{content:"1.0";font-size:0.9em}.fa.fa-lato-range::before,.message--loading>i.fa-lato-range:first-child::before,.loading i.fa-lato-range:first-child::before,.mdl-layout__header .search .fa-lato-range.search__icon::before,.mdl-layout__header .search .fa-lato-range.search__cancel::before,.fa-lato-range.right-and-down-caret::before,.formBuilder-header__button>i.fa-lato-range::before{content:"1..1";font-size:0.9em}.fa.fa-lato-calculate::before,.message--loading>i.fa-lato-calculate:first-child::before,.loading i.fa-lato-calculate:first-child::before,.mdl-layout__header .search .fa-lato-calculate.search__icon::before,.mdl-layout__header .search .fa-lato-calculate.search__cancel::before,.fa-lato-calculate.right-and-down-caret::before,.formBuilder-header__button>i.fa-lato-calculate::before{content:"1+1";font-size:0.9em}.fa.clock-over,.message--loading>i.clock-over:first-child,.loading i.clock-over:first-child,.mdl-layout__header .search .clock-over.search__icon,.mdl-layout__header .search .clock-over.search__cancel,.clock-over.right-and-down-caret,.formBuilder-header__button>i.clock-over{position:relative}.fa.clock-over::after,.message--loading>i.clock-over:first-child::after,.loading i.clock-over:first-child::after,.mdl-layout__header .search .clock-over.search__icon::after,.mdl-layout__header .search .clock-over.search__cancel::after,.clock-over.right-and-down-caret::after,.formBuilder-header__button>i.clock-over::after{content:"\\F017";position:absolute;margin-left:-1.25em;margin-top:-0.375em;background-color:#fff;border-radius:6px}.fa.clock-over::before,.message--loading>i.clock-over:first-child::before,.loading i.clock-over:first-child::before,.mdl-layout__header .search .clock-over.search__icon::before,.mdl-layout__header .search .clock-over.search__cancel::before,.clock-over.right-and-down-caret::before,.formBuilder-header__button>i.clock-over::before{margin-left:5px}.fa-folder-o .fa-plus{color:#28bd70;position:absolute;left:10px;top:7px;font-size:0.7em;font-weight:normal}.btn{box-shadow:none;margin-bottom:0;display:inline-block;font-weight:normal;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;border-radius:4px;color:#fff;background-color:#259af4;height:30px;line-height:30px;padding:0 20px;font-weight:400;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;position:relative}.btn:hover{background-color:#3da5f5;text-decoration:none}.btn:active,.btn .is-active{outline:0;background-image:none;box-shadow:none}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{pointer-events:none;cursor:not-allowed;opacity:0.65}.btn--small{height:20px;padding-right:5px;padding-left:5px;font-size:12px;line-height:20px;border-radius:3px}.btn--block{display:block;width:100%}.btn--block+.btn--block{margin-top:5px}input[type="submit"].btn--block,input[type="reset"].btn--block,input[type="button"].btn--block{width:100%}.btn--disabled{cursor:default;color:#e2e3e9;font-weight:normal}.or{width:30px;height:30px;margin:-36px auto 0;border-bottom:1px solid;border-radius:5em;position:relative;top:65px;display:block;font-weight:bold;font-size:14px;line-height:30px;text-align:center;text-transform:uppercase;color:#fff;background-color:#5a5e72}.or+hr{margin-top:50px;margin-bottom:40px}.editable{cursor:pointer}.select2-container .select2-choice{background-color:transparent;background-image:none;border:none;border-radius:0px;box-shadow:none;border-bottom:2px dotted #5a5e72;color:#2d2f39;display:block;height:30px;line-height:30px;padding:0px 6px;font-size:13px;position:relative;text-decoration:none;white-space:nowrap;cursor:pointer}.select2-container .select2-choice:hover{color:#3da5f5}.select2-container .select2-choice>.select2-chosen{margin-right:0px}.select2-container .select2-choice .select2-arrow{display:none}.select2-dropdown-open.select2-drop-above .select2-choice,.select2-dropdown-open.select2-drop-above .select2-choices{background:none;border:none}.select2-drop-active{border:1px solid #e2e3e9;background:#fff;font-size:13px;box-shadow:none;border-radius:0px;margin-top:6px;min-width:140px !important}.select2-drop-active:before{content:\'\';position:absolute;left:25px;top:-6px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #e2e3e9}.select2-drop-active.select2-drop-above:before{display:none}.select2-drop-active .select2-results .select2-no-results{background:#fff}.select2-drop.select2-drop-above.select2-drop-active{border-top-color:#e2e3e9}.select2-results .select2-result-label{min-height:1.2em;padding:3px 7px 6px;line-height:1.1em}.content__message-loading{text-align:center;padding:10px 0px}.content__message-loading i{color:#259af4}.main{transition:padding-left 150ms;height:100%}.main>section.content{height:100%;padding-top:40px}.container,.survey-warnings{margin-right:auto;margin-left:auto;position:relative}.container.empty,.empty.survey-warnings{text-align:center;background:#fff;padding:20px}.container__wide{max-width:1024px;margin:0 auto;position:absolute;top:0;left:0;width:100%}.container__fixed{position:absolute;top:0;left:0;width:100%;z-index:4;height:10px;top:80px;width:100%}.content--centered{text-align:center}.registration__bg{background:url('+o(r(793))+');background-size:cover;background-repeat:none;width:100%;min-height:100%;position:relative;color:#fff;padding:20px;padding-bottom:5px}.registration__bg form.language-switcher{margin:0 auto;position:relative;max-width:400px;text-align:right;margin-bottom:10px;margin-top:-5px}.registration__bg form.registration{margin:0 auto;position:relative;max-width:400px;background:rgba(45,47,57,0.75);padding:20px 30px}.registration__bg form.registration a{color:#86c7f9}.registration__bg form.registration a:hover{color:#259af4}.registration__bg form.registration a.registration__forgot{float:right;margin-top:-12px;margin-bottom:12px}.registration__bg .registration--logo{margin-left:10%;margin-right:10%;text-align:center;margin-bottom:15px;max-width:100%}.registration__bg .registration--logo img{max-width:170px;height:auto}.registration__bg h1{font-weight:400;font-size:1.8em;line-height:1.2em;margin:0.8em 0}.registration__bg input[type=text],.registration__bg input[type=password],.registration__bg input[type=email],.registration__bg select{color:#2d2f39}.registration__bg p.help{clear:both;opacity:0.7;font-size:12px;line-height:1.2em;margin-bottom:0px}.registration__row{margin-top:0;margin-bottom:16px}.registration input[type=text],.registration input[type=password],.registration input[type=submit],.registration input[type=email],.registration select{width:100%;display:block;padding:5px 8px;border:none;border-radius:0px;font-size:14px;border-bottom:3px solid transparent;padding-bottom:3px;margin-top:1px;opacity:0.9}.registration input[type=text]:focus,.registration input[type=password]:focus,.registration input[type=submit]:focus,.registration input[type=email]:focus,.registration select:focus{border-bottom-color:#259af4;opacity:1}.registration input[type=text].registration__action,.registration input[type=password].registration__action,.registration input[type=submit].registration__action,.registration input[type=email].registration__action,.registration select.registration__action{font-size:16px;padding:10px;color:#fff;text-align:center;font-weight:600;background-color:#28bd70;border-bottom:2px solid #1f9357;text-shadow:-1px -1px #1f9357;clear:both}.registration input[type=text].registration__action:hover,.registration input[type=password].registration__action:hover,.registration input[type=submit].registration__action:hover,.registration input[type=email].registration__action:hover,.registration select.registration__action:hover{background-color:#3da5f5;border-bottom-color:#0b81da;text-shadow:-1px -1px #0b81da}.registration select{margin-top:4px;border-bottom:none}.registration label{opacity:0.85}.registration span.required{color:#e84a5f;margin-left:3px}.registration .district,.registration .name,.registration .username,.registration .email{width:48%;float:left;margin-top:0px}.registration .country,.registration .organization,.registration .username,.registration .province,.registration .municipality{width:52%;float:left;padding-left:4%;margin-top:0px}.registration .password1{margin-top:10px;padding-top:10px;border-top:1px solid rgba(255,255,255,0.1)}.registration .passwordreset__cancel{color:#fff;width:45%;float:left;display:block;text-align:center;height:40px;line-height:40px;font-weight:600;font-size:12px}.registration .gender{clear:both;margin-bottom:5px}.registration .gender>ul{margin:0;padding:0;margin-bottom:5px;padding-top:4px}.registration .gender>ul li{display:inline-block;margin-right:16px}.registration .gender>ul li input{margin-right:4px}.registration ul.errorlist{padding:0px;color:#e84a5f;margin:8px 0px}.registration--register .registration--logo{text-align:left;margin:0;margin-left:-5px}.registration--register h1{margin-top:0em}.registration--register div.field{margin-bottom:12px}.registration--register input[type=submit]{margin-top:20px}.registration .registration__kc-domain+input{display:inline-block}.registration .registration__kc-domain{font-size:13px;letter-spacing:-0.04em;display:inline-block}.registration__orlogin{padding-top:10px;text-align:center}.registration__footer{clear:both;text-align:center;margin:20px 10px 10px 10px}.registration__footer a{color:#fff}.registration__footer .registration__legal a{margin:0px 8px}.error-message{font-size:14px;color:#e84a5f;background-color:rgba(232,74,95,0.075)}.registration__credit{position:absolute;bottom:5px;right:5px;font-size:11px}.registration__credit a{opacity:0.8;color:#fff}.registration__message{font-size:16px;text-align:center}@media screen and (min-width: 768px){.registration__bg form.registration{padding:30px 40px;margin-top:10px}.registration__bg form.registration--login{margin-top:40px}.registration__bg form.registration--register,.registration__bg form.registration--complete,.registration__bg form.language-switcher{width:80%;max-width:860px}.registration__bg form.registration--register{padding:30px}.registration__bg form.registration--register .registration--logo{width:48%;float:right}.registration__bg form.registration--register .registration--logo>*{padding-left:60px}.registration__bg .registration__first-half{width:52%;float:left}.registration__bg .registration__second-half{width:48%;float:right}.registration__bg .registration__second-half>*{padding-left:60px}.registration__bg .registration__second-half p{font-size:15px;line-height:1.3em}.registration__bg .registration--logo img{max-height:100px}.registration .registration__kc-domain{font-size:14px;letter-spacing:0em}}@media screen and (max-width: 767px){.registration__bg form.registration--register{display:flex;flex-direction:column}.registration__bg form.registration--register h1{text-align:center;margin-top:0.5em}.registration__bg form.registration--register .registration--logo{display:block;text-align:center;order:1}.registration__bg form.registration--register .registration__first-half{order:3}.registration__bg form.registration--register .registration__second-half{order:2}}.params-view__simple-wrapper{border:1px solid #b8bac7;border-top-width:1px;background:#fff;margin-top:-2px;position:relative}.question__tags,.card__settings,.card--selectquestion__expansion{border:1px solid #b8bac7;border-top-width:1px;background:#fff;margin-top:-2px;position:relative}.question__tags:after,.card__settings:after,.card--selectquestion__expansion:after,.question__tags:before,.card__settings:before,.card--selectquestion__expansion:before{bottom:100%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.question__tags:after,.card__settings:after,.card--selectquestion__expansion:after{border-color:rgba(255,255,255,0);border-bottom-color:#fff;border-width:8px;margin-left:-8px}.question__tags:before,.card__settings:before,.card--selectquestion__expansion:before{border-color:rgba(184,186,199,0);border-bottom-color:#b8bac7;border-width:9px;margin-left:-9px}.survey-header{margin-bottom:30px;background-color:#fff;padding:20px 0px;padding-top:70px}.survey-header .container,.survey-header .survey-warnings{transition:all .3s}.survey-header__title{margin-top:0}.survey-header__title input{font-size:32px;min-height:44px;padding:0px;border:none;font-weight:600}.survey__row.survey__row--selected>.survey__row__item>.card__header{border:1px solid #3da5f5}.survey__row.survey__row--selected>.survey__row__item.group{border:1px solid #3da5f5}.survey__row .btn--addrow{display:none}.survey__row:hover>.survey__row__spacer>.btn--addrow,.survey__row:focus-within>.survey__row__spacer>.btn--addrow{display:block}.survey__row .btn--addrow-force-show{display:block !important}.survey-editor--singlequestion .survey__row:hover>.survey__row__spacer>.btn--addrow{display:none}.survey__row--score .card__buttons__button--add,.survey__row--rank .card__buttons__button--add{display:none}.score_preview,.rank_preview{background-color:#fff;margin-left:-16px}.score_preview__table{width:100%;border-collapse:separate}.rankcell__delete,.scorecell__delete,.scorerow__delete{border:0 none;background-color:transparent;float:right;color:#e84a5f;cursor:pointer}.rankcell__delete:hover,.scorecell__delete:hover,.scorerow__delete:hover{color:#ad1f32}.scorecell__col{border:1px solid #b8bac7;border-width:1px 0 0.5px 1px;text-align:center;padding:0}.scorecell__col:nth-child(2){border-top-left-radius:6px}.scorecell__col:nth-last-child(2){border-top-right-radius:6px;border-right-width:1px}tr:first-child .scorelabel{border-top-width:1px;border-top-style:solid;border-top-color:#b8bac7}.scorelabel{border-left-width:1px;border-left-style:solid;border-left-color:#b8bac7;border-right-width:1px;border-right-style:solid;border-right-color:#e2e3e9}.scorelabel,.scorecell__radio{border-bottom:1px dotted #e2e3e9;padding:4px 6px}.scorecell__radio:last-child{border-right-width:1px;border-right-style:solid;border-right-color:#b8bac7}tr:last-child .scorelabel,tr:last-child .scorecell__radio{border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#b8bac7}.score__options{background-color:#fff;padding:12px 0}.score__contents{padding-left:85px}.scorecell__radio{text-align:center}.scorecell__radio input{opacity:0.4}tr:hover .scorecell__radio{background-color:#f1f1f4}tr .scorecell__radio:hover{background-color:#f1f1f4}.rank__rows{width:40%}.rank__levels{width:60%}.rank__levels,.rank__rows{float:left;background-color:rgba(255,255,255,0.5);padding:4px 20px 18px 2px;margin:0}.rank_items__constraint_wrap,.rank_items__item,.rank_items__level{padding:5px 8px;margin:0 0 4px 0;line-height:12px}.rank_items__constraint_message,.rank_items__constraint_explanation{margin:0}.rank_items__constraint_explanation{font-size:10px;color:#5a5e72;text-decoration:underline}.rank_items__level__label div,.rank_items__item__label div{display:inline}.rank_items__level__label br,.rank_items__item__label br{display:none}.rank_items__item,.rank_items__level{border:1px solid;border-color:#b8bac7;border-radius:4px}.rank_items__constraint_message{font-size:92%;color:#2d2f39;font-style:italic}.rank_items__constraint_message:before{content:\'\\2713\'}.rank_items__constraint_message.rank_items__constraint_message--prelim{color:#5a5e72}.rank_items__constraint_message.rank_items__constraint_message--prelim:before{content:\'\'}.rank_items__constraint_message div{display:inline}.rank_items__constraint_message br{display:none}.rank_items__add{list-style-type:none}.rank_items__add .btn{display:block;width:100%;line-height:10px}.scorecell__name{margin:0 0 -1px 0;background-color:#f1f1f4;color:#5a5e72;line-height:15px;font-size:9px}.scorecell__name,.scorelabel__name{display:block;border-bottom:1px dotted #e2e3e9}.scorecell__name br,.scorelabel__name br{display:none}.scorelabel__name:before,.scorelabel__name:after,.rank__rows .rank_items__name:before,.rank__rows .rank_items__name:after{line-height:20px;margin:0 3px}.scorelabel__name--automatic:before,.scorecell__name--automatic:before{content:\'AUTOMATIC\';font-size:10px}.rank_items__name{display:block}.rank_items__name br{display:none}.rank_items__name div{display:inline}.rank_items__name--automatic:focus:before{content:\'\'}.rank_items__name--automatic:before{content:\'AUTOMATIC\'}.kobomatrix-warning{color:#b86614;position:absolute;top:0;right:30px;text-align:right;margin:0;padding:2px;font-size:12px}.scorecell__name,.scorelabel__name,.rank_items__name{font-size:90%;color:#5a5e72}.scorecell__name.prelim,.scorelabel__name.prelim,.rank_items__name.prelim{font-style:italic;color:#e2e3e9}.insort .btn--addrow{opacity:0}.btn--addrow{background-color:transparent;width:52px;height:84px;position:absolute;left:-50px;top:-20px}.btn--addrow .fa,.btn--addrow .message--loading>i:first-child,.btn--addrow .loading i:first-child,.loading .btn--addrow i:first-child,.btn--addrow .mdl-layout__header .search .search__icon,.mdl-layout__header .search .btn--addrow .search__icon,.btn--addrow .mdl-layout__header .search .search__cancel,.mdl-layout__header .search .btn--addrow .search__cancel,.btn--addrow .right-and-down-caret,.btn--addrow .formBuilder-header__button>i{background-color:#b8bac7;display:block;width:24px;height:24px;line-height:24px;border-radius:5px}.btn--addrow:hover,.btn--addrow:focus{background-color:transparent}.btn--addrow:hover .fa,.btn--addrow:hover .message--loading>i:first-child,.btn--addrow:hover .loading i:first-child,.loading .btn--addrow:hover i:first-child,.btn--addrow:hover .mdl-layout__header .search .search__icon,.mdl-layout__header .search .btn--addrow:hover .search__icon,.btn--addrow:hover .mdl-layout__header .search .search__cancel,.mdl-layout__header .search .btn--addrow:hover .search__cancel,.btn--addrow:hover .right-and-down-caret,.btn--addrow:hover .formBuilder-header__button>i,.btn--addrow:focus .fa,.btn--addrow:focus .message--loading>i:first-child,.btn--addrow:focus .loading i:first-child,.loading .btn--addrow:focus i:first-child,.btn--addrow:focus .mdl-layout__header .search .search__icon,.mdl-layout__header .search .btn--addrow:focus .search__icon,.btn--addrow:focus .mdl-layout__header .search .search__cancel,.mdl-layout__header .search .btn--addrow:focus .search__cancel,.btn--addrow:focus .right-and-down-caret,.btn--addrow:focus .formBuilder-header__button>i{background-color:#3da5f5}.no-touch .btn--addrow{padding:30px 0 0 11px}.touch .btn--addrow{height:36px;margin-top:5px;padding-left:10px}.group__rows .btn--addrow{left:-30px;width:40px;height:54px;top:-30px;padding:15px 0 0 3px;z-index:101}.group__rows .btn--addrow .fa,.group__rows .btn--addrow .message--loading>i:first-child,.group__rows .btn--addrow .loading i:first-child,.loading .group__rows .btn--addrow i:first-child,.group__rows .btn--addrow .mdl-layout__header .search .search__icon,.mdl-layout__header .search .group__rows .btn--addrow .search__icon,.group__rows .btn--addrow .mdl-layout__header .search .search__cancel,.mdl-layout__header .search .group__rows .btn--addrow .search__cancel,.group__rows .btn--addrow .right-and-down-caret,.group__rows .btn--addrow .formBuilder-header__button>i{width:22px;height:22px;line-height:22px}.group__rows .group__rows .btn--addrow{left:-24px;z-index:102;width:30px}.survey-editor--singlequestion .btn--addrow{display:none}.touch .survey-editor__null-top-row--hidden{display:none}.survey-editor__list>.survey__row:not(.survey__row--group):last-child .btn--addrow{display:block}.btn--hidden{display:none !important}.survey__row__spacer{position:relative}.survey__row__spacer .line{height:0px}.row__questiontypes{border:1px solid #259af4;padding:0px;padding-top:20px;background:#fff;margin:4px 0px}.row__questiontypes__list{margin-top:20px;border-top:1px solid #259af4;padding:3px;position:relative}.row__questiontypes__list:after,.row__questiontypes__list:before{bottom:100%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.row__questiontypes__list:after{border-color:rgba(255,255,255,0);border-bottom-color:#fff;border-width:8px;margin-left:-8px}.row__questiontypes__list:before{border-color:rgba(217,221,225,0);border-bottom-color:#3da5f5;border-width:11px;margin-left:-11px}.row__questiontypes__close{position:absolute;top:-3px;right:1px;color:#5a5e72;background:transparent;border:0 none;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:600;padding:4px;line-height:1em;font-size:24px;cursor:pointer}.row__questiontypes__close:hover{color:#2d2f39}.survey-editor--singlequestion .row__questiontypes__close{display:none}input.row__questiontypes__new-question-name{border:0;border-radius:0px;font-weight:600;padding:0px 40px;min-width:99%}.row__questiontypes--namer{height:68px;padding:15px 10px;margin-bottom:20px}.row__questiontypes--namer form input{width:72%;padding:9px;border:1px solid #259af4;font-size:15px}.row__questiontypes--namer form button{width:25%;margin-left:2%}.row__questiontypes--namer form input,.row__questiontypes--namer form button{float:left}.questiontypelist__row{width:25%;padding-right:1px;float:left}.questiontypelist__item{margin-bottom:1px;padding:10px 5px;font-size:11px;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:600;cursor:pointer;color:#2d2f39}.questiontypelist__item i{margin-right:10px;font-size:16px}.questiontypelist__item i.fa.invert,.questiontypelist__item .message--loading>i.invert:first-child,.questiontypelist__item .loading i.invert:first-child,.loading .questiontypelist__item i.invert:first-child,.questiontypelist__item .mdl-layout__header .search i.invert.search__icon,.mdl-layout__header .search .questiontypelist__item i.invert.search__icon,.questiontypelist__item .mdl-layout__header .search i.invert.search__cancel,.mdl-layout__header .search .questiontypelist__item i.invert.search__cancel,.questiontypelist__item i.invert.right-and-down-caret,.questiontypelist__item .formBuilder-header__button>i.invert{background-color:#2d2f39;color:#fff;border-radius:4px;padding:3px;font-size:1em;margin-left:2px;margin-right:13px}.questiontypelist__item:hover{border-color:#3da5f5;color:#3da5f5}.questiontypelist__item:hover i.fa.invert,.questiontypelist__item:hover .message--loading>i.invert:first-child,.questiontypelist__item:hover .loading i.invert:first-child,.loading .questiontypelist__item:hover i.invert:first-child,.questiontypelist__item:hover .mdl-layout__header .search i.invert.search__icon,.mdl-layout__header .search .questiontypelist__item:hover i.invert.search__icon,.questiontypelist__item:hover .mdl-layout__header .search i.invert.search__cancel,.mdl-layout__header .search .questiontypelist__item:hover i.invert.search__cancel,.questiontypelist__item:hover i.invert.right-and-down-caret,.questiontypelist__item:hover .formBuilder-header__button>i.invert{background-color:#3da5f5}.questiontypelist__item-force-hover{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px;color:#3da5f5}.questiontypelist__item-force-hover i.fa.invert,.questiontypelist__item-force-hover .message--loading>i.invert:first-child,.questiontypelist__item-force-hover .loading i.invert:first-child,.loading .questiontypelist__item-force-hover i.invert:first-child,.questiontypelist__item-force-hover .mdl-layout__header .search i.invert.search__icon,.mdl-layout__header .search .questiontypelist__item-force-hover i.invert.search__icon,.questiontypelist__item-force-hover .mdl-layout__header .search i.invert.search__cancel,.mdl-layout__header .search .questiontypelist__item-force-hover i.invert.search__cancel,.questiontypelist__item-force-hover i.invert.right-and-down-caret,.questiontypelist__item-force-hover .formBuilder-header__button>i.invert{background-color:#3da5f5}.card{border-radius:0px;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:600;font-size:13px;line-height:18px;margin-bottom:4px;position:relative}.card.card--movable{cursor:move}.card.card--error{padding:12px 20px;background-color:rgba(232,74,95,0.5)}.card .card__header{border:1px solid #b8bac7;padding:20px 40px 20px 75px;display:block;background:#fff;cursor:move;position:relative}.card .card__text{margin:auto;display:inline-block;vertical-align:middle;width:99%;position:relative}.card .card__text.activated{color:#5a5e72}.card .card__text .card__buttons__multioptions{cursor:pointer;vertical-align:middle;text-align:right;position:absolute;left:-34px;top:50%;width:32px;margin-top:-30px;padding-top:22px;padding-bottom:22px}.card .card__text .card__buttons__multioptions .fa,.card .card__text .card__buttons__multioptions .message--loading>i:first-child,.card .card__text .card__buttons__multioptions .loading i:first-child,.loading .card .card__text .card__buttons__multioptions i:first-child,.card .card__text .card__buttons__multioptions .mdl-layout__header .search .search__icon,.mdl-layout__header .search .card .card__text .card__buttons__multioptions .search__icon,.card .card__text .card__buttons__multioptions .mdl-layout__header .search .search__cancel,.mdl-layout__header .search .card .card__text .card__buttons__multioptions .search__cancel,.card .card__text .card__buttons__multioptions .right-and-down-caret,.card .card__text .card__buttons__multioptions .formBuilder-header__button>i{width:12px;font-size:15px}.card .card__header-title:focus,.card .card__header-hint:focus{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.card .card__header-title{color:#5a5e72}.card .card__header-title:focus{color:#2d2f39}.card .card__header-title::-moz-placeholder{color:#e84a5f;background-color:rgba(232,74,95,0.075)}.card .card__header-title:-ms-input-placeholder{color:#e84a5f;background-color:rgba(232,74,95,0.075)}.card .card__header-title::-ms-input-placeholder{color:#e84a5f;background-color:rgba(232,74,95,0.075)}.card .card__header-title::placeholder{color:#e84a5f;background-color:rgba(232,74,95,0.075)}.card .card__header-hint{color:inherit;font-weight:400}.card .card__header-hint::-moz-placeholder{color:#5a5e72;font-style:italic}.card .card__header-hint:-ms-input-placeholder{color:#5a5e72;font-style:italic}.card .card__header-hint::-ms-input-placeholder{color:#5a5e72;font-style:italic}.card .card__header-hint::placeholder{color:#5a5e72;font-style:italic}.card .card__option-translation--empty{opacity:0.6}.card.card--shaded .card__header-title{opacity:0.3}.card--required .card__text:after{content:\'*\';position:absolute;top:-0.15em;left:-9px;color:#5a5e72;font-size:11px}.card--required.card--selectquestion .card__text{padding-left:10px}.card--required.card--selectquestion .card__text:after{left:1px}.no-touch .card:before{content:" ";height:100%;left:-60px;position:absolute;width:80px}.sortable-active .card__header{border:1px solid #3da5f5}.sortable-active .card__header .card__header-title{color:#3da5f5}.card--error{background-color:rgba(232,74,95,0.5)}.card__indicator{position:absolute;left:0;top:0;width:42px;height:100%;border-right:1px solid #b8bac7}.card--insort .card__indicator{border-right:1px solid #3da5f5}.card__indicator__icon{position:absolute;top:50%;margin-top:-10.5px;left:8px;width:21px;height:21px;font-size:20px;line-height:20px;text-align:center;color:#5a5e72}.card__indicator__icon .fa.invert,.card__indicator__icon .message--loading>i.invert:first-child,.card__indicator__icon .loading i.invert:first-child,.loading .card__indicator__icon i.invert:first-child,.card__indicator__icon .mdl-layout__header .search .invert.search__icon,.mdl-layout__header .search .card__indicator__icon .invert.search__icon,.card__indicator__icon .mdl-layout__header .search .invert.search__cancel,.mdl-layout__header .search .card__indicator__icon .invert.search__cancel,.card__indicator__icon .invert.right-and-down-caret,.card__indicator__icon .formBuilder-header__button>i.invert{padding:3px 1px;font-size:0.95em;background-color:#5a5e72}.card__indicator__icon .fa-lato-range,.card__indicator__icon .fa-lato-calculate,.card__indicator__icon .fa-lato-decimal,.card__indicator__icon .fa-lato-integer,.card__indicator__icon .fa-lato-text{font-size:15px;width:21px}.card__indicator__icon .fa-lato-decimal{margin-left:2px}.card__buttons{border:1px solid #b8bac7;border-width:0 0 0 1px;position:absolute;top:0px;right:2px;width:25px;height:100%;cursor:pointer;z-index:3}.card--shaded .card__buttons{border:none}.card__header--shade{position:absolute;width:100%;height:100%;left:0px;top:0px;z-index:2;text-align:center;vertical-align:middle;display:none}.card__header--shade span{position:relative;top:35%;font-weight:600;font-size:23px}.card--shaded .card__header--shade{display:block}.card--shaded .card__header--shade>span:after{content:attr(data-card-hover-text)}.card__header.settings .card__header--shade{background:rgba(90,94,114,0.5)}.card__header.delete .card__header--shade{background:rgba(232,74,95,0.5)}.card__header.duplicate .card__header--shade{background:rgba(37,154,244,0.5)}.card__header.add-to-library .card__header--shade{background:rgba(40,189,112,0.5)}.card--insort .card__buttons{border-left:1px solid #3da5f5}.card__buttons__button{height:20px;line-height:20px;width:26px;position:absolute;right:-2px;bottom:0px;text-align:center}.card__buttons__button.card__buttons__button--gray{color:#5a5e72;top:0px}.card__buttons__button.card__buttons__button--red{color:#e84a5f;top:37%;margin-top:-10px}.card__buttons__button.card__buttons__button--blue{color:#259af4}.card__buttons__button.card__buttons__button--copy{bottom:26%}.card__buttons__button.card__buttons__button--activated{color:#5a5e72;background-color:#e2e3e9;opacity:1}.card__buttons__button:hover,.card__buttons__button.card__buttons__button--activated:hover{opacity:0.5}.card--shaded .card__buttons{z-index:4}.card--shaded .card__header .card__text .bg{display:block}.survey-editor--singlequestion .card__buttons__button--delete{display:none}.survey-editor--singlequestion .survey-editor__action--multiquestion{display:none}.card--selectquestion__expansion{padding:23px 10px 23px 60px}.card__settings__tabs{float:left;width:20%}.card__settings__tabs li,.card__settings__tabs .heading{padding:6px 10px;font-size:11px;font-weight:normal;cursor:pointer}.card__settings__tabs li.card__settings__tabs__tab--active{background:#e2e3e9;font-weight:600}.card__settings__tabs .heading{border-bottom:1px solid #b8bac7;font-size:13px;padding:8px 10px;font-weight:600;margin-bottom:3px}.card__settings__tabs .heading .fa,.card__settings__tabs .heading .message--loading>i:first-child,.card__settings__tabs .heading .loading i:first-child,.loading .card__settings__tabs .heading i:first-child,.card__settings__tabs .heading .mdl-layout__header .search .search__icon,.mdl-layout__header .search .card__settings__tabs .heading .search__icon,.card__settings__tabs .heading .mdl-layout__header .search .search__cancel,.mdl-layout__header .search .card__settings__tabs .heading .search__cancel,.card__settings__tabs .heading .right-and-down-caret,.card__settings__tabs .heading .formBuilder-header__button>i{color:#5a5e72;margin-right:5px}.card__settings__content{padding:20px 30px;margin-left:20%;border-left:1px solid #b8bac7;min-height:152px}.card__settings__fields{display:none;transition:height .3s}.card__settings__fields.card__settings__fields--active,.card__settings__fields.active{display:block;transition:height .3s}.card__settings__fields__field{padding:5px 0}.card__settings__fields__field>label{text-align:right;width:32%;margin-right:2%;display:inline-block;font-weight:600;vertical-align:middle;text-transform:capitalize;font-size:12px;line-height:1.2em}.card__settings__fields__field>label.align-top{vertical-align:top;margin-top:5px}.card__settings__fields__field input[type="text"]{width:85%;padding:2px;font-size:13px}.card__settings__fields__field .settings__input{width:65%;display:inline-block;vertical-align:middle}.card__settings__fields__field .settings__input input.text{display:inline-block}.card__settings-close{background:C5CACF;position:absolute;right:6px;top:6px;color:#fff;padding:3px;border-radius:3px;cursor:pointer}.card__settings-close:hover{background:#3da5f5}.card .card__settings{display:none}.card.card--expanded-settings .card__settings{display:block}.card.card--expanded-settings .card__buttons__button--settings{color:#5a5e72;background-color:#e2e3e9}.settings__hxl{background:#f1f1f4;display:table-row}.settings__hxl .hxlTag{width:120px}.settings__hxl .hxlAttrs{min-width:200px;width:calc(100% - 124px)}.settings__hxl .select2-container-multi{vertical-align:top;display:table-cell;border:1px solid #b8bac7;padding:2px}.settings__hxl .select2-container-multi .select2-choices{background-image:none !important;background-color:transparent !important;border:none !important;box-shadow:none !important}.settings__hxl .select2-container-multi .select2-choices .select2-search-choice{border-radius:5px;font-weight:normal;background:#e2e3e9;color:#2d2f39;padding-left:5px;padding-right:18px}.settings__hxl .select2-container-multi .select2-choices .select2-search-choice .select2-search-choice-close{left:auto;right:3px;color:#5a5e72}.settings__hxl .select2-container-multi .select2-choices .select2-search-choice .select2-search-choice-close:before{content:\'\\D7\'}.settings__hxl .select2-container-multi .select2-choices .select2-search-field input{padding-bottom:2px;padding-top:2px}.settings__hxl .select2-container-multi .select2-choices .select2-search-field input.select2-input{min-width:100px}.settings__hxl .select2-container-multi.select2-container-disabled .select2-choices .select2-search-choice{opacity:0.5}.settings__hxl .hxlAttrs.select2-container-multi{background:#fff;border-left:0px}.survey__row--selected .card--selectquestion__expansion,.survey__row--selected .card__settings{border-left-color:#3da5f5;border-right-color:#3da5f5;border-bottom-color:#3da5f5}.card--selectquestion .row__multioptions{display:none}.card--selectquestion.card--expandedchoices .row__multioptions{display:block}.option-placeholder{height:32px;margin-bottom:10px;border:2px solid #b8bac7;border-radius:4px;margin-right:25px;margin-left:5px}.multioptions__option{margin-bottom:4px;margin-left:4px;position:relative}.multioptions__option div.editable-wrapper{font-weight:600;border-radius:5px;border:1px solid #b8bac7;padding:5px;font-size:13px;display:inline-block;width:72%;vertical-align:top;height:auto;position:relative;min-height:18px;cursor:move}.multioptions__option div.editable-wrapper:focus{border-color:#55b0f6;color:#55b0f6}.multioptions__option div.editable-wrapper span{cursor:text}.multioptions__option div.editable-wrapper .editable-input input{line-height:1em;vertical-align:middle;margin-top:-3px}.multioptions__option code{font-weight:600;font-size:11px;font-family:"Roboto", "Helvetica", "Arial", sans-serif;background-color:#e2e3e9;padding:2px;margin:2px;width:25%;text-align:left;display:inline-block;margin-left:2%;overflow:hidden}.multioptions__option code label{display:inline-block;width:40%;padding-left:4px;color:#5a5e72}.multioptions__option code span{text-align:right;display:inline-block;float:right;width:60%;padding-right:4px;color:#5a5e72;overflow-wrap:break-word;cursor:text}.multioptions__option code .editable-unsaved{color:#3da5f5}.multioptions__option code input{text-align:right;display:inline-block;float:right;width:60% !important;color:#3da5f5;line-height:inherit;font-size:11px}.multioptions__option i.fa-trash-o{position:absolute;left:-20px;top:8px;color:#e84a5f;font-size:16px;cursor:pointer}.card__addoptions{position:relative}.card__addoptions__layer{cursor:pointer !important;background:rgba(255,255,255,0.5);position:absolute;width:100%;height:100%;top:0px;z-index:1}.group{padding:4px 10px;margin-bottom:15px;background-color:#f1f1f4;border:1px solid #b8bac7;font-size:13px}.group .card,.group .row__questiontypes{margin-left:0px}.group__name{font-weight:600}.group__header{border-bottom:1px solid #b8bac7;position:relative;margin:-4px -10px 0;padding:12px;min-height:50px}.group__header .group__label{font-size:16px;font-weight:600}.group__header input{width:94%;font-weight:normal;display:inline;border:none;border-radius:none;background:none;font-size:16px;font-weight:600;padding:0px;height:auto;vertical-align:inherit}.group__rows{margin-top:6px}.group__header__buttons{border:1px solid #b8bac7;border-width:0 0 0 2px;position:absolute;top:0px;right:2px;width:26px;height:100%;cursor:pointer}.group__header__buttons__button{display:block;font-size:13px;height:22px;line-height:22px;width:26px;text-align:center}.group__header__buttons__button.group__header__buttons__button--gray{color:#5a5e72}.group__header__buttons__button.group__header__buttons__button--red{color:#e84a5f}.group__header__buttons__button.group__header__buttons__button--activated{color:#5a5e72;background-color:#e2e3e9}.group{line-height:1.4}.group>.card__settings{display:none}.group.card--expanded-settings{padding:4px 0px;padding-bottom:0px}.group.card--expanded-settings>.card__settings{display:block;background-color:#fff;border:none;margin-top:1px}.group.card--expanded-settings>.card__settings:after{content:"";border:none}.group.card--expanded-settings>.card__settings:before{content:"";border:none}.group.card--expanded-settings .group__rows{display:none}.group.card--expanded-settings .group__header{margin:-4px 0px 0px}.group.card--expanded-settings .group__header__buttons__button--settings{background:#e2e3e9}.group__caret{cursor:pointer;color:#5a5e72}.group--shrunk{border-bottom:none;padding-bottom:0px}.group--shrunk .group__rows{display:none}.group--shrunk .survey__row{display:none}.group__rows .group{background:#e8e9ed;margin-bottom:12px}.group__rows .group .group__rows .group{background:#e0e1e6}.group__rows .group .group__rows .group .group__rows .group{background:#d7d8e0}.group__rows .group .group__rows .group .group__rows .group .group__rows .group{background:#ced0d9}.skiplogic__criterion{margin-bottom:12px;position:relative}.skiplogic__criterion.skiplogic__criterion--unspecified-question .skiplogic__expressionselect{display:none}.skiplogic__rowselect{width:60%;margin-right:2%;font-weight:normal}.skiplogic__expressionselect{width:10%;margin-right:2%;font-weight:600;color:#2d2f39}.skiplogic__expressionselect--no-response-value{width:37%;margin-right:0%}.skiplogic__expressionselect--no-response-value+.skiplogic__responseval{display:none}.skiplogic__responseval-wrapper{display:inline}input[type=text].skiplogic__responseval,select.skiplogic__responseval{width:25%;font-weight:normal;display:inline-block;border-bottom:1px solid #b8bac7}input[type=text].skiplogic__responseval{border-radius:0;border:none;border-bottom:1px solid #b8bac7;padding:1px;height:30px;vertical-align:bottom}div.skiplogic__responseval{display:inline-block;width:25% !important}.skiplogic__deletecriterion{height:auto;margin:0;border:0;padding:0;position:absolute;top:3px;right:-16px;color:#e84a5f;background-color:transparent;opacity:0.8;cursor:pointer}.skiplogic__deletecriterion:hover{opacity:1}.skiplogic__handcode-edit{width:100%;min-height:70px;padding:6px;margin-top:20px}.skiplogic-handcode__cancel{background:none;border:medium none;color:#e84a5f;font-size:15px;position:absolute;right:-22px;text-align:center;top:18px;width:18px;cursor:pointer}.skiplogic__main{position:relative}.skiplogic__main .mdl-button,.skiplogic__main .popover-menu--new-menu .popover-menu__toggle,.popover-menu--new-menu .skiplogic__main .popover-menu__toggle,.skiplogic__main .popover-menu--question-language .popover-menu__toggle,.popover-menu--question-language .skiplogic__main .popover-menu__toggle,.skiplogic__main .popover-menu--custom-reports .popover-menu__toggle,.popover-menu--custom-reports .skiplogic__main .popover-menu__toggle,.skiplogic__main .form-wrap .error-message__link,.form-wrap .skiplogic__main .error-message__link,.skiplogic__main .formBuilder-header__close,.skiplogic__main .formBuilder-header__button,.skiplogic__main .cascade-popup .cascade-popup__buttonWrapper button,.cascade-popup .cascade-popup__buttonWrapper .skiplogic__main button,.skiplogic__main .form-view__icon-button,.skiplogic__main .form-view--table .ReactTable .-pagination .-btn,.form-view--table .ReactTable .-pagination .skiplogic__main .-btn,.skiplogic__main .rest-services .rest-services-list__header-back-button,.rest-services .skiplogic__main .rest-services-list__header-back-button{width:100%}.skiplogic__main .mdl-button:not(:first-child),.skiplogic__main .popover-menu--new-menu .popover-menu__toggle:not(:first-child),.popover-menu--new-menu .skiplogic__main .popover-menu__toggle:not(:first-child),.skiplogic__main .popover-menu--question-language .popover-menu__toggle:not(:first-child),.popover-menu--question-language .skiplogic__main .popover-menu__toggle:not(:first-child),.skiplogic__main .popover-menu--custom-reports .popover-menu__toggle:not(:first-child),.popover-menu--custom-reports .skiplogic__main .popover-menu__toggle:not(:first-child),.skiplogic__main .form-wrap .error-message__link:not(:first-child),.form-wrap .skiplogic__main .error-message__link:not(:first-child),.skiplogic__main .formBuilder-header__close:not(:first-child),.skiplogic__main .formBuilder-header__button:not(:first-child),.skiplogic__main .cascade-popup .cascade-popup__buttonWrapper button:not(:first-child),.cascade-popup .cascade-popup__buttonWrapper .skiplogic__main button:not(:first-child),.skiplogic__main .form-view__icon-button:not(:first-child),.skiplogic__main .form-view--table .ReactTable .-pagination .-btn:not(:first-child),.form-view--table .ReactTable .-pagination .skiplogic__main .-btn:not(:first-child),.skiplogic__main .rest-services .rest-services-list__header-back-button:not(:first-child),.rest-services .skiplogic__main .rest-services-list__header-back-button:not(:first-child){margin-top:10px}.skiplogic__addnew{margin:0;margin-top:10px;height:36px;width:180px;display:inline-block}select.skiplogic__delimselect{max-width:350px;margin-top:10px;background:transparent;border-radius:0px !important;border:none;border-bottom:1px solid #b8bac7;padding:4px 2px;font-size:13px;font-weight:400}.constraint__editor{padding-top:14px;position:relative}.skiplogic__criterialist .select2-container .select2-choice{border-bottom:1px solid #b8bac7}.skiplogic__criterialist .select2-dropdown-open.select2-drop-above .select2-choice,.skiplogic__criterialist .select2-dropdown-open.select2-drop-above .select2-choices{border-bottom:1px solid #b8bac7;border-radius:0px}.params-view__simple-wrapper .params-view{padding:10px}.params-view__simple-wrapper .params-view .param-option{padding:5px 10px;display:inline-block}.params-view__settings-wrapper.card__settings__fields__field>label{vertical-align:top;margin-top:2px}.survey__row--selected .params-view__simple-wrapper{border-left-color:#3da5f5;border-right-color:#3da5f5;border-bottom-color:#3da5f5}.card__settings__fields__field .params-view .param-option{display:block}.card__settings__fields__field .params-view .param-option:not(:last-child){margin-bottom:10px}.mandatory-setting .card__settings__fields__field>label{vertical-align:top;margin-top:6px}.mandatory-setting .mandatory-setting__row.mandatory-setting__row--custom .text-box{margin-top:5px;display:block}.mandatory-setting .mandatory-setting__row.mandatory-setting__row--custom .radio__input:not(:checked) ~ .text-box{visibility:hidden;height:0;overflow:hidden;margin-top:0}.survey-editor__message{border:1px solid #b8bac7;padding:20px;background:#fff;color:#5a5e72;font-weight:600;font-style:italic;font-size:13px}.survey-editor__message a{font-style:normal;font-weight:normal;text-decoration:underline}.card__text input,.editable-wrapper input{font-family:"Roboto","Helvetica","Arial",sans-serif;border:none;padding:0px;margin:0px;font-weight:600;display:inline;height:auto !important;font-size:13px;width:100%}code input[type="text"]{border:none;padding:0px;padding-right:4px;margin:0px;font-weight:600;display:inline;background:none;font-size:11px;color:#3da5f5;float:right;width:64%;height:auto !important;text-align:right}.survey-warnings{background-color:#fcf2e8;color:#b86614;padding:15px;margin-bottom:20px;border-radius:4px;border:1px solid #e6801a}.survey-warnings__warning{margin:12px 0 0}.survey-warnings__close-button{color:#b86614;position:absolute;top:24px;margin-top:-12px;height:24px;right:12px;background-color:transparent;border:0 none}.survey-editor{transition:all .3s}.survey-editor__null-top-row{position:relative}.survey-editor__null-top-row.expanded .survey-editor__message{display:none}.survey-editor__null-top-row.survey-editor__null-top-row--hidden .survey-editor__message{display:none}.survey-editor__null-top-row.survey-editor__null-top-row--hidden .survey__row__spacer{opacity:0}.survey-editor__null-top-row.survey-editor__null-top-row--hidden .survey__row__spacer:hover{opacity:1}.survey-editor__message{text-align:center;color:#5a5e72}.pull-left{float:left}.pull-right{float:right}.ir{background-color:transparent;border:0;overflow:hidden;*text-indent:-9999px}.ir:before{content:"";display:block;width:0;height:150%}.hidden{display:none !important;visibility:hidden}.visuallyhidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.visuallyhidden.focusable:active,.visuallyhidden.focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.invisible{visibility:hidden}.clearfix:before,.lib-list__tags:before,.clearfix:after,.lib-list__tags:after{content:" ";display:table}.clearfix:after,.lib-list__tags:after{clear:both}.clearfix,.lib-list__tags{*zoom:1}.row-extras__cog-faded{cursor:pointer}.formBuilder{background-color:#fff}.formBuilder-header{height:125px}.formBuilder__contents{height:calc(100% - 125px);overflow-x:auto;overflow-y:scroll;padding-top:10px;margin-right:0;transition:margin 200ms}@media screen and (min-width: 1100px){.form-builder-aside--visible+.formBuilder .formBuilder__contents,.lib-nav--visible+.formBuilder .formBuilder__contents{margin-right:400px}}.form-wrap{padding:45px 75px;width:100%}.form-wrap input,.form-wrap textarea{box-shadow:none}.form-wrap input:focus,.form-wrap textarea:focus{box-shadow:none}.form-wrap .loading{min-height:200px}.form-wrap .error-message{width:540px;margin:24px auto;padding:12px 20px}.form-wrap .error-message p{font-family:monospace;white-space:pre}.form-wrap .error-message__strong{border:1px solid black;padding-right:12px}.form-wrap .error-message__link{margin-right:5px}.form-wrap .error-message__link--help{float:right}.formBuilder-header{position:relative;z-index:20}.formBuilder-header .formBuilder-header__row{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center}.formBuilder-header .formBuilder-header__row.formBuilder-header__row--primary{background-color:#fff;height:75px;position:relative;z-index:2;box-shadow:0 0 3px 0 rgba(45,47,57,0.2),0 0 10px 0 rgba(45,47,57,0.1)}.formBuilder-header .formBuilder-header__row.formBuilder-header__row--secondary{background:#f1f1f4;height:50px;position:relative;z-index:1;box-shadow:0 0 3px 0 rgba(45,47,57,0.2),0 0 10px 0 rgba(45,47,57,0.1)}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--logo{background-color:#22b6c3;width:75px;text-align:center;vertical-align:middle;height:75px;cursor:pointer;transition:background-color 0.2s, color 0.2s}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--logo:hover{background-color:#1b8d98}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--logo:focus{background-color:#1b8d98}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--logo:focus i{font-size:56px;padding-top:8px}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--logo i{color:#fff;font-size:48px;padding-top:14px;display:inline-block;vertical-align:middle}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--logo i::before{margin-right:0}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--name{flex:1;margin-left:20px}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--name label::first-letter{text-transform:uppercase}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--name input{border-radius:0;padding-left:0}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--translations p{margin:0 0 0 10px;line-height:15px;padding-top:10px;font-size:11px}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--translations p small{display:block;color:#5a5e72}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--translations p small::before{content:\'+ \'}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--buttonsTopRight{text-align:right;margin:0 10px}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--buttonsTopRight button{margin-left:10px}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--close{width:45px;text-align:right;padding:5px;margin-left:5px}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--toolsButtons{margin:0 10px}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--toolsButtons button{color:#5a5e72;overflow:visible;padding:0}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--toolsButtons button[data-tip]::after{margin-left:30px}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--toolsButtons button:hover,.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--toolsButtons button:focus,.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--toolsButtons button:focus:not(:active){background-color:transparent}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--toolsButtons button:hover{color:#2d2f39}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--toolsButtons button i{font-size:32px;vertical-align:middle}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--toolsButtons button i::before{vertical-align:bottom}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--spacer{flex-grow:1;height:100%}.formBuilder-header .formBuilder-header__cell.formBuilder-header__cell--verticalRule{width:1px;background:#e2e3e9;height:100%}.formBuilder-header__close{border:none;color:#5a5e72;cursor:pointer}.formBuilder-header__close:hover{color:#2d2f39}.formBuilder-header__close:focus i{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.formBuilder-header__button:focus i{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.formBuilder-header__button.formBuilder-header__button--create,.formBuilder-header__button.formBuilder-header__button--save{margin-left:10px;text-transform:uppercase;min-width:85px}.formBuilder-header__button.formBuilder-header__button--create>i,.formBuilder-header__button.formBuilder-header__button--save>i{display:none}.formBuilder-header__button.formBuilder-header__button--create:focus,.formBuilder-header__button.formBuilder-header__button--save:focus{background-color:#0b81da;font-weight:bold}.formBuilder-header__button.formBuilder-header__button--savepending>i,.formBuilder-header__button.formBuilder-header__button--create-pending>i{font-size:22px;line-height:35px;display:inline-block}.formBuilder-header__button.formBuilder-header__button--savepending>i+span,.formBuilder-header__button.formBuilder-header__button--create-pending>i+span{display:none}.formBuilder-header__button.formBuilder-header__button--savefailed::after,.formBuilder-header__button.formBuilder-header__button--saveneeded::after{content:\'*\';color:#fff}.formBuilder-header__button.formBuilder-header__button--panel-toggle{padding:0 10px}.formBuilder-header__button.formBuilder-header__button--panel-toggle.formBuilder-header__button--active i.k-icon,.formBuilder-header__button.formBuilder-header__button--panel-toggle.formBuilder-header__button--active .alertify-notifier .ajs-message i.ajs-close,.alertify-notifier .ajs-message .formBuilder-header__button.formBuilder-header__button--panel-toggle.formBuilder-header__button--active i.ajs-close,.formBuilder-header__button.formBuilder-header__button--panel-toggle.formBuilder-header__button--active i.react-tagsinput-remove,.formBuilder-header__button.formBuilder-header__button--panel-toggle.formBuilder-header__button--active .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .formBuilder-header__button.formBuilder-header__button--panel-toggle.formBuilder-header__button--active i,.formBuilder-header__button.formBuilder-header__button--panel-toggle.formBuilder-header__button--active .breadcrumbs i.breadcrumbs__divider,.breadcrumbs .formBuilder-header__button.formBuilder-header__button--panel-toggle.formBuilder-header__button--active i.breadcrumbs__divider{color:#259af4}.formBuilder-header__button.formBuilder-header__button--panel-toggle .panel-toggle-name{margin-right:10px}.formBuilder-header__button.formBuilder-header__button--panel-toggle i.k-icon,.formBuilder-header__button.formBuilder-header__button--panel-toggle .alertify-notifier .ajs-message i.ajs-close,.alertify-notifier .ajs-message .formBuilder-header__button.formBuilder-header__button--panel-toggle i.ajs-close,.formBuilder-header__button.formBuilder-header__button--panel-toggle i.react-tagsinput-remove,.formBuilder-header__button.formBuilder-header__button--panel-toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .formBuilder-header__button.formBuilder-header__button--panel-toggle i,.formBuilder-header__button.formBuilder-header__button--panel-toggle .breadcrumbs i.breadcrumbs__divider,.breadcrumbs .formBuilder-header__button.formBuilder-header__button--panel-toggle i.breadcrumbs__divider{font-size:32px;vertical-align:middle}.formBuilder-header__button.formBuilder-header__button--panel-toggle:focus{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.formBuilder-header__button.formBuilder-header__button--panel-toggle:focus i{outline:none}.formBuilder-header__button[disabled]{opacity:0.5;pointer-events:none}.form-builder-aside{position:absolute;right:0;bottom:0;top:125px;width:400px;background-color:#f1f1f4;transition:right 200ms;box-shadow:0 0 3px 0 rgba(45,47,57,0.2),0 0 10px 0 rgba(45,47,57,0.1);z-index:10}.form-builder-aside:not(.form-builder-aside--visible){right:-410px}.form-builder-aside .form-builder-aside__content{padding:30px;overflow-y:auto;height:100%}.form-builder-aside .form-builder-aside__header{margin:0;font-size:20px;line-height:28px;font-weight:700}.form-builder-aside .form-builder-aside__header .k-icon,.form-builder-aside .form-builder-aside__header .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-builder-aside .form-builder-aside__header .ajs-close,.form-builder-aside .form-builder-aside__header .react-tagsinput-remove,.form-builder-aside .form-builder-aside__header .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-aside .form-builder-aside__header i,.form-builder-aside .form-builder-aside__header .breadcrumbs .breadcrumbs__divider,.breadcrumbs .form-builder-aside .form-builder-aside__header .breadcrumbs__divider{font-size:28px;vertical-align:bottom}.form-builder-aside .form-builder-aside__header .k-icon::before,.form-builder-aside .form-builder-aside__header .alertify-notifier .ajs-message .ajs-close::before,.alertify-notifier .ajs-message .form-builder-aside .form-builder-aside__header .ajs-close::before,.form-builder-aside .form-builder-aside__header .react-tagsinput-remove::before,.form-builder-aside .form-builder-aside__header .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-aside .form-builder-aside__header i::before,.form-builder-aside .form-builder-aside__header .breadcrumbs .breadcrumbs__divider::before,.breadcrumbs .form-builder-aside .form-builder-aside__header .breadcrumbs__divider::before{vertical-align:inherit}.form-builder-aside .form-builder-aside__header:not(:last-child){margin-bottom:10px}.form-builder-aside .form-builder-aside__row:not(:first-child){margin-top:20px}.form-builder-meta .form-builder-meta__columns{display:flex;flex-direction:row}.form-builder-meta .form-builder-meta__row{margin-top:10px}.form-builder-meta .form-builder-meta__column{flex:1;margin-right:10px}.form-builder-meta .form-builder-meta__column .checkbox:not(:last-of-type){margin-bottom:10px}.cascade-popup textarea{margin:15px 0;width:100%;height:220px;border:2px solid #e2e3e9}.cascade-popup .cascade-popup__buttonWrapper{padding-top:10px;text-align:right}.cascade-popup .cascade-popup__buttonWrapper button{min-width:100px}.cascade-popup .cascade-popup__message--warning{color:#e84a5f}.cascade-popup .cascade-popup__message--ready{color:#22b6c3}.cascade-popup .cascade-help{text-align:right}.cascade-popup .cascade-help i{font-size:26px;color:#5a5e72}.survey-editor .ui-sortable-placeholder.lib-list__item{border:1px dashed #b8bac7;visibility:visible !important;min-height:80px;padding:0}@media screen and (max-width: 767px){.formBuilder-header__cell--logo{display:none}.formBuilder-header__cell--buttonsTopRight .formBuilder-header__button--save{max-width:120px;text-overflow:ellipsis}.formBuilder-header__button--panel-toggle .panel-toggle-name{display:none}.form-wrap{padding:30px 45px}}@media screen and (max-width: 767px){.formBuilder-header__cell--library-toggle{display:none}}@media screen and (pointer: coarse){.formBuilder-header__cell--library-toggle{display:none}}@media screen and (max-width: 480px){.formBuilder-header__cell--toolsButtons button{padding:0;border-radius:0}.card--selectquestion__expansion{padding-right:5px;padding-left:25px}.multioptions__option div.editable-wrapper{width:65%}.multioptions__option code{width:33%;margin-left:1%;margin-right:0}.multioptions__option code label{font-size:10px;padding-left:2px;width:24%}.multioptions__option code span{padding-right:2px;width:64%;overflow:hidden}.form-wrap{padding:15px 30px}.btn--addrow{left:-40px}.card__settings__content{padding:20px;padding-right:10px}.card__settings__fields__field>label{text-align:left;margin-right:1%}.card__settings__fields__field .settings__input input[type="text"]{border:1px solid #e2e3e9}.questiontypelist__item{text-align:center;background:#f1f1f4}.questiontypelist__item i{display:block;margin:0 auto;margin-bottom:5px}}.asset-list-sorts{padding:0px 12px;white-space:nowrap;border-bottom:1px solid #e2e3e9;overflow:hidden}.asset-list-sorts>.asset-list-sorts__item{opacity:0.8;font-weight:500;position:relative;padding:10px 0px;padding-top:19px;margin-top:0px;margin-bottom:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.asset-list-sorts .asset-list-sorts__item--submissions{text-align:right;letter-spacing:-0.03em}.search__summary{background-color:#e2e3e9;height:50px;width:100%;flex-grow:0;text-align:left;padding:15px}.search__summary>div{display:inline}.search__summary div+div{margin-left:5px}.list__heading{display:block;font-size:18px;font-weight:500;padding:9px;line-height:1}.list__heading span,.list__heading i{vertical-align:middle}.list__heading span.parent{font-weight:normal;color:#5a5e72}.list__heading i{font-size:24px}.list__subheading{margin-top:20px;margin-bottom:10px;font-weight:600}.library{height:100%;overflow:hidden}.library>.dropzone{height:calc(100% - 50px);min-height:calc(100% - 50px)}.library .library__type-filter{position:absolute;top:0;right:0;z-index:1}.library .library__type-filter .kobo-select{display:inline-block;vertical-align:middle;min-width:120px;margin-left:5px}.list--regular{flex-flow:column;margin:0px !important;position:relative;height:100%;width:100%}.list--regular .asset-list{height:calc(100% - 92px);overflow-y:auto;width:100%;padding-bottom:50px}.list--regular .asset-list,.list--regular .asset-list-sorts{background-color:#fff}.list--regular .asset-list-sorts{margin-top:5px}.list--regular .asset-row__cell--date-modified,.list--regular .asset-list-sorts__item--modified{text-align:right}.list--grouped{height:100%;overflow-y:auto;padding:20px}.list--grouped .asset-list{min-height:100%}.list--grouped .asset-items{position:relative;overflow:visible}.list--grouped .asset-items--collapsed{max-height:0px;overflow:hidden}.list--grouped .asset-items+.asset-list__heading{margin-top:20px}.list--grouped .asset-row__cell--submission-count{text-align:right}.asset-list--fixed-headings{padding-top:50px}.asset-list--fixed-headings>.asset-items--1 .asset-list-sorts{display:flex;position:fixed;top:64px;background:#fff;z-index:99;overflow:hidden;box-shadow:0 0 2px 0 rgba(45,47,57,0.06),0 2px 2px 0 rgba(45,47,57,0.12);border-radius:2px}@media screen and (max-width: 767px){.asset-list--fixed-headings>.asset-items--1 .asset-list-sorts{width:calc(100% - 22px)}.list--grouped,.list--regular{padding-left:0px;padding-right:0px;width:100%}.list__heading,.list__subheading{padding-left:10px;padding-right:10px}.library .library__type-filter{right:12px}}@media screen and (min-width: 840px){.asset-list-sorts .asset-list-sorts__item--submissions{margin:0px -4px;width:calc(8.33333% + 8px)}}@media screen and (max-width: 839px) and (min-width: 480px){.asset-list-sorts .asset-list-sorts__item--submissions{margin:0px -4px;width:calc(12.5% + 8px)}}.asset-name.asset-name--empty{font-style:italic}.asset-name.asset-name--has-long-words{-ms-word-break:break-all;word-break:break-all;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.asset-name small{color:#5a5e72;margin-left:5px;font-size:smaller;font-style:italic}.sidebar-asset-name.asset-name--noname{font-style:italic}.asset-row{list-style-type:none;border-top:1px solid #e2e3e9;padding:6px 12px;transition:max-height 0.5s ease, opacity 0.5s ease;min-height:49px;opacity:1;position:relative;align-items:flex-start;color:#5a5e72}.asset-row:hover{color:#2d2f39;background:#f1f1f4;z-index:1}.asset-row .asset-row__link-overlay{cursor:pointer;position:absolute;top:-6px;left:-12px;width:calc(100% + 24px);height:calc(100% + 12px)}.asset-row>.asset-row__cell{width:100%;display:flex;align-items:flex-start}.asset-row>.asset-row__cell>.asset-row__cell{min-width:0;vertical-align:top}.asset-row>.asset-row__cell>.asset-row__cell.asset-row__cell--type{text-transform:capitalize}.asset-row:last-child{border-top:1px solid #e2e3e9}.asset-row.asset-row--deleting{opacity:0.5}.asset-row.asset-row--deleted{transition:max-height 0.5s ease, opacity 0.5s ease;opacity:0;max-height:0px;min-height:0px;padding:0px;border:none;overflow:hidden}.asset-row .asset-row__cell--asset-details{position:relative}.asset-row .asset-row__cell--name{font-size:14px}.asset-row .asset-row__description,.asset-row .asset-row__cell--date-created .date,.asset-row .asset-row__cell--date-modified .date{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.asset-row .row-icon{vertical-align:middle;border:1px solid #22b6c3;font-size:13px;color:#22b6c3;width:36px;border-radius:6px;display:inline-block;margin-right:10px;text-align:center;font-style:normal}.asset-row .row-icon.row-icon--block{color:#fff;background:#22b6c3}.asset-row .row-icon.row-icon--template{border-style:dashed}.asset-row .asset-row__cell--title .row-icon{float:left;margin-top:-1px;margin-bottom:-1px}.asset-row .asset-row__description{margin-top:6px;display:block;color:#5a5e72;font-size:13px}.asset-row .asset-row__cell--tags{white-space:normal;margin-top:0}.asset-row .asset-row__cell--date-created,.asset-row .asset-row__cell--date-modified{font-size:13px}.asset-row .asset-row__cell--submission-count,.asset-row .asset-row__cell--row-count{text-align:right}.asset-row>.asset-row__buttons{position:absolute;top:0;right:0;padding:6px 6px 4px;width:auto;text-align:right;opacity:0;visibility:hidden;transition:0.3s opacity;background:#f1f1f4;box-shadow:-5px 0px 15px 0px #f1f1f4;z-index:1}.asset-row .asset-row__action-icon,.asset-row .popover-menu{height:36px;display:inline-block;vertical-align:top}.asset-row .asset-row__action-icon{margin-left:0px;font-weight:400;color:#5a5e72;cursor:pointer}.asset-row .asset-row__action-icon:hover{background-color:transparent;color:#259af4}.asset-row .asset-row__action-icon i::before{margin:0px;font-size:36px}.asset-row.asset-row--display-tags .asset-row__action-icon--tagsToggle{background-color:transparent;color:#259af4}.asset-row:hover>.asset-row__buttons{opacity:1;visibility:visible;transition:0.3s opacity;transition-delay:0.1s}@media screen and (max-width: 767px){.asset-row:hover>.asset-row__buttons{width:55%}}.form-view__cell--assets-table-wrapper{min-width:822px}.assets-table{width:100%;background-color:#fff;overflow-x:auto}.assets-table.assets-table--fullscreen{position:fixed;z-index:101;border:15px solid #fff;top:0;left:0;bottom:0;right:0;width:100%;height:100%}.assets-table.assets-table--collection-content{overflow-x:initial;min-width:820px}.assets-table__header .assets-table-row .assets-table-row__column{color:#2d2f39}.assets-table__header,.assets-table__body,.assets-table__footer{min-width:800px}.assets-table__body>.loading{margin:40px auto}.assets-table__scrollbar-padding{background-color:#f1f1f4;align-self:stretch}.assets-table__footer{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:10px;color:#5a5e72;background-color:#f1f1f4;height:40px}.assets-table__footer .mdl-button,.assets-table__footer .popover-menu--new-menu .popover-menu__toggle,.popover-menu--new-menu .assets-table__footer .popover-menu__toggle,.assets-table__footer .popover-menu--question-language .popover-menu__toggle,.popover-menu--question-language .assets-table__footer .popover-menu__toggle,.assets-table__footer .popover-menu--custom-reports .popover-menu__toggle,.popover-menu--custom-reports .assets-table__footer .popover-menu__toggle,.assets-table__footer .form-wrap .error-message__link,.form-wrap .assets-table__footer .error-message__link,.assets-table__footer .formBuilder-header__close,.assets-table__footer .formBuilder-header__button,.assets-table__footer .cascade-popup .cascade-popup__buttonWrapper button,.cascade-popup .cascade-popup__buttonWrapper .assets-table__footer button,.assets-table__footer .form-view__icon-button,.assets-table__footer .form-view--table .ReactTable .-pagination .-btn,.form-view--table .ReactTable .-pagination .assets-table__footer .-btn,.assets-table__footer .rest-services .rest-services-list__header-back-button,.rest-services .assets-table__footer .rest-services-list__header-back-button{margin-left:0;margin-right:0;padding-right:0;padding-left:12px;line-height:32px;height:32px;min-height:32px}.assets-table__footer .mdl-button .k-icon,.assets-table__footer .popover-menu--new-menu .popover-menu__toggle .k-icon,.popover-menu--new-menu .assets-table__footer .popover-menu__toggle .k-icon,.assets-table__footer .popover-menu--question-language .popover-menu__toggle .k-icon,.popover-menu--question-language .assets-table__footer .popover-menu__toggle .k-icon,.assets-table__footer .popover-menu--custom-reports .popover-menu__toggle .k-icon,.popover-menu--custom-reports .assets-table__footer .popover-menu__toggle .k-icon,.assets-table__footer .form-wrap .error-message__link .k-icon,.form-wrap .assets-table__footer .error-message__link .k-icon,.assets-table__footer .formBuilder-header__close .k-icon,.assets-table__footer .formBuilder-header__button .k-icon,.assets-table__footer .cascade-popup .cascade-popup__buttonWrapper button .k-icon,.cascade-popup .cascade-popup__buttonWrapper .assets-table__footer button .k-icon,.assets-table__footer .form-view__icon-button .k-icon,.assets-table__footer .form-view--table .ReactTable .-pagination .-btn .k-icon,.form-view--table .ReactTable .-pagination .assets-table__footer .-btn .k-icon,.assets-table__footer .rest-services .rest-services-list__header-back-button .k-icon,.rest-services .assets-table__footer .rest-services-list__header-back-button .k-icon,.assets-table__footer .mdl-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .mdl-button .ajs-close,.assets-table__footer .popover-menu--new-menu .popover-menu__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .popover-menu--new-menu .popover-menu__toggle .ajs-close,.popover-menu--new-menu .assets-table__footer .popover-menu__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .popover-menu--new-menu .assets-table__footer .popover-menu__toggle .ajs-close,.assets-table__footer .popover-menu--question-language .popover-menu__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .popover-menu--question-language .popover-menu__toggle .ajs-close,.popover-menu--question-language .assets-table__footer .popover-menu__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .popover-menu--question-language .assets-table__footer .popover-menu__toggle .ajs-close,.assets-table__footer .popover-menu--custom-reports .popover-menu__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .popover-menu--custom-reports .popover-menu__toggle .ajs-close,.popover-menu--custom-reports .assets-table__footer .popover-menu__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .popover-menu--custom-reports .assets-table__footer .popover-menu__toggle .ajs-close,.assets-table__footer .form-wrap .error-message__link .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .form-wrap .error-message__link .ajs-close,.form-wrap .assets-table__footer .error-message__link .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-wrap .assets-table__footer .error-message__link .ajs-close,.assets-table__footer .formBuilder-header__close .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .formBuilder-header__close .ajs-close,.assets-table__footer .formBuilder-header__button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .formBuilder-header__button .ajs-close,.assets-table__footer .cascade-popup .cascade-popup__buttonWrapper button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .cascade-popup .cascade-popup__buttonWrapper button .ajs-close,.cascade-popup .cascade-popup__buttonWrapper .assets-table__footer button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .cascade-popup .cascade-popup__buttonWrapper .assets-table__footer button .ajs-close,.assets-table__footer .form-view__icon-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .form-view__icon-button .ajs-close,.assets-table__footer .form-view--table .ReactTable .-pagination .-btn .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .form-view--table .ReactTable .-pagination .-btn .ajs-close,.form-view--table .ReactTable .-pagination .assets-table__footer .-btn .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view--table .ReactTable .-pagination .assets-table__footer .-btn .ajs-close,.assets-table__footer .rest-services .rest-services-list__header-back-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table__footer .rest-services .rest-services-list__header-back-button .ajs-close,.rest-services .assets-table__footer .rest-services-list__header-back-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .rest-services .assets-table__footer .rest-services-list__header-back-button .ajs-close,.assets-table__footer .mdl-button .react-tagsinput-remove,.assets-table__footer .popover-menu--new-menu .popover-menu__toggle .react-tagsinput-remove,.popover-menu--new-menu .assets-table__footer .popover-menu__toggle .react-tagsinput-remove,.assets-table__footer .popover-menu--question-language .popover-menu__toggle .react-tagsinput-remove,.popover-menu--question-language .assets-table__footer .popover-menu__toggle .react-tagsinput-remove,.assets-table__footer .popover-menu--custom-reports .popover-menu__toggle .react-tagsinput-remove,.popover-menu--custom-reports .assets-table__footer .popover-menu__toggle .react-tagsinput-remove,.assets-table__footer .form-wrap .error-message__link .react-tagsinput-remove,.form-wrap .assets-table__footer .error-message__link .react-tagsinput-remove,.assets-table__footer .formBuilder-header__close .react-tagsinput-remove,.assets-table__footer .formBuilder-header__button .react-tagsinput-remove,.assets-table__footer .cascade-popup .cascade-popup__buttonWrapper button .react-tagsinput-remove,.cascade-popup .cascade-popup__buttonWrapper .assets-table__footer button .react-tagsinput-remove,.assets-table__footer .form-view__icon-button .react-tagsinput-remove,.assets-table__footer .form-view--table .ReactTable .-pagination .-btn .react-tagsinput-remove,.form-view--table .ReactTable .-pagination .assets-table__footer .-btn .react-tagsinput-remove,.assets-table__footer .rest-services .rest-services-list__header-back-button .react-tagsinput-remove,.rest-services .assets-table__footer .rest-services-list__header-back-button .react-tagsinput-remove,.assets-table__footer .mdl-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .mdl-button i,.assets-table__footer .popover-menu--new-menu .popover-menu__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .popover-menu--new-menu .popover-menu__toggle i,.popover-menu--new-menu .assets-table__footer .popover-menu__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .popover-menu--new-menu .assets-table__footer .popover-menu__toggle i,.assets-table__footer .popover-menu--question-language .popover-menu__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .popover-menu--question-language .popover-menu__toggle i,.popover-menu--question-language .assets-table__footer .popover-menu__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .popover-menu--question-language .assets-table__footer .popover-menu__toggle i,.assets-table__footer .popover-menu--custom-reports .popover-menu__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .popover-menu--custom-reports .popover-menu__toggle i,.popover-menu--custom-reports .assets-table__footer .popover-menu__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .popover-menu--custom-reports .assets-table__footer .popover-menu__toggle i,.assets-table__footer .form-wrap .error-message__link .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .form-wrap .error-message__link i,.form-wrap .assets-table__footer .error-message__link .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-wrap .assets-table__footer .error-message__link i,.assets-table__footer .formBuilder-header__close .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .formBuilder-header__close i,.assets-table__footer .formBuilder-header__button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .formBuilder-header__button i,.assets-table__footer .cascade-popup .cascade-popup__buttonWrapper button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .cascade-popup .cascade-popup__buttonWrapper button i,.cascade-popup .cascade-popup__buttonWrapper .assets-table__footer button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .cascade-popup .cascade-popup__buttonWrapper .assets-table__footer button i,.assets-table__footer .form-view__icon-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .form-view__icon-button i,.assets-table__footer .form-view--table .ReactTable .-pagination .-btn .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .form-view--table .ReactTable .-pagination .-btn i,.form-view--table .ReactTable .-pagination .assets-table__footer .-btn .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view--table .ReactTable .-pagination .assets-table__footer .-btn i,.assets-table__footer .rest-services .rest-services-list__header-back-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table__footer .rest-services .rest-services-list__header-back-button i,.rest-services .assets-table__footer .rest-services-list__header-back-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .rest-services .assets-table__footer .rest-services-list__header-back-button i,.assets-table__footer .mdl-button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .mdl-button .breadcrumbs__divider,.assets-table__footer .popover-menu--new-menu .popover-menu__toggle .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .popover-menu--new-menu .popover-menu__toggle .breadcrumbs__divider,.popover-menu--new-menu .assets-table__footer .popover-menu__toggle .breadcrumbs .breadcrumbs__divider,.breadcrumbs .popover-menu--new-menu .assets-table__footer .popover-menu__toggle .breadcrumbs__divider,.assets-table__footer .popover-menu--question-language .popover-menu__toggle .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .popover-menu--question-language .popover-menu__toggle .breadcrumbs__divider,.popover-menu--question-language .assets-table__footer .popover-menu__toggle .breadcrumbs .breadcrumbs__divider,.breadcrumbs .popover-menu--question-language .assets-table__footer .popover-menu__toggle .breadcrumbs__divider,.assets-table__footer .popover-menu--custom-reports .popover-menu__toggle .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .popover-menu--custom-reports .popover-menu__toggle .breadcrumbs__divider,.popover-menu--custom-reports .assets-table__footer .popover-menu__toggle .breadcrumbs .breadcrumbs__divider,.breadcrumbs .popover-menu--custom-reports .assets-table__footer .popover-menu__toggle .breadcrumbs__divider,.assets-table__footer .form-wrap .error-message__link .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .form-wrap .error-message__link .breadcrumbs__divider,.form-wrap .assets-table__footer .error-message__link .breadcrumbs .breadcrumbs__divider,.breadcrumbs .form-wrap .assets-table__footer .error-message__link .breadcrumbs__divider,.assets-table__footer .formBuilder-header__close .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .formBuilder-header__close .breadcrumbs__divider,.assets-table__footer .formBuilder-header__button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .formBuilder-header__button .breadcrumbs__divider,.assets-table__footer .cascade-popup .cascade-popup__buttonWrapper button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .cascade-popup .cascade-popup__buttonWrapper button .breadcrumbs__divider,.cascade-popup .cascade-popup__buttonWrapper .assets-table__footer button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .cascade-popup .cascade-popup__buttonWrapper .assets-table__footer button .breadcrumbs__divider,.assets-table__footer .form-view__icon-button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .form-view__icon-button .breadcrumbs__divider,.assets-table__footer .form-view--table .ReactTable .-pagination .-btn .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .form-view--table .ReactTable .-pagination .-btn .breadcrumbs__divider,.form-view--table .ReactTable .-pagination .assets-table__footer .-btn .breadcrumbs .breadcrumbs__divider,.breadcrumbs .form-view--table .ReactTable .-pagination .assets-table__footer .-btn .breadcrumbs__divider,.assets-table__footer .rest-services .rest-services-list__header-back-button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table__footer .rest-services .rest-services-list__header-back-button .breadcrumbs__divider,.rest-services .assets-table__footer .rest-services-list__header-back-button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .rest-services .assets-table__footer .rest-services-list__header-back-button .breadcrumbs__divider{font-size:32px;float:right}.assets-table--MY_LIBRARY,.assets-table--PUBLIC_COLLECTIONS{height:calc(100% - 70px);display:flex;flex-direction:column}.assets-table--MY_LIBRARY .assets-table__body,.assets-table--PUBLIC_COLLECTIONS .assets-table__body{flex:1;overflow-y:auto}.assets-table-pagination{display:inline-block;color:inherit}.assets-table-pagination__index{display:inline;margin:0 10px}.assets-table-pagination__button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;padding:0;margin:0;border:0;cursor:pointer;color:inherit;height:20px}.assets-table-pagination__button:hover{opacity:0.8}.assets-table-pagination__button:active{opacity:0.6}.assets-table-pagination__button[disabled]{opacity:0.5;pointer-events:none}.assets-table-pagination__button .k-icon,.assets-table-pagination__button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table-pagination__button .ajs-close,.assets-table-pagination__button .react-tagsinput-remove,.assets-table-pagination__button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table-pagination__button i,.assets-table-pagination__button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table-pagination__button .breadcrumbs__divider{font-size:20px;display:inline-block;vertical-align:middle}.assets-table-row{display:flex;flex-direction:row;position:relative;align-items:flex-start}.assets-table-row.assets-table-row--asset:hover{background-color:#e9fafb}.assets-table-row.assets-table-row--asset:hover .assets-table-row__buttons{opacity:1;visibility:visible}.assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status{padding:13px 0 0 0}.assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status .k-icon,.assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status .ajs-close,.assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status .react-tagsinput-remove,.assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status i,.assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status .breadcrumbs__divider{font-size:32px}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--name .asset-name{font-weight:700}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .k-icon,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .ajs-close,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .react-tagsinput-remove,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status i,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .breadcrumbs__divider{position:relative}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .k-icon::before,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .alertify-notifier .ajs-message .ajs-close::before,.alertify-notifier .ajs-message .assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .ajs-close::before,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .react-tagsinput-remove::before,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status i::before,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .breadcrumbs .breadcrumbs__divider::before,.breadcrumbs .assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .breadcrumbs__divider::before{position:relative;z-index:1;color:#fff}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .k-icon::after,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .alertify-notifier .ajs-message .ajs-close::after,.alertify-notifier .ajs-message .assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .ajs-close::after,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .react-tagsinput-remove::after,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::after,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status i::after,.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .breadcrumbs .breadcrumbs__divider::after,.breadcrumbs .assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .breadcrumbs__divider::after{content:"";background-color:#22b6c3;position:absolute;z-index:0;top:0;left:-5px;right:-5px;height:100%;border-radius:6px}.assets-table-row:first-of-type .assets-table-row__column{border-top-color:transparent}.assets-table-row:first-of-type:hover .assets-table-row__column{border-top-color:#e2e3e9}.assets-table-row .assets-table-row__header-label,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu__toggle{font-size:0.9rem}.assets-table-row.assets-table-row--header .assets-table-row__column{border-top:0;cursor:pointer;font-weight:700;white-space:nowrap;height:40px;line-height:20px;background-color:#f1f1f4;padding:10px}.assets-table-row.assets-table-row--header .assets-table-row__column:hover{background-color:#e2e3e9}.assets-table-row.assets-table-row--header .assets-table-row__column .k-icon,.assets-table-row.assets-table-row--header .assets-table-row__column .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table-row.assets-table-row--header .assets-table-row__column .ajs-close,.assets-table-row.assets-table-row--header .assets-table-row__column .react-tagsinput-remove,.assets-table-row.assets-table-row--header .assets-table-row__column .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table-row.assets-table-row--header .assets-table-row__column i,.assets-table-row.assets-table-row--header .assets-table-row__column .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table-row.assets-table-row--header .assets-table-row__column .breadcrumbs__divider{font-size:20px;min-width:20px;width:20px;display:inline-block}.assets-table-row.assets-table-row--header .assets-table-row__column .k-icon.k-icon-filter-arrows,.assets-table-row.assets-table-row--header .assets-table-row__column .alertify-notifier .ajs-message .k-icon-filter-arrows.ajs-close,.alertify-notifier .ajs-message .assets-table-row.assets-table-row--header .assets-table-row__column .k-icon-filter-arrows.ajs-close,.assets-table-row.assets-table-row--header .assets-table-row__column .k-icon-filter-arrows.react-tagsinput-remove,.assets-table-row.assets-table-row--header .assets-table-row__column .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-filter-arrows,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table-row.assets-table-row--header .assets-table-row__column i.k-icon-filter-arrows,.assets-table-row.assets-table-row--header .assets-table-row__column .breadcrumbs .k-icon-filter-arrows.breadcrumbs__divider,.breadcrumbs .assets-table-row.assets-table-row--header .assets-table-row__column .k-icon-filter-arrows.breadcrumbs__divider{font-size:12px;margin-left:0px !important}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu{display:block}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle{display:block;color:currentColor}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle:hover{color:currentColor}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle .k-icon,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle .ajs-close,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle .react-tagsinput-remove,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle i,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle .breadcrumbs__divider{margin:-5px}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content{top:28px;z-index:30;padding:10px;max-width:calc(100% + 20px);min-width:auto;left:-10px}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content .k-icon,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content .ajs-close,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content .react-tagsinput-remove,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content i,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content .breadcrumbs__divider{margin:-2px}.assets-table-row.assets-table-row--empty-message{padding:40px;font-size:1.2rem;justify-content:center;text-align:center}.assets-table-row.assets-table-row--empty-message .pro-tip{font-size:1rem;margin-top:20px}.assets-table-row .assets-table-row__link{cursor:pointer;position:absolute;z-index:10;top:0;left:0;width:100%;height:100%}.assets-table-row .assets-table-row__column{border-top:1px solid #e2e3e9;padding:20px 10px;color:#5a5e72}.assets-table-row .assets-table-row__column[disabled]{pointer-events:none}.assets-table-row .assets-table-row__column.assets-table-row__column--icon-status{width:70px;text-align:center}.assets-table-row .assets-table-row__column.assets-table-row__column--name{flex:1;color:#2d2f39}.assets-table-row .assets-table-row__column.assets-table-row__column--owner{width:10%}.assets-table-row .assets-table-row__column.assets-table-row__column--subscribers-count{width:10%}.assets-table-row .assets-table-row__column.assets-table-row__column--organization{width:10%}.assets-table-row .assets-table-row__column.assets-table-row__column--languages{width:12.5%}.assets-table-row .assets-table-row__column.assets-table-row__column--primary-sector{width:15%}.assets-table-row .assets-table-row__column.assets-table-row__column--country{width:7.5%}.assets-table-row .assets-table-row__column.assets-table-row__column--date-modified{width:17.5%;text-align:right}.assets-table-row .assets-table-row__column .k-icon,.assets-table-row .assets-table-row__column .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .assets-table-row .assets-table-row__column .ajs-close,.assets-table-row .assets-table-row__column .react-tagsinput-remove,.assets-table-row .assets-table-row__column .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .assets-table-row .assets-table-row__column i,.assets-table-row .assets-table-row__column .breadcrumbs .breadcrumbs__divider,.breadcrumbs .assets-table-row .assets-table-row__column .breadcrumbs__divider{vertical-align:middle}.assets-table-row__tags{display:block;margin-top:5px}.assets-table-row__tag{display:inline-block;vertical-align:middle;padding:3px 5px;font-size:12px;line-height:1;color:currentColor;background:#e2e3e9;border-radius:2px}.assets-table-row__tag.assets-table-row__tag--gray-circle{min-width:18px;border-radius:1em;text-align:center}.assets-table-row__buttons{position:absolute;z-index:20;top:1px;right:0;bottom:0;opacity:0;visibility:hidden;background-color:#e9fafb;padding:13px 10px 0 0}.assets-table-row__buttons::before{content:\'\';position:absolute;right:100%;top:0;height:100%;width:15px;background:linear-gradient(90deg, transparent, #e9fafb)}.asset-action-buttons{display:flex;align-items:center;height:32px;margin:0;padding:0;text-align:right}.asset-action-buttons:not(:first-child){margin-left:15px}.asset-action-buttons .k-icon,.asset-action-buttons .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .asset-action-buttons .ajs-close,.asset-action-buttons .react-tagsinput-remove,.asset-action-buttons .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .asset-action-buttons i,.asset-action-buttons .breadcrumbs .breadcrumbs__divider,.breadcrumbs .asset-action-buttons .breadcrumbs__divider{font-size:32px;color:inherit}.asset-action-buttons .popover-menu__toggle .k-icon,.asset-action-buttons .popover-menu__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .asset-action-buttons .popover-menu__toggle .ajs-close,.asset-action-buttons .popover-menu__toggle .react-tagsinput-remove,.asset-action-buttons .popover-menu__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .asset-action-buttons .popover-menu__toggle i,.asset-action-buttons .popover-menu__toggle .breadcrumbs .breadcrumbs__divider,.breadcrumbs .asset-action-buttons .popover-menu__toggle .breadcrumbs__divider{display:block}.asset-action-buttons__button,.asset-action-buttons__icon-button{display:block;cursor:pointer}.asset-action-buttons__button .k-icon,.asset-action-buttons__button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .asset-action-buttons__button .ajs-close,.asset-action-buttons__button .react-tagsinput-remove,.asset-action-buttons__button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .asset-action-buttons__button i,.asset-action-buttons__button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .asset-action-buttons__button .breadcrumbs__divider,.asset-action-buttons__icon-button .k-icon,.asset-action-buttons__icon-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .asset-action-buttons__icon-button .ajs-close,.asset-action-buttons__icon-button .react-tagsinput-remove,.asset-action-buttons__icon-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .asset-action-buttons__icon-button i,.asset-action-buttons__icon-button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .asset-action-buttons__icon-button .breadcrumbs__divider{display:block;font-size:32px;color:inherit}.asset-action-buttons__button{border-radius:3px;font-size:0.9em;font-weight:500;text-transform:uppercase;overflow:hidden;position:relative;padding:5px 8px 5px 30px;color:#5a5e72;background-color:transparent;border:1px solid currentColor}.asset-action-buttons__button:hover{color:#fff;background-color:#5a5e72;border-color:#5a5e72}.asset-action-buttons__button:active{transform:translateY(1px)}.asset-action-buttons__button[disabled]{pointer-events:none}.asset-action-buttons__button[disabled].asset-action-buttons__button--on,.asset-action-buttons__button[disabled].asset-action-buttons__button--off{color:#b8bac7}.asset-action-buttons__button.asset-action-buttons__button--pending.asset-action-buttons__button--on,.asset-action-buttons__button.asset-action-buttons__button--pending.asset-action-buttons__button--off{padding-left:8px}.asset-action-buttons__button .k-icon,.asset-action-buttons__button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .asset-action-buttons__button .ajs-close,.asset-action-buttons__button .react-tagsinput-remove,.asset-action-buttons__button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .asset-action-buttons__button i,.asset-action-buttons__button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .asset-action-buttons__button .breadcrumbs__divider{position:absolute;top:50%;transform:translateY(-50%);left:0}.asset-action-buttons__button.asset-action-buttons__button--on{color:#22b6c3}.asset-action-buttons__button.asset-action-buttons__button--on:hover{color:#fff;background-color:#22b6c3;border-color:#22b6c3}.asset-action-buttons__button.asset-action-buttons__button--off{color:#e84a5f}.asset-action-buttons__button.asset-action-buttons__button--off:hover{color:#fff;background-color:#e84a5f;border-color:#e84a5f}.asset-action-buttons__icon-button{color:#5a5e72}.asset-action-buttons__icon-button:hover{color:#259af4}.asset-action-buttons__button+.asset-action-buttons__icon-button{margin-left:5px}.library-asset-list{list-style-type:none;padding:0;margin:0 -10px;margin:0}.library-asset-list__item{border-bottom:1px solid #e2e3e9;padding-left:20px;position:relative}.l-a__item__draggable{position:absolute;top:50%;left:3px;width:12px;height:12px;margin-top:-8px;background-color:#e2e3e9;border-radius:6px}.lib-nav__header{display:flex;flex-wrap:wrap}.lib-nav__header .kobo-select{width:100%}.lib-nav__search{margin:0 0 10px;flex-grow:1}.lib-nav__search .search{margin:0}.lib-nav__search .search .search__icon,.lib-nav__search .search .search__cancel{display:none}.lib-nav__search .search input{font-size:inherit;padding:5px 8px;width:100%;color:inherit;border:1px solid #e2e3e9;border-radius:3px;background:#fff}.lib-nav__search .search input::-moz-placeholder{color:inherit;opacity:0.75}.lib-nav__search .search input:-ms-input-placeholder{color:inherit;opacity:0.75}.lib-nav__search .search input::-ms-input-placeholder{color:inherit;opacity:0.75}.lib-nav__search .search input::placeholder{color:inherit;opacity:0.75}.lib-nav__expanded,.lib-nav__header .tag-select,.lib-nav__header .collection-filter{display:flex;justify-content:space-around;align-items:center;width:100%;margin-bottom:10px}.lib-nav__expanded{padding-bottom:10px;margin-bottom:20px;border-bottom:1px solid #e2e3e9}.lib-nav__header .tag-select{z-index:100}.lib-nav__header .tag-select,.lib-nav__header .collection-filter{position:relative}.lib-nav__header .tag-select .kobo-select__menu,.lib-nav__header .collection-filter .kobo-select__menu{max-width:390px}.lib-nav__header .tag-select i.fa-search,.lib-nav__header .tag-select .mdl-layout__header .search i.search__icon,.mdl-layout__header .search .lib-nav__header .tag-select i.search__icon,.lib-nav__header .collection-filter i.fa-search,.lib-nav__header .collection-filter .mdl-layout__header .search i.search__icon,.mdl-layout__header .search .lib-nav__header .collection-filter i.search__icon{display:none}.lib-nav__header .collection-filter{z-index:99}.lib-list{list-style-type:none;padding:0}.lib-list--empty .lib-list__item{cursor:default}.lib-list--done .lib-list__item{cursor:grab;cursor:-webkit-grab}.lib-list__item{border:1px solid #e2e3e9;padding-left:20px;position:relative;margin:5px 0;background-color:#fff}.lib-list__item.sortable-active:after{content:\'importing...\'}.lib-list__item.ui-sortable-helper{cursor:grabbing;cursor:-webkit-grabbing}.lib-list__item.ui-sortable-helper{background-color:#fff}.lib-list__item ol{font-size:smaller;opacity:0.7;margin-bottom:6px;line-height:1.3em}.lib-list__tags{line-height:14px;font-size:11px;padding-left:5px}.lib-list__tag{max-width:90%;overflow:hidden}.lib-list__dragbox{position:absolute;top:50%;left:5px;width:12px;height:12px;margin-top:-8px;background-color:#e2e3e9;border-radius:6px}.lib-list__label{padding:5px;line-height:1.4em}.lib-list__label .asset-name{font-weight:600}.lib-list__qtype{padding:0 5px;font-weight:600;opacity:0.7;font-size:smaller}.page-wrapper__content--form-landing .form-view{height:calc(100% - 48px)}.form-view{width:100%;height:100%;overflow-y:auto;background:#f1f1f4}.form-view.form-view--fullscreen{position:fixed;z-index:101;top:0;left:0;bottom:0;right:0;width:100%;height:100%;min-width:100%;max-width:100%;min-height:100%;max-height:100%}.form-view__sidetabs{width:170px;height:100%;max-height:calc(100% - 48px);overflow-x:hidden;overflow-y:auto;float:left;background:#fff;border-right:1px solid #e2e3e9}.form-view__sidetabs+.form-view,.form-view__sidetabs+.report-view,.form-view__sidetabs+.loading{width:calc(100% - 170px);height:calc(100% - 48px);overflow:auto;overflow-x:hidden}.form-view__sidetabs+.loading{display:flex;justify-content:center;align-items:center;align-content:center}.form-view__sidetabs+.loading .loading__inner code{margin:20px auto}.form-view__sidetabs+.form-view.form-view--table{overflow:hidden}.form-view__sidetabs a.form-view__tab{background:transparent;border:none;padding:6px;border-left:2px solid transparent;font-size:14px;cursor:pointer;position:relative;color:#5a5e72;font-weight:normal;letter-spacing:-0.01em;display:block;margin-left:10px}.form-view__sidetabs a.form-view__tab:hover,.form-view__sidetabs a.form-view__tab.active{color:#2d2f39}.form-view__sidetabs a.form-view__tab.active{font-weight:700}.form-view__sidetabs a.form-view__tab.active::before{content:"";position:absolute;width:4px;height:100%;top:0;left:-10px;background-color:#22b6c3}.form-view__sidetabs a.form-view__tab i{font-size:36px;vertical-align:-13px;margin-right:4px}.form-view__sidetabs a.form-view__tab span{vertical-align:middle}.form-view__toptabs{background:#fff;border-bottom:1px solid #e2e3e9;text-align:center;height:48px;position:relative;display:flex;flex-direction:row;justify-content:center;align-items:stretch}.form-view__toptabs a.form-view__tab{background:transparent;border:none;border-bottom:2px solid transparent;text-transform:uppercase;line-height:48px;margin:0 30px;font-size:15px;cursor:pointer;position:relative;color:#5a5e72;font-weight:normal}.form-view__toptabs a.form-view__tab:hover,.form-view__toptabs a.form-view__tab.active{color:#2d2f39}.form-view__toptabs a.form-view__tab.active{font-weight:700;border-bottom:4px solid #22b6c3}.form-view__toptabs a.form-view__link--close{position:absolute;right:0;top:5px}.form-view__row{margin:40px}.form-view__row+.form-view__row{margin-top:0}.form-view__row.historyHidden{margin:0}.form-view__row.historyHidden .form-view__cell--history-label,.form-view__row.historyHidden .form-view__cell--history-table{max-height:0;overflow:hidden;transition:0.2s max-height;padding-bottom:0}.form-view__row.historyExpanded .form-view__cell--history-label,.form-view__row.historyExpanded .form-view__cell--history-table{transition:0.2s max-height;max-height:99999px}.form-view__row.historyExpanded .form-view__cell--history-table+.form-view__cell{padding-top:20px}.form-view__row--history .form-view__cell--history-table{margin-bottom:20px}.form-view__cell-label{font-size:12px;opacity:0.6}.form-view__cell.form-view__cell--box{background-color:#fff}.form-view__cell.form-view__cell--bordered{border:1px solid #e2e3e9}.form-view__cell.form-view__cell--columns{display:flex;justify-content:space-between;align-items:center}.form-view__cell.form-view__cell--columns.form-view__cell--columns-right{justify-content:flex-end}.form-view__cell.form-view__cell--columns.form-view__cell--columns-top{align-items:flex-start}.form-view__cell.form-view__cell--columns .form-view__cell--stretch{flex:1}.form-view__cell.form-view__cell--column-1{flex:1}.form-view__cell.form-view__cell--column-2{flex:2}.form-view__cell.form-view__cell--column-icon{width:30px;margin-right:10px;text-align:center;color:#5a5e72}.form-view__cell.form-view__cell--toggle-details button{cursor:pointer;color:#259af4;background:transparent;border:0;padding:5px;text-align:center}.form-view__cell.form-view__cell--toggle-details button:hover{color:#0b81da}.form-view__cell.form-view__cell--toggle-details button:active{transform:translateY(1px)}.form-view__cell.form-view__cell--toggle-details button .k-icon,.form-view__cell.form-view__cell--toggle-details button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--toggle-details button .ajs-close,.form-view__cell.form-view__cell--toggle-details button .react-tagsinput-remove,.form-view__cell.form-view__cell--toggle-details button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--toggle-details button i,.form-view__cell.form-view__cell--toggle-details button .breadcrumbs .breadcrumbs__divider,.breadcrumbs .form-view__cell.form-view__cell--toggle-details button .breadcrumbs__divider{font-size:24px;vertical-align:-8px}.form-view__cell.form-view__cell--asset-content-summary-name{line-height:1}.form-view__cell.form-view__cell--bordertop{border-top:1px solid #e2e3e9}.form-view__cell.form-view__cell--padding{padding:20px}.form-view__cell.form-view__cell--padding-small{padding:10px 20px}.form-view__cell.form-view__cell--label{font-size:14px;color:#2d2f39;font-weight:500}.form-view__cell.form-view__cell--label span{display:block;color:#5a5e72;font-size:12px}.form-view__cell.form-view__cell--label::first-letter{text-transform:uppercase}.form-view__cell.form-view__cell--first{padding-bottom:20px;position:relative}.form-view__cell.form-view__cell--first .form-view__group{position:absolute;right:0;top:-12px;min-width:200px;text-align:right}.form-view__cell.form-view__cell--buttons{text-align:right}.form-view__cell.form-view__cell--buttons a.mdl-button,.form-view__cell.form-view__cell--buttons .popover-menu--new-menu a.popover-menu__toggle,.popover-menu--new-menu .form-view__cell.form-view__cell--buttons a.popover-menu__toggle,.form-view__cell.form-view__cell--buttons .popover-menu--question-language a.popover-menu__toggle,.popover-menu--question-language .form-view__cell.form-view__cell--buttons a.popover-menu__toggle,.form-view__cell.form-view__cell--buttons .popover-menu--custom-reports a.popover-menu__toggle,.popover-menu--custom-reports .form-view__cell.form-view__cell--buttons a.popover-menu__toggle,.form-view__cell.form-view__cell--buttons .form-wrap a.error-message__link,.form-wrap .form-view__cell.form-view__cell--buttons a.error-message__link,.form-view__cell.form-view__cell--buttons a.formBuilder-header__close,.form-view__cell.form-view__cell--buttons a.formBuilder-header__button,.form-view__cell.form-view__cell--buttons a.form-view__icon-button,.form-view__cell.form-view__cell--buttons .form-view--table .ReactTable .-pagination a.-btn,.form-view--table .ReactTable .-pagination .form-view__cell.form-view__cell--buttons a.-btn,.form-view__cell.form-view__cell--buttons .rest-services a.rest-services-list__header-back-button,.rest-services .form-view__cell.form-view__cell--buttons a.rest-services-list__header-back-button{text-transform:uppercase;padding-left:30px;padding-right:30px}.form-view__cell.form-view__cell--version{font-weight:600;display:inline-block}.form-view__cell.form-view__cell--undeployed{display:inline-block}.form-view__cell.form-view__cell--back-button{margin-right:20px}.form-view__cell.form-view__cell--back-button:first-child .k-icon,.form-view__cell.form-view__cell--back-button:first-child .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--back-button:first-child .ajs-close,.form-view__cell.form-view__cell--back-button:first-child .react-tagsinput-remove,.form-view__cell.form-view__cell--back-button:first-child .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--back-button:first-child i,.form-view__cell.form-view__cell--back-button:first-child .breadcrumbs .breadcrumbs__divider,.breadcrumbs .form-view__cell.form-view__cell--back-button:first-child .breadcrumbs__divider{margin-left:-10px}.form-view__cell.form-view__cell--subscribed-badge{margin-left:20px;margin-right:20px;line-height:32px}.form-view__cell.form-view__cell--subscribed-badge .k-icon,.form-view__cell.form-view__cell--subscribed-badge .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--subscribed-badge .ajs-close,.form-view__cell.form-view__cell--subscribed-badge .react-tagsinput-remove,.form-view__cell.form-view__cell--subscribed-badge .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--subscribed-badge i,.form-view__cell.form-view__cell--subscribed-badge .breadcrumbs .breadcrumbs__divider,.breadcrumbs .form-view__cell.form-view__cell--subscribed-badge .breadcrumbs__divider{font-size:32px;vertical-align:top;color:#22b6c3}.form-view__cell.form-view__cell--label+.form-view__cell.form-view__cell--action-buttons{margin:-8px 0}.form-view__cell.form-view__cell--date{font-weight:normal;opacity:0.8;display:inline-block}.form-view__cell.form-view__cell--date:not(:first-child){margin-left:6px}.form-view__cell.form-view__cell--translation-list ul{list-style:none;display:inline}.form-view__cell.form-view__cell--translation-list ul li{display:inline}.form-view__cell.form-view__cell--translation-list ul li:not(:last-child)::after{content:\', \'}.form-view__cell.form-view__cell--thin-label{color:#5a5e72;opacity:0.6;font-size:12px;line-height:18px;margin-bottom:10px}.form-view__cell.form-view__cell--centered{text-align:center}.form-view__cell.form-view__cell--centered button{text-transform:uppercase}.form-view__cell.form-view__cell--deployed{margin-left:10px;display:inline-block;padding:6px;color:#fff;background-color:#28bd70;border-radius:2px}.form-view__cell.form-view__cell--warning{background-color:#fcf2e8;color:#b86614;border:1px solid #e6801a;padding:10px;display:flex;flex-direction:row;align-items:center}.form-view__cell.form-view__cell--warning i{color:#e6801a;font-size:32px;margin-right:5px;vertical-align:-11px;display:inline-block}.form-view__cell.form-view__cell--warning p{margin:0}.form-view__cell.form-view__cell--translation-modal-warning{margin-bottom:20px}.form-view__icon-button{overflow:visible;padding:0;height:32px;line-height:32px;min-height:32px}.form-view__icon-button>i{vertical-align:-0.34375em}.form-view__link{font-size:36px;line-height:18px;padding:0 5px;color:#5a5e72;cursor:pointer;vertical-align:middle;display:inline-block}.form-view__link:hover{color:#259af4}.form-view__link--disabled,.form-view__link--disabled:hover{color:#b8bac7}@-webkit-keyframes recent{0%{background-color:#fff}10%{background-color:#86c7f9}100%{background-color:#e7f4fe}}@keyframes recent{0%{background-color:#fff}10%{background-color:#86c7f9}100%{background-color:#e7f4fe}}@-webkit-keyframes processing{0%{opacity:1}25%{opacity:0.6}50%{opacity:1}100%{opacity:1}}@keyframes processing{0%{opacity:1}25%{opacity:0.6}50%{opacity:1}100%{opacity:1}}.form-view__group .dropzone{display:inline}.form-view__group .popover-menu .popover-menu__toggle{height:36px}.form-view__group.form-view__group--items{padding:0;border-top:1px solid #e2e3e9;display:flex;align-items:center}.form-view__group.form-view__group--items:first-child{border-top:none}.form-view__group.form-view__group--items>.form-view__label{text-align:right;width:30%;padding:10px;vertical-align:middle}.form-view__group.form-view__group--items>.form-view__label--version{width:39%;text-align:left}.form-view__group.form-view__group--items .form-view__link{opacity:0.8}.form-view__group.form-view__group--items .form-view__link--export-download{opacity:0.9;font-size:42px}.form-view__group.form-view__group--items .form-view__link--export-delete{opacity:0.9;vertical-align:middle;color:#ed7887;font-size:24px}.form-view__group.form-view__group--items .form-view__link--export-delete:hover{color:#e84a5f;opacity:1}.form-view__group.form-view__group--items.recent{background-color:#e7f4fe;-webkit-animation:recent 5s 1;animation:recent 5s 1}.form-view__group.form-view__group--items .animate-processing{-webkit-animation:processing 1.5s infinite;animation:processing 1.5s infinite}.form-view__group .form-view__group--deployments .form-view__group--items:hover{background:#f1f1f4}.form-view__group .form-view__group--headings{font-weight:600;border-top:none}.form-view__group .form-view__group--headings:hover{background:transparent}.form-view--form-settings,.form-view--settings-sharing{background:#fff;padding:40px}.form-modal__form.form-modal__form--pending{pointer-events:none;opacity:0.8}.form-view.form-view--form-settings-sharing .form-modal{background:#fff;padding:40px;height:100%;overflow:auto}.form-view.form-view--form-data-downloads .form-modal__item:last-child{margin-bottom:0}.form-view.form-view--form-data-downloads .form-modal__item--export-type,.form-view.form-view--form-data-downloads .form-modal__item--export-format{width:48%;float:left}.form-view.form-view--form-data-downloads .form-modal__item--export-format{margin-left:2%}.form-view.form-view--form-data-downloads .form-modal__item--export-fields-from-all-versions,.form-view.form-view--form-data-downloads .form-modal__item--export-group-headers,.form-view.form-view--form-data-downloads .form-modal__item--export-submit{clear:both}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label{text-align:left;padding:4px 10px}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--type{width:10%;text-transform:uppercase}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--action{flex-grow:1;text-align:right;line-height:40px}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--lang{flex-shrink:1}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__group--headings{padding:8px 0}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__group--headings .form-view__label--type{text-transform:none}@media screen and (max-width: 980px){.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--date,.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--include-groups,.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--multi-versioned{display:none}}.form-view__cell--iframe{width:100%;height:100%;overflow:hidden}.form-view__cell--iframe iframe{width:100%;height:100%;overflow:auto;padding-right:5px}.form-modal__item--downloads iframe{min-width:100%;min-height:400px}.form-view__cell--collect-meta pre{display:block;margin:10px 0;padding:10px;border:1px solid #e2e3e9;background:#f1f1f4;font-size:13px;white-space:normal}.form-view__cell--collect-meta ol{margin:0;padding:0;margin-left:15px;margin-bottom:25px}.form-view__cell--collect-meta ol li{margin-bottom:5px;padding:5px}.form-view__cell--collect-meta ol i{margin:0 6px;font-size:18px;display:inline-block}.form-view__cell--collect-meta code{padding:4px;border:1px solid #e2e3e9;background:#f1f1f4;margin-left:5px;margin-right:5px}.form-view__cell--collect-meta .form-view__cell{margin-top:25px}@media screen and (max-height: 420px){.form-view__sidetabs{padding-top:0}.form-view__sidetabs a.form-view__tab{padding-top:0;padding-bottom:0}}@media screen and (max-width: 767px){.form-view__sidetabs{width:50px}.form-view__sidetabs a.form-view__tab{padding-right:3px;padding-left:1px;font-size:10px;line-height:1.5em;text-align:center;display:block;letter-spacing:-0.05em}.form-view__sidetabs a.form-view__tab span{display:none}.form-view__toptabs{height:39px}.form-view__toptabs a.form-view__tab{font-size:12px}.form-view__toptabs a.form-view__link{font-size:28px}.form-view__sidetabs+.form-view{width:calc(100% - 50px);overflow-x:hidden}.form-view__toptabs+.form-view{height:calc(100% - 39px)}.form-view a.form-view__link{font-size:32px;padding:0 3px}.form-view__row{margin:16px;margin-bottom:24px}.form-view__cell--question-list{margin-left:20px}.form-view--form-settings,.form-view--settings-sharing{padding:20px}.form-view__cell--warning i{display:none}.form-view__cell--date{display:block;margin-left:0}}.form-modal__form.form-modal__form--bulk-edit-submissions .form-modal__item--wrapper>a:hover{text-decoration:underline}.form-modal__form.form-modal__form--bulk-edit-submissions h2{font-size:inherit;font-weight:600;margin:0 auto 10px}.form-modal__form.form-modal__form--bulk-edit-submissions i.blue-response-dot{width:6px;height:6px;display:inline-block;vertical-align:middle;background:#259af4;border-radius:100%;margin-right:6px}.form-modal__form.form-modal__form--bulk-edit-submissions .text-box.text-box--bulk-edit-response .text-box__input{min-height:90px}.form-modal__form.form-modal__form--bulk-edit-submissions .modal__footer .footer-back-button{float:left}.form-view--library-asset{background:#fff}.form-view__group.form-view__group--description-cols{padding:20px;display:flex}.form-view__group.form-view__group--description-cols>.form-view__cell{width:50%}.form-view__group.form-view__group--description-cols>.form-view__cell .form-view__label{font-size:12px;opacity:0.6}.form-view__row--summary-description .form-view__cell--description:not(:first-child){border-top:1px solid #e2e3e9}.form-view__group.form-view__group--summary-details-cols{display:flex;align-items:flex-start}.form-view__group.form-view__group--summary-details-cols>.form-view__cell{padding:15px 20px;flex-grow:1}.form-view__group.form-view__group--summary-details-cols>.form-view__cell:first-child{flex-grow:2}.form-view__group.form-view__group--summary-details-cols>.form-view__cell .form-view__label{font-size:12px;opacity:0.6}.form-view__cell.form-view__cell--subs-graph{padding:30px;padding-bottom:0px}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle{padding-bottom:20px}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a+a{margin-left:15px}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a{display:inline-block;padding:8px;color:#22b6c3;cursor:pointer;font-size:16px;background:transparent}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a.active{color:#fff;background:#22b6c3;position:relative}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a.active::after{width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #22b6c3;content:\'\';position:absolute;bottom:-9px;left:50%;margin-left:-10px}.form-view__group.form-view__group--submission-stats{padding:30px;display:flex}.form-view__group.form-view__group--submission-stats .form-view__cell{border:1px solid #e2e3e9;padding:20px;flex:2;margin-right:10px}.form-view__group.form-view__group--submission-stats .form-view__cell:last-child{flex:1;margin-right:0px}.form-view__group.form-view__group--submission-stats .subs-graph-number{font-size:32px;font-weight:600;color:#22b6c3}.form-view__cell.form-view__cell--data-tabs a{display:block;padding:6px 10px;color:#5a5e72;border-bottom:1px solid #e2e3e9;position:relative}.form-view__cell.form-view__cell--data-tabs a:last-child{border-bottom:none}.form-view__cell.form-view__cell--data-tabs a:hover{color:#2d2f39;background:#e9fafb}.form-view__cell.form-view__cell--data-tabs a i{font-size:32px;margin-right:6px;vertical-align:middle}.form-view__cell.form-view__cell--data-tabs a i.fa,.form-view__cell.form-view__cell--data-tabs a .message--loading>i:first-child,.form-view__cell.form-view__cell--data-tabs a .loading i:first-child,.loading .form-view__cell.form-view__cell--data-tabs a i:first-child,.form-view__cell.form-view__cell--data-tabs a .mdl-layout__header .search i.search__icon,.mdl-layout__header .search .form-view__cell.form-view__cell--data-tabs a i.search__icon,.form-view__cell.form-view__cell--data-tabs a .mdl-layout__header .search i.search__cancel,.mdl-layout__header .search .form-view__cell.form-view__cell--data-tabs a i.search__cancel,.form-view__cell.form-view__cell--data-tabs a i.right-and-down-caret,.form-view__cell.form-view__cell--data-tabs a .formBuilder-header__button>i{font-size:24px;position:absolute;right:10px;top:50%;margin-top:-12px;line-height:24px}.form-view__row.form-view__row--team{position:relative}.form-view__row.form-view__row--team .form-view__cell--box{display:flex;justify-content:flex-start;flex-wrap:wrap}.form-view__row.form-view__row--team .user-row{margin:0;border-bottom:0px;margin-right:0px}.form-view__row.form-view__row--team a.team-sharing-button{cursor:pointer;color:#5a5e72;position:absolute;right:0px;top:-6px}.form-view__row.form-view__row--team a.team-sharing-button i{font-size:32px}.form-view__row.form-view__row--team a.team-sharing-button:hover{color:#259af4}.form-view__cell.form-view__cell--summary-chart{position:relative;height:0px;overflow:hidden}.form-view__cell.form-view__cell--summary-chart+.form-view__cell--chart-no-data{height:100px;justify-content:center;align-items:center;display:flex;border:1px solid #e2e3e9}.form-view__cell.form-view__cell--summary-chart+.form-view__cell--chart-no-data span{font-size:16px;margin:10px}.form-view__cell.form-view__cell--summary-chart.active{height:275px;overflow:visible}.form-view__cell.form-view__cell--summary-chart.active canvas{height:250px}.form-view__cell.form-view__cell--summary-chart.active+.form-view__cell--chart-no-data{height:0px;overflow:hidden}@media screen and (min-width: 768px){.form-view--summary{display:flex}.form-view--summary .form-view__column--left{width:65%}.form-view--summary .form-view__column--left .form-view__row{margin-right:0px}.form-view--summary .form-view__column--right{width:35%}.form-view--summary .form-view__column--right .form-view__row{margin-left:30px;margin-right:40px}}@media screen and (min-width: 1024px){.form-view--summary .form-view__column--left{width:70%}.form-view--summary .form-view__column--right{width:30%}}.password-strength{width:100%;font-size:0.9em}.password-strength__title,.password-strength__bar{margin-bottom:10px}.password-strength__bar{width:100%;height:5px;position:relative;box-shadow:inset 0 0 0 1px #b8bac7}.password-strength__bar .password-strength__indicator{background:blue;position:absolute;top:0;left:0;height:100%;transition:0.25s}.password-strength__bar.password-strength__bar--score-0 .password-strength__indicator{width:1%;background-color:#e84a5f}.password-strength__bar.password-strength__bar--score-1 .password-strength__indicator{width:25%;background-color:#e84a5f}.password-strength__bar.password-strength__bar--score-2 .password-strength__indicator{width:50%;background-color:#e6801a}.password-strength__bar.password-strength__bar--score-3 .password-strength__indicator{width:75%;background-color:#28bd70}.password-strength__bar.password-strength__bar--score-4 .password-strength__indicator{width:100%;background-color:#259af4}.password-strength__message.password-strength__message--warning{color:#e84a5f}@media screen and (min-width: 961px){.report-view{padding:0px 40px}}.form-view__cell--reportLimit{padding-bottom:16px}.report-view__item{border:1px solid #e2e3e9;margin:15px 0px;background:#fff}.report-view__itemHeading{padding:10px 24px;border-left:5px solid #22b6c3;border-bottom:1px solid #e2e3e9;position:relative}.report-view__itemHeading h2{margin:0px;margin-right:60px;color:#22b6c3;font-size:16px;font-weight:normal;line-height:1.35em}.report-view__itemHeading .report-view__headingMeta{opacity:0.6;font-size:11px;margin-right:60px}.report-view__itemHeading .report-view__headingMeta .type{text-transform:uppercase}.report-view__itemHeading .report-button__question-settings{overflow:visible;position:absolute;right:15px;top:6px}.report-view__itemContent{padding:10px 24px;position:relative}.report-view__itemContent table{width:100%;border:0px;margin:20px 0px;border-spacing:0px}.report-view__itemContent table thead th{margin:0px;padding:8px;background-color:#5a5e72;color:#fff;text-align:right;font-weight:normal;font-size:14px}.report-view__itemContent table thead th:first-child{text-align:left}.report-view__itemContent table tbody tr td{border-bottom:1px solid #b8bac7;padding:8px;text-align:right}.report-view__itemContent table tbody tr td:first-child{text-align:left}@media screen and (min-width: 961px){.report-view__itemContent table{width:80%;margin-left:10%}}.report-view__chart{margin:0 auto;padding:20px 50px;max-width:100% !important;max-height:350px !important}.report-view__chart canvas{width:100% !important;height:auto !important;margin:0 auto}.form-view__reportButtons{padding:15px 0px}.form-view__reportButtons button:not(.mdl-button--icon):not(.formBuilder-header__close):not(.form-view__icon-button){text-transform:uppercase;padding-left:0px}.form-view__reportButtons button i.fa,.form-view__reportButtons button .message--loading>i:first-child,.form-view__reportButtons button .loading i:first-child,.loading .form-view__reportButtons button i:first-child,.form-view__reportButtons button .mdl-layout__header .search i.search__icon,.mdl-layout__header .search .form-view__reportButtons button i.search__icon,.form-view__reportButtons button .mdl-layout__header .search i.search__cancel,.mdl-layout__header .search .form-view__reportButtons button i.search__cancel,.form-view__reportButtons button i.right-and-down-caret,.form-view__reportButtons button .formBuilder-header__button>i{font-size:18px;margin-left:8px}.form-view__reportButtons button.report-button__edit,.form-view__reportButtons button.report-button__settings{overflow:visible}.form-view__reportButtons button.report-button__expand,.form-view__reportButtons button.report-button__print{float:right;margin-right:0px;margin-left:8px;overflow:visible}.form-view__reportButtons+.form-view__cell--iframe{height:calc(100% - 60px)}@media screen and (max-width: 999px){.form-view__reportButtons{padding-left:12px;padding-right:12px}}@media screen and (max-width: 767px){.form-view__reportButtons button.mdl-button,.form-view__reportButtons .popover-menu--new-menu button.popover-menu__toggle,.popover-menu--new-menu .form-view__reportButtons button.popover-menu__toggle,.form-view__reportButtons .popover-menu--question-language button.popover-menu__toggle,.popover-menu--question-language .form-view__reportButtons button.popover-menu__toggle,.form-view__reportButtons .popover-menu--custom-reports button.popover-menu__toggle,.popover-menu--custom-reports .form-view__reportButtons button.popover-menu__toggle,.form-view__reportButtons .form-wrap button.error-message__link,.form-wrap .form-view__reportButtons button.error-message__link,.form-view__reportButtons button.formBuilder-header__close,.form-view__reportButtons button.formBuilder-header__button,.form-view__reportButtons .cascade-popup .cascade-popup__buttonWrapper button,.cascade-popup .cascade-popup__buttonWrapper .form-view__reportButtons button,.form-view__reportButtons button.form-view__icon-button,.form-view__reportButtons .form-view--table .ReactTable .-pagination button.-btn,.form-view--table .ReactTable .-pagination .form-view__reportButtons button.-btn,.form-view__reportButtons .rest-services button.rest-services-list__header-back-button,.rest-services .form-view__reportButtons button.rest-services-list__header-back-button{font-size:13px}.form-view__reportButtons button.report-button__print{display:none}.form-view__reportButtons button.report-button__expand{margin-left:0px;padding-left:4px;padding-right:4px}}.graph-settings__charttype,.graph-settings__colors{padding:20px 10px}.graph-settings__charttype:after,.graph-settings__colors:after{content:\'\';clear:both;display:block}.graph-settings__charttype strong,.graph-settings__colors strong{margin-bottom:20px;display:block;font-weight:400;color:#5a5e72}.graph-settings__radio{text-align:center;background-size:auto 80%;background-position:top center;background-repeat:no-repeat}.graph-settings__radio input{display:none}.graph-settings__radio label{border:2px solid white;display:block;width:100%;cursor:pointer}.graph-settings__radio input:checked+label{border:2px solid #259af4}.graph-settings__radio--vertical{background-image:url('+o(r(794))+")}.graph-settings__radio--horizontal{background-image:url("+o(r(795))+")}.graph-settings__radio--donut{background-image:url("+o(r(796))+")}.graph-settings__radio--area{background-image:url("+o(r(797))+")}.graph-settings__radio--pie{background-image:url("+o(r(798))+")}.graph-settings__radio--line{background-image:url("+o(r(799))+')}.graph-settings__charttype .graph-settings__radio{width:33%;height:100px;margin-bottom:20px;float:left}.graph-settings__charttype .graph-settings__radio label{padding-top:80px}.graph-settings__colors .graph-settings__radio{margin-bottom:10px}.graph-settings__colors .graph-settings__radio label{padding:4px;padding-top:8px;width:380px;margin:0 auto}.graph-settings__colors .graph-settings__radio label>div{display:inline-block;width:40px;height:40px}.graph-settings__colors+.slider-item{padding:10px;display:flex;width:240px;margin:0 auto}.graph-settings__colors+.slider-item>label{width:100px}.graph-settings__colors+.slider-item>div{flex-grow:1}.graph-tab__groupby,.graph-tab__translation{padding:20px 30px}.custom-report--title{padding-bottom:30px}.custom-report--title input{width:100%;font-size:20px;font-weight:300}.custom-report--questions{margin:10px 0;overflow:auto;width:100%}.custom-report--questions .graph-settings__question{width:100%;padding:5px 0}.custom-report--footer{margin:15px 0px;text-align:right}@media screen and (max-width: 767px){.form-view__reportButtons button.custom-reports{margin-left:8px}.form-view__reportButtons button.report-button__expand,.form-view__reportButtons button.report-button__print{margin-left:0px;padding:0px 4px}}.form-view--table{padding:0px 30px;position:relative}.form-view--table .form-view__group--table-header{padding:10px 0px 0px 0px;display:flex;justify-content:\'space-between\';transition:0.3s all;opacity:1}.form-view--table .form-view__group--table-header.form-view__group--table-loading{opacity:0.25}.form-view--table .form-view__group--table-header .form-view__item--table-buttons{text-align:right}.form-view--table .form-view__group--table-header .form-view__item--table-buttons button{overflow:visible}.form-view--table .ReactTable{border:none;background:transparent;height:calc(100% - 50px)}.form-view--table .ReactTable .rt-table{border:1px solid #e2e3e9;background-color:#fff;font-size:13px}.form-view--table .ReactTable .rt-tbody,.form-view--table .ReactTable .rt-thead{overflow-x:hidden}.form-view--table .ReactTable .rt-tbody{min-height:72px}.form-view--table .ReactTable .rt-thead.-header{box-shadow:none;border-bottom:2px solid #e2e3e9;overflow-x:visible}.form-view--table .ReactTable .rt-thead.-header .table-bulk-checkbox-header{overflow:visible}.form-view--table .ReactTable .rt-thead .rt-tr{align-items:center}.form-view--table .ReactTable .rt-thead .rt-resizable-header-content{overflow:visible;text-overflow:inherit;line-height:1.2;padding:5px 0}.form-view--table .ReactTable .rt-thead .rt-resizable-header-content .column-header-title,.form-view--table .ReactTable .rt-thead .rt-resizable-header-content .column-header-hxl-tags{display:block;width:100%;overflow:hidden;text-overflow:ellipsis}.form-view--table .ReactTable .rt-thead .rt-resizable-header-content .column-header-hxl-tags{color:#5a5e72}.form-view--table .ReactTable .rt-thead.-filters input{padding:2px 4px}.form-view--table .ReactTable .rt-thead.-filters select{margin-top:2px;margin-right:2px}.form-view--table .ReactTable .rt-thead .rt-th:hover,.form-view--table .ReactTable .rt-thead .rt-td:hover{background:#e9fafb}.form-view--table .ReactTable .rt-thead .rt-th.-sort-desc,.form-view--table .ReactTable .rt-thead .rt-td.-sort-desc{box-shadow:inset 0 -3px 0 0 rgba(34,182,195,0.8)}.form-view--table .ReactTable .rt-thead .rt-th.-sort-asc,.form-view--table .ReactTable .rt-thead .rt-td.-sort-asc{box-shadow:inset 0 3px 0 0 rgba(34,182,195,0.8)}.form-view--table .ReactTable .rt-tr-group{max-height:36px}.form-view--table .ReactTable .rt-tr{align-items:stretch}.form-view--table .ReactTable .rt-th,.form-view--table .ReactTable .rt-td{padding:2px;padding-left:6px;border-right:1px solid rgba(45,47,57,0.03);line-height:30px}.form-view--table .ReactTable .rt-td.rt-status{line-height:inherit;overflow:visible}.form-view--table .ReactTable .rt-td.rt-status .kobo-select__control{background:transparent;height:30px;min-height:30px;border:none;border-radius:0px;box-shadow:none;cursor:pointer}.form-view--table .ReactTable .rt-td.rt-status .kobo-select__control:hover{box-shadow:none}.form-view--table .ReactTable .rt-link{overflow:visible}.form-view--table .ReactTable .rt-link .table-link{cursor:pointer;display:inline-block;min-height:28px}.form-view--table .ReactTable .rt-link .table-link:hover{color:#259af4}.form-view--table .ReactTable .rt-link .table-link i{font-size:32px;vertical-align:middle}.form-view--table .ReactTable .-pagination{box-shadow:none;border-top:none}.form-view--table .ReactTable .-pagination .-center{flex:2}.form-view--table .ReactTable .-pagination .-btn:hover{background:transparent}.form-view--table .ReactTable .pagination-bottom{margin-top:5px;margin-bottom:5px}.form-view--table .ReactTable .-loading{background:#f1f1f4}.form-view--table .ReactTable .-loading .-loading-inner{display:block;text-align:center;font-size:18px;opacity:0.8;color:#5a5e72}.form-view--table .ReactTable .-loading .-loading-inner i{margin-right:12px;vertical-align:middle;font-size:24px}.form-view--table .ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover{background:#e9fafb}.form-view--table .ReactTable.has-frozen-column .frozen{order:-1;position:relative;left:0;background:#f1f1f4;height:36px;transition:left 0.2s;margin-right:6px}.form-view--table .ReactTable.has-frozen-column .frozen:not(.rt-status){z-index:2}.form-view--table .ReactTable.has-frozen-column .frozen:not(.rt-status):hover{z-index:3}.form-view--table .ReactTable.has-frozen-column.-striped .rt-tr.-odd .frozen{background:#f1f1f4}.form-view--table .ReactTable.has-frozen-column.-striped .rt-tr:hover .frozen{background:#e9fafb}.form-view--table .ReactTable.has-frozen-column .rt-th.frozen{height:34px}.tableColumn-modal .form-view__cell--label{padding-bottom:10px}.tableColumn-modal .form-modal__item{margin-bottom:20px}.tableColumn-modal .form-modal__item--advanced-table-options{border:1px solid #e2e3e9;padding:20px;background:#f1f1f4}.tableColumn-modal .form-modal__item--advanced-table-options .form-view__cell--note{padding-bottom:20px}.tableColumn-modal .form-modal__item--advanced-table-options .form-modal__item:last-child{margin-bottom:0px}.tableColumn-modal .form-modal__item--translation-radios .radio__row--title{font-size:inherit;color:inherit;font-weight:500}.tableColumn-modal ul{max-height:160px;overflow:auto;border:1px solid #e2e3e9;padding:10px;background:#fff}.tableColumn-modal ul li{margin-bottom:5px;max-width:100%}@media screen and (max-width: 767px){.form-view--table{padding:0px 20px}.form-view--table .ReactTable .pagination-bottom{margin-bottom:10px}}.table-meta{flex-grow:1;min-height:30px;display:flex;flex-direction:row;align-items:center}.table-meta .bulk-clear-badge-icon{margin-right:-5px;cursor:pointer;padding:0 5px;border-radius:50%;color:#2d2f39}.table-meta .bulk-clear-badge-icon:hover{color:#fff;background-color:#e84a5f}.table-meta .table-meta__bulk-options>*{margin-left:10px}.table-meta .table-meta__counter{display:inline;white-space:nowrap}.table-meta .table-meta__additional-text{display:inline}@media screen and (max-width: 1100px){.table-meta .table-meta__additional-text{display:none}}.table-meta__bulk-options{display:flex;flex-direction:row;align-items:center}.table-meta__bulk-options .popover-menu .popover-menu__toggle{height:auto}.table-bulk-checkbox{position:relative;display:block;height:100%;line-height:20px}.table-bulk-checkbox>.checkbox{position:absolute;z-index:1;top:calc(50% - 10px);left:calc(50% - 15px)}.table-bulk-checkbox>.checkbox .checkbox__wrapper{padding:0;display:block}.table-bulk-checkbox>.popover-menu--table-bulk-checkbox .popover-menu__toggle::after{content:"\\F107";font-family:"FontAwesome";padding:0 10px 0 30px}.table-bulk-checkbox>.popover-menu--table-bulk-checkbox .popover-menu__content{left:5px}.account-settings{width:100%;height:100%;background:#fff;overflow-y:auto;position:relative}.account-settings .kobo-select{font-size:15px}.account-settings .form-modal__item--column{width:100%;height:100%;margin:0 auto;padding:30px 20px}.account-settings .form-modal__item--column .form-modal__item--fields{height:calc(100% - 20px);padding-right:40px;overflow:auto}.account-settings .form-modal__item--column .form-modal__item--api-token input{font-family:monospace;width:50%}.account-settings .form-modal__item--column .form-modal__item--username{min-height:32px}.account-settings .form-modal__item--column .form-modal__item--username .account-box__initials{display:inline-block;vertical-align:middle;margin-right:15px}.account-settings .form-modal__item--column .form-modal__item--username h4{display:inline-block;vertical-align:middle;font-size:16px}.account-settings .account-settings__actions{position:absolute;top:26px;right:0}.account-settings .account-settings__actions .account-settings-close{padding:0 12px}.account-settings .account-settings-link{font-size:0.85em}.account-settings h4{margin:0;font-weight:400;color:#2d2f39}.account-settings .account-settings__desc{color:#5a5e72}.account-settings .form-modal__item--primary-sector{width:46%;margin-right:2%;float:left}.account-settings .form-modal__item--gender{width:52%;float:left}.account-settings .form-modal__item--bio{clear:both}.account-settings .form-modal__item--city{width:46%;margin-right:2%;float:left}.account-settings .form-modal__item--city .text-box__input{margin-top:8px}.account-settings .form-modal__item--country{width:52%;float:left}.account-settings .form-modal__item--social{clear:both}.account-settings .form-modal__item--social label{position:relative}.account-settings .form-modal__item--social label i{position:absolute;font-size:24px;top:10px;left:4px}.account-settings .form-modal__item--social label input{margin-top:8px;padding-left:40px;max-width:400px}.form-modal--sharing-form h2{margin:0;font-size:14px;color:#2d2f39;font-weight:500}.form-modal--sharing-form .user-row+button{margin-top:15px}.form-modal--sharing-form .form-modal__item--share-settings h2{margin-bottom:12px}.copy-team-permissions{margin-bottom:30px}.copy-team-permissions.copy-team-permissions--opened .mdl-button--copy-team-permissions-opener .k-icon::before,.copy-team-permissions.copy-team-permissions--opened .mdl-button--copy-team-permissions-opener .alertify-notifier .ajs-message .ajs-close::before,.alertify-notifier .ajs-message .copy-team-permissions.copy-team-permissions--opened .mdl-button--copy-team-permissions-opener .ajs-close::before,.copy-team-permissions.copy-team-permissions--opened .mdl-button--copy-team-permissions-opener .react-tagsinput-remove::before,.copy-team-permissions.copy-team-permissions--opened .mdl-button--copy-team-permissions-opener .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .copy-team-permissions.copy-team-permissions--opened .mdl-button--copy-team-permissions-opener i::before,.copy-team-permissions.copy-team-permissions--opened .mdl-button--copy-team-permissions-opener .breadcrumbs .breadcrumbs__divider::before,.breadcrumbs .copy-team-permissions.copy-team-permissions--opened .mdl-button--copy-team-permissions-opener .breadcrumbs__divider::before{transform:rotate(-90deg)}.copy-team-permissions .kobo-select{flex:1}.copy-team-permissions .mdl-button--copy-team-permissions-opener{color:#259af4;padding-left:0;padding-right:0;font-weight:500;height:20px;line-height:20px;min-height:20px;margin-bottom:10px}.copy-team-permissions .mdl-button--copy-team-permissions-opener .k-icon,.copy-team-permissions .mdl-button--copy-team-permissions-opener .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .copy-team-permissions .mdl-button--copy-team-permissions-opener .ajs-close,.copy-team-permissions .mdl-button--copy-team-permissions-opener .react-tagsinput-remove,.copy-team-permissions .mdl-button--copy-team-permissions-opener .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .copy-team-permissions .mdl-button--copy-team-permissions-opener i,.copy-team-permissions .mdl-button--copy-team-permissions-opener .breadcrumbs .breadcrumbs__divider,.breadcrumbs .copy-team-permissions .mdl-button--copy-team-permissions-opener .breadcrumbs__divider{font-size:20px;vertical-align:middle}.copy-team-permissions .mdl-button--copy-team-permissions-opener .k-icon::before,.copy-team-permissions .mdl-button--copy-team-permissions-opener .alertify-notifier .ajs-message .ajs-close::before,.alertify-notifier .ajs-message .copy-team-permissions .mdl-button--copy-team-permissions-opener .ajs-close::before,.copy-team-permissions .mdl-button--copy-team-permissions-opener .react-tagsinput-remove::before,.copy-team-permissions .mdl-button--copy-team-permissions-opener .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .copy-team-permissions .mdl-button--copy-team-permissions-opener i::before,.copy-team-permissions .mdl-button--copy-team-permissions-opener .breadcrumbs .breadcrumbs__divider::before,.breadcrumbs .copy-team-permissions .mdl-button--copy-team-permissions-opener .breadcrumbs__divider::before{transform:rotate(90deg)}.user-row{border-bottom:1px solid #e2e3e9;padding-bottom:5px;padding-top:5px}.user-row.user-row--deleted{display:none}.user-row.user-row--pending{pointer-events:none;opacity:0.5}.user-row .user-row__info{display:flex;flex-direction:row;align-items:center;min-height:50px}.user-row .user-row__info>.mdl-button,.user-row .popover-menu--new-menu .user-row__info>.popover-menu__toggle,.popover-menu--new-menu .user-row .user-row__info>.popover-menu__toggle,.user-row .popover-menu--question-language .user-row__info>.popover-menu__toggle,.popover-menu--question-language .user-row .user-row__info>.popover-menu__toggle,.user-row .popover-menu--custom-reports .user-row__info>.popover-menu__toggle,.popover-menu--custom-reports .user-row .user-row__info>.popover-menu__toggle,.user-row .form-wrap .user-row__info>.error-message__link,.form-wrap .user-row .user-row__info>.error-message__link,.user-row .user-row__info>.formBuilder-header__close,.user-row .user-row__info>.formBuilder-header__button,.user-row .cascade-popup .cascade-popup__buttonWrapper .user-row__info>button,.cascade-popup .cascade-popup__buttonWrapper .user-row .user-row__info>button,.user-row .user-row__info>.form-view__icon-button,.user-row .form-view--table .ReactTable .-pagination .user-row__info>.-btn,.form-view--table .ReactTable .-pagination .user-row .user-row__info>.-btn,.user-row .rest-services .user-row__info>.rest-services-list__header-back-button,.rest-services .user-row .user-row__info>.rest-services-list__header-back-button{min-width:32px}.user-row .user-row__avatar{margin-right:12px}.user-row .user-row__name{flex:2;line-height:2.2em}.user-row .user-row__perms{min-width:160px;text-align:right;padding:0 10px 0 15px}.user-row .user-row__perms .user-row__perm{display:inline}.user-row .user-row__perms .user-row__perm:not(:last-of-type)::after{content:\' \\B7   \'}.user-row .user-row__editor{margin-top:5px}.form-modal__item--copy-team-permissions{position:relative}.form-modal__item--copy-team-permissions .user-permissions-editor-closer{position:absolute;top:5px;right:5px}.user-permissions-editor .react-tagsinput-input{background-color:#fff}.user-permissions-editor .user-permissions-editor__row:not(:last-child){margin-bottom:10px}.user-permissions-editor .user-permissions-editor__row.user-permissions-editor__row--username{width:calc(100% - 32px)}.user-permissions-editor .user-permissions-editor__sub-row{padding-left:30px;position:relative}.user-permissions-editor .user-permissions-editor__sub-row::before{content:\'\';position:absolute;top:0;left:10px;width:15px;height:15px;border-left:1px solid #e2e3e9;border-bottom:1px solid #e2e3e9;border-radius:2px}.user-row__editor,.form-modal__item--gray-row{background:#f1f1f4;padding:15px}.form-modal__item--flexed-row{display:flex;flex-direction:row;align-items:flex-start;position:relative}.form-modal__item--flexed-row>*:not(:first-child){margin-left:10px}.form-modal__item--flexed-row .kobo-select{min-width:200px}.form-modal__item--flexed-row .kobo-select .kobo-select__control{height:40px}.form-modal__item--flexed-row>input[type="text"]{flex:1;padding:10px;height:40px}.form-modal__item--flexed-row button{min-width:100px}.form-modal__item--shareable-link{margin-top:10px}#data-map{height:100%;width:100%}.form-view--map{position:relative}.form-view--map .loading{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;background:rgba(255,255,255,0.8)}.form-view--map .form-view__map-button{position:absolute;right:12px;top:65px;padding:2px 4px 0 4px;box-shadow:0 0 2px 0 rgba(45,47,57,0.06),0 2px 2px 0 rgba(45,47,57,0.12);border-radius:2px;border-radius:6px;background:#fff;z-index:700;cursor:pointer;color:#5a5e72}.form-view--map .form-view__map-button--heatmap{top:118px;z-index:699}.form-view--map .form-view__map-button--layers{top:12px;right:65px;z-index:701}.form-view--map .form-view__map-button--expand{top:12px;z-index:701}.form-view--map .form-view__map-button--map-settings{top:12px;z-index:699;right:120px}.form-view--map .form-view__map-button.active,.form-view--map .form-view__map-button:hover{color:#2d2f39}.form-view--map .form-view__map-button:active{transform:translateY(1px)}.form-view--map .form-view__map-button i{font-size:36px;line-height:1em}.leaflet-top.leaflet-right{margin-right:56px}.leaflet-control-layers-toggle{display:none}.leaflet-control-layers-toggle.leaflet-control-layers-expanded{display:block}.leaflet-popup-content pre{font-family:"Roboto","Helvetica","Arial",sans-serif;white-space:pre-line;max-height:200px;overflow-x:auto}.popover-menu--viewby-menu{position:absolute;bottom:15px;left:15px;z-index:700}.popover-menu--viewby-menu .popover-menu__toggle{min-width:180px;background:#fff;max-width:340px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-shadow:0 0 2px 0 rgba(45,47,57,0.06),0 2px 2px 0 rgba(45,47,57,0.12);border-radius:2px;border-radius:6px;padding:12px;text-align:left;color:#5a5e72}.popover-menu--viewby-menu .popover-menu__content{right:auto;left:0px;min-width:180px;max-width:240px;overflow:auto;max-height:300px;border-radius:5px;box-shadow:0 0 5px 5px rgba(45,47,57,0.15);bottom:calc(100% + 10px)}.popover-menu--viewby-menu .popover-menu__content .popover-menu__link.see-all{background:#f1f1f4;border-top:1px solid #e2e3e9}.popover-menu--viewby-menu .popover-menu__content .popover-menu__heading{padding-left:10px;padding-right:10px}body .leaflet-control-layers,.leaflet-touch .leaflet-control-layers{border:none;border-radius:6px !important;box-shadow:0 0 2px 0 rgba(45,47,57,0.06),0 2px 2px 0 rgba(45,47,57,0.12);border-radius:2px;margin-right:12px;margin-top:12px}@media screen and (max-width: 767px){.popover-menu--viewby-menu{max-width:90%}.popover-menu--viewby-menu .popover-menu__toggle{max-width:90%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}.form-view__map-list{position:absolute;bottom:70px;left:15px;z-index:689;height:250px;min-width:180px;max-width:300px;padding:5px;background:#fff;overflow:none;box-shadow:0 0 2px 0 rgba(45,47,57,0.06),0 2px 2px 0 rgba(45,47,57,0.12);border-radius:2px;border-radius:6px}.form-view__map-list .maplist-legend{padding:2px 8px;cursor:pointer}.form-view__map-list .maplist-legend i{font-size:18px;margin-right:8px;margin-left:3px;color:#259af4}.form-view__map-list .maplist-contents{display:block;margin-bottom:5px;height:calc(100% - 30px);overflow:auto}.form-view__map-list.collapsed{height:auto}.form-view__map-list.collapsed .maplist-contents{display:none}.form-view__map-list .map-marker-item{padding:4px 6px;position:relative}.form-view__map-list .map-marker-item::after{position:absolute;display:inline-block;font-family:\'FontAwesome\';font-size:10px;right:6px;top:8px;opacity:0.5}.form-view__map-list .map-marker-item.selected{background:#f1f1f4}.form-view__map-list .map-marker-item.selected::after{content:"\\F111"}.form-view__map-list .map-marker-item.unselected{opacity:0.6}.form-view__map-list .map-marker-item.unselected::after{content:"\\F10C"}.form-view__map-list .map-marker-item.unselected:hover{opacity:0.9}.form-view__map-list .map-marker-item.map-marker-reset{text-align:right;font-size:12px;color:#259af4;opacity:0.8;cursor:pointer}.form-view__map-list .map-marker-item.map-marker-reset:hover{opacity:1}.form-view__map-list span{vertical-align:middle;display:inline-block;font-size:13px}.form-view__map-list span.map-marker{margin-right:8px;text-align:center;line-height:22px;min-width:24px;max-width:48px;width:auto;height:24px;padding:0 3px;position:relative;text-shadow:0 0 1px #fff;color:#2d2f39}.form-view__map-list span.map-marker::after{position:absolute;width:10px;content:\'\';height:22px;right:1px;top:1px;border-bottom-right-radius:12px;border-top-right-radius:12px;z-index:-1}.form-view__map-list span.map-marker-label{width:calc(100% - 56px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.form-view__map .loading{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.5);z-index:701}.map-settings .form-modal__item--layer-upload label{display:block;padding:10px 0 20px;position:relative;font-size:14px}.map-settings .form-modal__item--list-files{border:1px solid #e2e3e9;padding:10px;max-width:600px;margin-bottom:20px}.map-settings .form-modal__item--list-files .list-file-row{border-top:1px solid #e2e3e9;padding:5px}.map-settings .form-modal__item--list-files .list-file-row>span{display:inline-block;vertical-align:middle}.map-settings .form-modal__item--list-files .list-file-row .file-type{width:15%;text-transform:uppercase}.map-settings .form-modal__item--list-files .list-file-row .file-layer-name{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:80%;font-weight:600}.map-settings .form-modal__item--list-files .list-file-row .file-delete{width:5%;text-align:right;cursor:pointer}.map-settings .form-modal__item--list-files .list-file-row .file-delete i{font-size:24px;color:#e84a5f}.map-settings .form-modal__item--layer-upload{position:relative}.map-settings .form-modal__item--layer-upload input{width:calc(100% - 140px)}.map-settings .form-modal__item--layer-upload .dropzone{position:absolute !important;right:0;width:120px;bottom:0;text-align:right;min-height:30px}.map-settings__colors{text-align:center}.map-settings__colors .map-marker{display:inline-block;width:20px;height:20px}.map-settings__colors .form-modal__item--map-color-item{margin-bottom:0}.map-settings__GeoQuestions label{display:block;margin-bottom:10px}.map-settings__GeoQuestions label input{margin-right:8px}.change-limit-warning{color:red}.change-limit-slider{width:75%;display:inline-block;vertical-align:middle}.change-limit-slider-value{width:10%;margin-left:10px;display:inline-block;vertical-align:middle}@media screen and (max-width: 1265px){.change-limit-slider{width:60%}.change-limit-slider-value{width:30%}}.map-no-geopoint{text-align:center;font-weight:bold;color:#fff}.map-no-geopoint-wrapper{position:absolute;top:50%;transform:translateY(-50%);width:100%}.map-transparent-background{height:100%;position:absolute;width:100%;z-index:1001;background:rgba(100,100,100,0.7)}.marker-cluster-small{background-color:rgba(253,187,132,0.4)}.marker-cluster-small div{background-color:rgba(253,187,132,0.5)}.marker-cluster-medium{background-color:rgba(252,141,89,0.4)}.marker-cluster-medium div{background-color:rgba(252,141,89,0.5)}.marker-cluster-large{background-color:rgba(239,101,72,0.4)}.marker-cluster-large div{background-color:rgba(239,101,72,0.5)}.marker-cluster{background-clip:padding-box;border-radius:50%}.marker-cluster div{font-size:12px;font-family:"Roboto","Helvetica","Arial",sans-serif;width:20px;height:20px;border-radius:50%;margin-left:5px;margin-top:5px;text-align:center;color:#2d2f39}.marker-cluster span{line-height:20px}.rest-services{display:flex;flex-direction:column}.rest-services.rest-services--empty{align-items:center;justify-items:center}.rest-services .form-view__cell--rest-services-list{flex:1}.rest-services>button{display:block;align-self:flex-end;margin-top:30px}.rest-services .rest-services-list__header::after{content:\'\';display:table;clear:both}.rest-services .rest-services-list__header-label{display:inline-block;font-size:inherit;font-weight:600}.rest-services .rest-services-list__header-label.rest-services-list__header-label--big{display:block;font-size:1.5em}.rest-services .rest-services-list__header-label,.rest-services .rest-services-list__header-help-link{margin:0;line-height:20px;padding:10px 0;min-height:36px}.rest-services .rest-services-list__header-label i,.rest-services .rest-services-list__header-help-link i{font-size:20px;vertical-align:top;display:inline-block}.rest-services .rest-services-list__header-right{float:right}.rest-services .rest-services-list__header-back-button i{vertical-align:middle}.form-modal__item.form-modal__item--rest-custom-wrapper textarea{font-family:monospace}.service-row{display:flex;flex-direction:row;align-items:center;min-height:36px;box-sizing:content-box;line-height:18px;position:relative}.service-row:not(:last-of-type){border-bottom:1px solid #e2e3e9}.service-row:hover .service-row__action-button{position:relative;z-index:11}.service-row:not(.service-row--header):hover{background-color:#f1f1f4;color:#2d2f39}.service-row.service-row--clickable{cursor:pointer}.service-row.service-row--header{font-weight:600;border-bottom-width:2px}.service-row.service-row--active{color:#5a5e72}.service-row.service-row--inactive{color:#b8bac7}.service-row__link-overlay{position:absolute;z-index:10;top:0;left:0;right:0;bottom:0}.service-row__column{padding:9px}.service-row__column.service-row__column--name{flex:6}.service-row__column.service-row__column--count{flex:1;line-height:18px}.service-row__column.service-row__column--actions{min-width:72px;text-align:right;padding:0 9px;box-sizing:content-box;white-space:nowrap}.service-row__column.service-row__column--submission,.service-row__column.service-row__column--status{flex:1;padding:0 9px;line-height:36px;white-space:nowrap}.service-row__column.service-row__column--date{flex:1}.service-row__column.service-row__column--success{color:#5a5e72}.service-row__column.service-row__column--pending{color:#22b6c3}.service-row__column.service-row__column--failed{color:#e84a5f}.service-row__action-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;padding:0;width:36px;height:36px;font-size:36px;color:inherit;cursor:pointer;background:transparent;display:inline-block;vertical-align:top}.service-row__action-button[disabled]{opacity:0.5;pointer-events:none}.service-row__action-button:hover{color:#259af4}.service-row-button{box-shadow:0 0 2px 0 rgba(45,47,57,0.06),0 2px 2px 0 rgba(45,47,57,0.12);border-radius:2px;margin-top:9px;width:100%;min-height:36px;box-sizing:content-box;line-height:18px;border:0;padding:0;text-transform:uppercase;cursor:pointer;color:#5a5e72}.service-row-button:hover{color:#2d2f39}.service-row-button:active{transform:translateY(1px)}.service-row-button.service-row-button--loading{pointer-events:none;color:#5a5e72}.empty-content{text-align:center;padding:0 30px 30px}.empty-content__icon{display:block;font-size:180px;opacity:0.25}.empty-content__title{font-weight:400;font-size:20px;margin:0}.empty-content__message{margin:1em 0 0}.empty-content__message+button{display:block;margin:2em auto 0}.map-marker[class*="map-marker-"]{background:rgba(100,100,100,0.8);border-color:rgba(255,255,255,0.75)}.map-marker{border:1px solid #fff;border-radius:50%}.map-marker.unselected{visibility:hidden}.map-marker.default-overlay-marker{background:rgba(45,47,57,0.7);border:none;border-radius:0}.map-marker.map-marker-a1,.map-marker.map-marker-a41,.map-marker.map-marker-a81,.map-marker.map-marker-a121,.map-marker.map-marker-a161{background:rgba(255,50,0,0.5)}.map-marker.map-marker-a81{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a41{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a121{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a161{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a2,.map-marker.map-marker-a42,.map-marker.map-marker-a82,.map-marker.map-marker-a122,.map-marker.map-marker-a162{background:rgba(125,245,46,0.5)}.map-marker.map-marker-a82{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a42{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a122{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a162{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a3,.map-marker.map-marker-a43,.map-marker.map-marker-a83,.map-marker.map-marker-a123,.map-marker.map-marker-a163{background:rgba(86,0,178,0.5)}.map-marker.map-marker-a83{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a43{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a123{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a163{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a4,.map-marker.map-marker-a44,.map-marker.map-marker-a84,.map-marker.map-marker-a124,.map-marker.map-marker-a164{background:rgba(0,236,118,0.5)}.map-marker.map-marker-a84{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a44{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a124{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a164{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a5,.map-marker.map-marker-a45,.map-marker.map-marker-a85,.map-marker.map-marker-a125,.map-marker.map-marker-a165{background:rgba(202,0,188,0.5)}.map-marker.map-marker-a85{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a45{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a125{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a165{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a6,.map-marker.map-marker-a46,.map-marker.map-marker-a86,.map-marker.map-marker-a126,.map-marker.map-marker-a166{background:rgba(104,155,0,0.5)}.map-marker.map-marker-a86{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a46{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a126{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a166{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a7,.map-marker.map-marker-a47,.map-marker.map-marker-a87,.map-marker.map-marker-a127,.map-marker.map-marker-a167{background:rgba(161,107,255,0.5)}.map-marker.map-marker-a87{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a47{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a127{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a167{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a8,.map-marker.map-marker-a48,.map-marker.map-marker-a88,.map-marker.map-marker-a128,.map-marker.map-marker-a168{background:rgba(191,184,0,0.5)}.map-marker.map-marker-a88{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a48{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a128{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a168{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a9,.map-marker.map-marker-a49,.map-marker.map-marker-a89,.map-marker.map-marker-a129,.map-marker.map-marker-a169{background:rgba(0,66,187,0.5)}.map-marker.map-marker-a89{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a49{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a129{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a169{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a10,.map-marker.map-marker-a50,.map-marker.map-marker-a90,.map-marker.map-marker-a130,.map-marker.map-marker-a170{background:rgba(197,231,113,0.5)}.map-marker.map-marker-a90{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a50{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a130{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a170{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a11,.map-marker.map-marker-a51,.map-marker.map-marker-a91,.map-marker.map-marker-a131,.map-marker.map-marker-a171{background:rgba(239,0,161,0.5)}.map-marker.map-marker-a91{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a51{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a131{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a171{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a12,.map-marker.map-marker-a52,.map-marker.map-marker-a92,.map-marker.map-marker-a132,.map-marker.map-marker-a172{background:rgba(2,231,203,0.5)}.map-marker.map-marker-a92{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a52{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a132{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a172{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a13,.map-marker.map-marker-a53,.map-marker.map-marker-a93,.map-marker.map-marker-a133,.map-marker.map-marker-a173{background:rgba(239,0,69,0.5)}.map-marker.map-marker-a93{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a53{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a133{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a173{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a14,.map-marker.map-marker-a54,.map-marker.map-marker-a94,.map-marker.map-marker-a134,.map-marker.map-marker-a174{background:rgba(2,153,148,0.5)}.map-marker.map-marker-a94{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a54{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a134{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a174{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a15,.map-marker.map-marker-a55,.map-marker.map-marker-a95,.map-marker.map-marker-a135,.map-marker.map-marker-a175{background:rgba(43,130,255,0.5)}.map-marker.map-marker-a95{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a55{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a135{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a175{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a16,.map-marker.map-marker-a56,.map-marker.map-marker-a96,.map-marker.map-marker-a136,.map-marker.map-marker-a176{background:rgba(183,142,0,0.5)}.map-marker.map-marker-a96{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a56{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a136{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a176{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a17,.map-marker.map-marker-a57,.map-marker.map-marker-a97,.map-marker.map-marker-a137,.map-marker.map-marker-a177{background:rgba(60,46,126,0.5)}.map-marker.map-marker-a97{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a57{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a137{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a177{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a18,.map-marker.map-marker-a58,.map-marker.map-marker-a98,.map-marker.map-marker-a138,.map-marker.map-marker-a178{background:rgba(35,106,0,0.5)}.map-marker.map-marker-a98{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a58{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a138{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a178{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a19,.map-marker.map-marker-a59,.map-marker.map-marker-a99,.map-marker.map-marker-a139,.map-marker.map-marker-a179{background:rgba(175,158,255,0.4)}.map-marker.map-marker-a99{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a59{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a139{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a179{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a20,.map-marker.map-marker-a60,.map-marker.map-marker-a100,.map-marker.map-marker-a140,.map-marker.map-marker-a180{background:rgba(198,116,0,0.5)}.map-marker.map-marker-a100{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a60{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a140{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a180{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a21,.map-marker.map-marker-a61,.map-marker.map-marker-a101,.map-marker.map-marker-a141,.map-marker.map-marker-a181{background:rgba(0,140,218,0.5)}.map-marker.map-marker-a101{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a61{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a141{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a181{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a22,.map-marker.map-marker-a62,.map-marker.map-marker-a102,.map-marker.map-marker-a142,.map-marker.map-marker-a182{background:rgba(255,109,60,0.5)}.map-marker.map-marker-a102{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a62{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a142{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a182{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a23,.map-marker.map-marker-a63,.map-marker.map-marker-a103,.map-marker.map-marker-a143,.map-marker.map-marker-a183{background:rgba(1,76,140,0.5)}.map-marker.map-marker-a103{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a63{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a143{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a183{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a24,.map-marker.map-marker-a64,.map-marker.map-marker-a104,.map-marker.map-marker-a144,.map-marker.map-marker-a184{background:rgba(184,69,0,0.5)}.map-marker.map-marker-a104{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a64{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a144{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a184{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a25,.map-marker.map-marker-a65,.map-marker.map-marker-a105,.map-marker.map-marker-a145,.map-marker.map-marker-a185{background:rgba(165,228,255,0.5)}.map-marker.map-marker-a105{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a65{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a145{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a185{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a26,.map-marker.map-marker-a66,.map-marker.map-marker-a106,.map-marker.map-marker-a146,.map-marker.map-marker-a186{background:rgba(112,31,9,0.5)}.map-marker.map-marker-a106{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a66{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a146{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a186{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a27,.map-marker.map-marker-a67,.map-marker.map-marker-a107,.map-marker.map-marker-a147,.map-marker.map-marker-a187{background:rgba(163,231,229,0.5)}.map-marker.map-marker-a107{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a67{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a147{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a187{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a28,.map-marker.map-marker-a68,.map-marker.map-marker-a108,.map-marker.map-marker-a148,.map-marker.map-marker-a188{background:rgba(133,0,75,0.5)}.map-marker.map-marker-a108{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a68{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a148{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a188{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a29,.map-marker.map-marker-a69,.map-marker.map-marker-a109,.map-marker.map-marker-a149,.map-marker.map-marker-a189{background:rgba(167,234,188,0.5)}.map-marker.map-marker-a109{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a69{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a149{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a189{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a30,.map-marker.map-marker-a70,.map-marker.map-marker-a110,.map-marker.map-marker-a150,.map-marker.map-marker-a190{background:rgba(96,33,97,0.5)}.map-marker.map-marker-a110{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a70{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a150{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a190{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a31,.map-marker.map-marker-a71,.map-marker.map-marker-a111,.map-marker.map-marker-a151,.map-marker.map-marker-a191{background:rgba(21,70,0,0.5)}.map-marker.map-marker-a111{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a71{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a151{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a191{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a32,.map-marker.map-marker-a72,.map-marker.map-marker-a112,.map-marker.map-marker-a152,.map-marker.map-marker-a192{background:rgba(255,110,148,0.5)}.map-marker.map-marker-a112{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a72{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a152{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a192{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a33,.map-marker.map-marker-a73,.map-marker.map-marker-a113,.map-marker.map-marker-a153,.map-marker.map-marker-a193{background:rgba(0,87,84,0.5)}.map-marker.map-marker-a113{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a73{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a153{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a193{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a34,.map-marker.map-marker-a74,.map-marker.map-marker-a114,.map-marker.map-marker-a154,.map-marker.map-marker-a194{background:rgba(255,157,210,0.5)}.map-marker.map-marker-a114{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a74{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a154{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a194{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a35,.map-marker.map-marker-a75,.map-marker.map-marker-a115,.map-marker.map-marker-a155,.map-marker.map-marker-a195{background:rgba(51,64,37,0.5)}.map-marker.map-marker-a115{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a75{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a155{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a195{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a36,.map-marker.map-marker-a76,.map-marker.map-marker-a116,.map-marker.map-marker-a156,.map-marker.map-marker-a196{background:rgba(255,153,153,0.5)}.map-marker.map-marker-a116{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a76{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a156{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a196{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a37,.map-marker.map-marker-a77,.map-marker.map-marker-a117,.map-marker.map-marker-a157,.map-marker.map-marker-a197{background:rgba(12,64,93,0.5)}.map-marker.map-marker-a117{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a77{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a157{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a197{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a38,.map-marker.map-marker-a78,.map-marker.map-marker-a118,.map-marker.map-marker-a158,.map-marker.map-marker-a198{background:rgba(255,194,186,0.5)}.map-marker.map-marker-a118{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a78{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a158{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a198{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a39,.map-marker.map-marker-a79,.map-marker.map-marker-a119,.map-marker.map-marker-a159,.map-marker.map-marker-a199{background:rgba(96,42,58,0.5)}.map-marker.map-marker-a119{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a79{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a159{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a199{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a40,.map-marker.map-marker-a80,.map-marker.map-marker-a120,.map-marker.map-marker-a160,.map-marker.map-marker-a200{background:rgba(134,0,40,0.5)}.map-marker.map-marker-a120{background-image:linear-gradient(90deg, rgba(255,255,255,0.4) 50%, transparent 50%),linear-gradient(rgba(255,255,255,0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a80{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a160{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.3) 3px, rgba(255,255,255,0.3) 6px)}.map-marker.map-marker-a200{background-image:linear-gradient(90deg, rgba(45,47,57,0.1) 50%, transparent 50%),linear-gradient(rgba(45,47,57,0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a{background:rgba(255,50,0,0.5)}.map-marker.map-marker-b1{background:#7f0000}.map-marker.map-marker-b2{background:#B30000}.map-marker.map-marker-b3{background:#d7301f}.map-marker.map-marker-b4{background:#ef6548}.map-marker.map-marker-b5{background:#fc8d59}.map-marker.map-marker-b6{background:#fdbb84}.map-marker.map-marker-b7{background:#fdd49e}.map-marker.map-marker-b8{background:#fee8c8}.map-marker.map-marker-b9{background:#fff7ec}.map-marker.map-marker-b{background:#7f0000}.map-marker.map-marker-c1{background:#084081}.map-marker.map-marker-c2{background:#0868ac}.map-marker.map-marker-c3{background:#2b8cbe}.map-marker.map-marker-c4{background:#4eb3d3}.map-marker.map-marker-c5{background:#7bccc4}.map-marker.map-marker-c6{background:#a8ddb5}.map-marker.map-marker-c7{background:#ccebc5}.map-marker.map-marker-c8{background:#e0f3db}.map-marker.map-marker-c9{background:#f7fcf0}.map-marker.map-marker-c{background:#084081}.map-marker.map-marker-d1{background:#4d9221}.map-marker.map-marker-d2{background:#7fbc41}.map-marker.map-marker-d3{background:#b8e186}.map-marker.map-marker-d4{background:#e6f5d0}.map-marker.map-marker-d5{background:#f7f7f7}.map-marker.map-marker-d6{background:#fde0ef}.map-marker.map-marker-d7{background:#f1b6da}.map-marker.map-marker-d8{background:#de77ae}.map-marker.map-marker-d9{background:#c51b7d}.map-marker.map-marker-d{background:#4d9221}.map-marker.map-marker-e1{background:#2166ac}.map-marker.map-marker-e2{background:#4393c3}.map-marker.map-marker-e3{background:#92c5de}.map-marker.map-marker-e4{background:#d1e5f0}.map-marker.map-marker-e5{background:#f7f7f7}.map-marker.map-marker-e6{background:#fddbc7}.map-marker.map-marker-e7{background:#f4a582}.map-marker.map-marker-e8{background:#d6604d}.map-marker.map-marker-e9{background:#b2182b}.map-marker.map-marker-e{background:#2166ac}.templates-list{font-size:14px;width:100%}.templates-list .templates-list__header{font-weight:600}.templates-list label.templates-list__row{display:flex}.templates-list .templates-list__row{display:flex;box-shadow:0 0 0 1px #e2e3e9;padding:10px;align-items:center}.templates-list .templates-list__row:not(:first-child){margin-top:1px}.templates-list .templates-list__column{padding:10px;box-sizing:border-box}.templates-list .templates-list__column.templates-list__column--name{flex:1}.templates-list .templates-list__column.templates-list__column--owner{width:20%}.templates-list .templates-list__column.templates-list__column--date{width:25%}.templates-list .templates-list__column.templates-list__column--questions{width:15%}.templates-list .templates-list__template{font-size:inherit;position:relative;color:#5a5e72;border:1px solid transparent}.templates-list .templates-list__template:hover,.templates-list .templates-list__template.selected{background:rgba(226,227,233,0.3);color:#259af4}.templates-list .templates-list__template.selected{border:1px solid #259af4}.templates-list .templates-list__template-radio{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:absolute;top:0;left:0;width:100%;height:100%;margin:0;cursor:pointer;background:transparent}label.text-box.text-box--error{color:#e84a5f}label.text-box.text-box--error input.text-box__input{border-bottom-color:#e84a5f}label.text-box.text-box--on-white input.text-box__input,label.text-box.text-box--on-white textarea.text-box__input{border-color:#e2e3e9}label.text-box.text-box--on-white input.text-box__input:focus,label.text-box.text-box--on-white textarea.text-box__input:focus{border-color:#259af4}label.text-box.text-box--on-white.text-box--error input.text-box__input{border-color:#e84a5f}label.text-box .text-box__label .text-box__label-link{display:inline-block;vertical-align:bottom}label.text-box .text-box__label .text-box__label-link .k-icon,label.text-box .text-box__label .text-box__label-link .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message label.text-box .text-box__label .text-box__label-link .ajs-close,label.text-box .text-box__label .text-box__label-link .react-tagsinput-remove,label.text-box .text-box__label .text-box__label-link .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection label.text-box .text-box__label .text-box__label-link i,label.text-box .text-box__label .text-box__label-link .breadcrumbs .breadcrumbs__divider,.breadcrumbs label.text-box .text-box__label .text-box__label-link .breadcrumbs__divider{font-size:24px;display:block;margin:-2px}label.text-box input.text-box__input{width:100%;padding:4px 10px;font-size:15px;color:inherit;background-color:transparent;border:1px solid transparent;border-bottom-color:#e2e3e9;transition:border-color 0.3s}label.text-box input.text-box__input:focus{transition:border-color 0.3s;border-bottom-color:#259af4}label.text-box input.text-box__input:disabled{color:#b8bac7;pointer-events:none}label.text-box input.text-box__input:disabled::-moz-placeholder{color:#b8bac7}label.text-box input.text-box__input:disabled:-ms-input-placeholder{color:#b8bac7}label.text-box input.text-box__input:disabled::-ms-input-placeholder{color:#b8bac7}label.text-box input.text-box__input:disabled::placeholder{color:#b8bac7}label.text-box input.text-box__input::-moz-placeholder{color:#5a5e72}label.text-box input.text-box__input:-ms-input-placeholder{color:#5a5e72}label.text-box input.text-box__input::-ms-input-placeholder{color:#5a5e72}label.text-box input.text-box__input::placeholder{color:#5a5e72}.submission-data-table{text-align:initial}.submission-data-table .checkbox+.submission-data-table__row{margin-top:12px}.submission-data-table__row{background-color:#f1f1f4}.submission-data-table__row.submission-data-table__row--type-group_root+.submission-data-table__row.submission-data-table__row--metadata{border-top:3px solid #e2e3e9}.submission-data-table__row.submission-data-table__row--response,.submission-data-table__row.submission-data-table__row--group,.submission-data-table__row.submission-data-table__row--group-label{border-bottom:1px solid #e2e3e9}.submission-data-table__row.submission-data-table__row--response,.submission-data-table__row.submission-data-table__row--group{border-left:1px solid #e2e3e9;border-right:1px solid #e2e3e9}.submission-data-table__row.submission-data-table__row--columns{display:flex;flex-direction:row}.submission-data-table__row.submission-data-table__row--column-names{font-weight:bold;background-color:#5a5e72;color:#fff}.submission-data-table__row.submission-data-table__row--group-label{padding:12px 0}.submission-data-table__row.submission-data-table__row--group{padding:0 12px 12px}.submission-data-table__row.submission-data-table__row--type-group_root{padding:0;border:none}.submission-data-table__row.submission-data-table__row--type-select_multiple .submission-data-table__column--data ul{list-style:disc;padding-left:1.25em}.submission-data-table__row.submission-data-table__row--response,.submission-data-table__row.submission-data-table__row--point{background-color:#fff}.submission-data-table__row.submission-data-table__row--point+.submission-data-table__row.submission-data-table__row--point{border-top:1px dotted #e2e3e9}.submission-data-table__row.submission-data-table__row--point:first-child .submission-data-table__column{padding-top:0}.submission-data-table__row.submission-data-table__row--point:last-child .submission-data-table__column{padding-bottom:0}.submission-data-table__row.submission-data-table__row--point .submission-data-table__column:first-child{padding-left:0}.submission-data-table__row.submission-data-table__row--point .submission-data-table__column:last-child{padding-right:0}.submission-data-table__column{padding:12px}.submission-data-table__column.submission-data-table__column--type{width:15%}.submission-data-table__column.submission-data-table__column--label{width:35%}.submission-data-table__column.submission-data-table__column--data{flex:1;font-family:monospace}.submission-data-table__xml-name{display:inline-block;margin-left:0.5em;font-size:0.8em;line-height:1;color:#5a5e72;font-family:monospace}.submission-data-table__value{color:#2d2f39;display:inline-block;font-family:monospace}.simple-table{width:100%;border-spacing:0;border-collapse:collapse}.simple-table .simple-table__header .simple-table__row:nth-child(1) .simple-table__cell{background-color:#f1f1f4;font-weight:600}.simple-table .simple-table__body .simple-table__cell{border-bottom:1px solid #f1f1f4}.simple-table .simple-table__cell{padding:10px;background-color:#fff}.simple-table.simple-table--bulk-edit-list .simple-table__header .text-box{display:inline-block;max-width:160px}.simple-table.simple-table--bulk-edit-list .simple-table__cell:nth-child(1){text-align:center}.simple-table.simple-table--bulk-edit-list .simple-table__cell:nth-child(3){position:relative}.simple-table.simple-table--bulk-edit-list .simple-table__cell:nth-child(3) .blue-response-dot{position:absolute;top:calc(50% - 3px);left:-3px}.simple-table.simple-table--bulk-edit-list .simple-table__row--bulk-edit-row-disabled{opacity:0.5}.simple-table.simple-table--bulk-edit-list .simple-table__row--bulk-edit-row-disabled .simple-table__cell:nth-child(4){visibility:hidden}.simple-table.simple-table--bulk-edit-list .simple-table__cell:last-child,.simple-table.simple-table--bulk-edit-responses .simple-table__cell:last-child{text-align:right}.simple-table.simple-table--bulk-edit-responses{margin-top:20px}.breadcrumbs{font-size:24px;font-weight:600;line-height:40px;display:flex;flex-direction:row;flex-wrap:wrap;align-items:center}.breadcrumbs.breadcrumbs--gray-wrapper{background:#f1f1f4;padding:15px 20px;height:70px}.breadcrumbs .breadcrumbs__crumb,.breadcrumbs .breadcrumbs__divider{color:#5a5e72}.breadcrumbs .breadcrumbs__crumb:last-of-type{color:#2d2f39}.breadcrumbs .breadcrumbs__divider{font-size:32px}.asset-info-box{display:flex;flex-direction:row;border-bottom:1px solid #e2e3e9;padding-bottom:5px;line-height:24px}.asset-info-box .asset-info-box__column{display:flex;flex-direction:column}.asset-info-box .asset-info-box__column:not(.asset-info-box__column--toggle){flex:1;padding-right:10px}.asset-info-box .asset-info-box__cell{flex:1}.asset-info-box .asset-info-box__cell label{color:#5a5e72}.asset-info-box .asset-info-box__cell label::after{content:": "}.asset-info-box .asset-info-box__toggle{cursor:pointer;color:#259af4;background:transparent;border:0;width:100%;text-align:center}.asset-info-box .asset-info-box__toggle:hover{color:#0b81da}.asset-info-box .asset-info-box__toggle:active{transform:translateY(1px)}.asset-info-box .asset-info-box__toggle .k-icon,.asset-info-box .asset-info-box__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .asset-info-box .asset-info-box__toggle .ajs-close,.asset-info-box .asset-info-box__toggle .react-tagsinput-remove,.asset-info-box .asset-info-box__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .asset-info-box .asset-info-box__toggle i,.asset-info-box .asset-info-box__toggle .breadcrumbs .breadcrumbs__divider,.breadcrumbs .asset-info-box .asset-info-box__toggle .breadcrumbs__divider{font-size:24px;vertical-align:-8px}.asset-info-box__cell+.asset-info-box__cell{margin-top:20px}.multi-checkbox{list-style:none;height:auto;width:100%;overflow:hidden auto;border:1px solid #e2e3e9;border-radius:2px}.multi-checkbox .multi-checkbox__item{margin:12px}.card__kobomatrix{border:1px solid #b8bac7;border-top:none}.survey__row--selected>.survey__row__item>.card__kobomatrix{border-color:#3da5f5;border-top:none}.kobomatrix{width:100%;padding:23px 50px 23px 20px;position:relative;background:#fff}.kobomatrix .matrix-items-new{margin:23px 0px;overflow:hidden;position:absolute;right:0px;top:0px;bottom:0px;width:50px;text-align:center;padding-top:10px}.kobomatrix .matrix-items-new i{font-size:24px;cursor:pointer}.kobomatrix .matrix-items-new i:hover{color:#259af4}.matrix-cols--header{display:flex;flex-wrap:nowrap;border-top:1px solid #e2e3e9;border-left:1px solid #e2e3e9}.matrix-cols--header .matrix-cols__col{flex-grow:1;flex-basis:0;padding:10px 20px;text-align:center;border-right:1px solid #e2e3e9;position:relative;padding-right:30px;vertical-align:middle;border-top:1px solid transparent;margin-bottom:-1px}.matrix-cols--header .matrix-cols__col.active{background:#f1f1f4;border-bottom:1px solid #f1f1f4}.matrix-cols--header .matrix-cols__col .matrix-cols__colattr--type{opacity:0.3;display:none}.matrix-cols--header .matrix-cols__col i{font-size:28px;opacity:0.75;position:absolute;right:4px;top:4px;vertical-align:middle;cursor:pointer}.matrix-cols--header .matrix-cols__col i:hover{color:#259af4}.matrix-cols__settings{width:100%;background:#f1f1f4;border:1px solid #e2e3e9;border-bottom:none;padding:15px;display:none}.matrix-cols__settings.expanded{display:block}.matrix-cols__settings_inner{text-align:left;width:500px;margin:0 auto;padding:0px 20px}.matrix-cols__settings_inner .checkbox{display:inline-block}.matrix-cols__settings_inner label{display:block;margin-bottom:10px}.matrix-cols__settings_inner label>span{display:inline-block;width:150px;vertical-align:middle}.matrix-cols__settings_inner label>.kobo-select,.matrix-cols__settings_inner label>input{width:310px;display:inline-block;vertical-align:middle}.matrix-cols__settings_inner label>input[type="text"]{padding:4px 8px;border:1px solid #b8bac7;border-radius:4px}.matrix-cols__settings_inner label>label{display:inline-block}.matrix-cols__settings_inner .matrix-cols__delete{width:100%;text-align:right;padding:10px 0px 10px}.matrix-cols__settings_inner .matrix-cols__delete span{color:#e84a5f;cursor:pointer}.matrix-cols__settings_inner .matrix-cols__delete i{font-size:24px;color:#e84a5f;cursor:pointer;vertical-align:middle}.matrix-cols__options{background:#f1f1f4;border:1px solid #e2e3e9;padding:10px;margin:20px 0px;clear:both}.matrix-cols__options--row-head span,.matrix-cols__options--row span{width:44%;display:inline-block;margin:5px}.matrix-cols__options--row-head span input,.matrix-cols__options--row span input{padding:4px 8px;border-radius:4px;border:1px solid #e2e3e9}.matrix-cols__options--row-head span.matrix-options__value,.matrix-cols__options--row span.matrix-options__value{opacity:0.75}.matrix-cols__options--row-head span.matrix-options__delete,.matrix-cols__options--row span.matrix-options__delete{width:5%;text-align:right;margin-right:0px}.matrix-cols__options--row-head span.matrix-options__delete i,.matrix-cols__options--row span.matrix-options__delete i{font-size:24px;color:#e84a5f;cursor:pointer}.matrix-cols__options--row-foot i{font-size:24px;cursor:pointer}.matrix-cols__options--row-foot i:hover{color:#259af4}.matrix-items__item .matrix-items__itemrow{display:flex;flex-wrap:nowrap}.matrix-items__item .matrix-items__itemattr,.matrix-items__item .matrix-cols__col{flex-grow:1;flex-basis:0;padding:5px;border-top:1px solid #e2e3e9;vertical-align:middle;position:relative}.matrix-items__item .matrix-cols__col{border-right:1px solid #e2e3e9;text-align:center}.matrix-items__item .matrix-items__itemattr{border-right:1px solid #e2e3e9;border-left:1px solid #e2e3e9;position:relative;line-height:28px}.matrix-items__item .matrix-items__itemattr label{margin-left:5px;width:calc(100% - 40px);display:inline-block}.matrix-items__item .matrix-items__itemattr i{font-size:28px;opacity:0.75;position:absolute;right:4px;top:4px;vertical-align:middle;cursor:pointer}.matrix-items__item .matrix-items__itemattr i:hover{color:#259af4}.matrix-items__item--new{border-top:1px solid #e2e3e9}.matrix-items__item--new i{font-size:28px;opacity:0.75;cursor:pointer;color:#5a5e72}.matrix-items__item--new i:hover{color:#259af4}.matrix-items__item .matrix-items__itemsettings{width:100%;background:#f1f1f4;border:1px solid #e2e3e9;border-bottom:none;padding:15px;display:none}.matrix-items__item .matrix-items__itemsettings.expanded{display:block}.k-invisible{visibility:hidden}@media print{body{background:transparent !important;overflow:visible !important}body .kpiapp,body .mdl-wrapper,body .mdl-layout,body .ui-panel,body .ui-panel__body,body .mdl-layout__content,body .mdl-layout__content>div{height:auto !important;overflow:visible}body .mdl-layout{display:block;overflow:visible;max-width:auto}body .mdl-layout__content{display:block;margin-left:0px}.k-drawer,.mdl-layout__header{display:none}.form-view__reportButtons{display:none}.report-view__chart{padding-left:0px;padding-right:0px}a[href]:after,abbr[title]:after{content:""}.form-view__row{display:block}.form-view__cell{width:auto}.report-view__chart{page-break-inside:avoid}.report-view__itemContent table{margin-left:0%;width:100%;page-break-inside:avoid}.report-view__item{-moz-column-break-inside:avoid;break-inside:avoid}thead{display:table-row-group}.form-view__sidetabs,.form-view__toptabs{display:none}.form-view__sidetabs+.report-view{width:100%}.modal__backdrop{position:static}.modal__backdrop .modal{width:100%;height:100%;max-width:none;box-shadow:none;border-radius:initial;position:static;top:auto;left:auto;transform:none;max-height:none}.page-wrapper.page-wrapper--is-modal-visible.page-wrapper--is-modal-submission .form-view.form-view--table{display:none}}@media only screen{.print-only{display:none}}\n',""])},764:function(e,t,r){e.exports=r.p+"Roboto-Thin.woff2"},765:function(e,t,r){e.exports=r.p+"Roboto-Thin.woff"},766:function(e,t,r){e.exports=r.p+"Roboto-Light.woff2"},767:function(e,t,r){e.exports=r.p+"Roboto-Light.woff"},768:function(e,t,r){e.exports=r.p+"Roboto-LightItalic.woff2"},769:function(e,t,r){e.exports=r.p+"Roboto-LightItalic.woff"},770:function(e,t,r){e.exports=r.p+"Roboto-Regular.woff2"},771:function(e,t,r){e.exports=r.p+"Roboto-Regular.woff"},772:function(e,t,r){e.exports=r.p+"Roboto-RegularItalic.woff2"},773:function(e,t,r){e.exports=r.p+"Roboto-RegularItalic.woff"},774:function(e,t,r){e.exports=r.p+"Roboto-Medium.woff2"},775:function(e,t,r){e.exports=r.p+"Roboto-Medium.woff"},776:function(e,t,r){e.exports=r.p+"Roboto-Bold.woff2"},777:function(e,t,r){e.exports=r.p+"Roboto-Bold.woff"},778:function(e,t,r){e.exports=r.p+"Roboto-BoldItalic.woff2"},779:function(e,t,r){e.exports=r.p+"Roboto-BoldItalic.woff"},780:function(e,t,r){e.exports=r.p+"k-icons.1615222505486.woff2"},781:function(e,t,r){e.exports=r.p+"k-icons.1615222505486.woff"},782:function(e,t,r){e.exports=r.p+"k-icons.1615222505486.ttf"},783:function(e,t,r){e.exports=r.p+"k-icons.1615222505486.eot"},784:function(e,t,r){e.exports=r.p+"k-icons.1615222505486.svg"},785:function(e,t,r){e.exports=r.p+"fontawesome-webfont.eot"},786:function(e,t,r){e.exports=r.p+"fontawesome-webfont.eot"},787:function(e,t,r){e.exports=r.p+"fontawesome-webfont.woff2"},788:function(e,t,r){e.exports=r.p+"fontawesome-webfont.woff"},789:function(e,t,r){e.exports=r.p+"fontawesome-webfont.ttf"},790:function(e,t,r){e.exports=r.p+"fontawesome-webfont.svg"},791:function(e,t,r){e.exports=r.p+"kobologo.svg"},792:function(e,t,r){e.exports=r.p+"kobologoS.svg"},793:function(e,t,r){e.exports=r.p+"signup_photo.jpg"},794:function(e,t,r){e.exports=r.p+"chart-vertical.png"},795:function(e,t,r){e.exports=r.p+"chart-horizontal.png"},796:function(e,t,r){e.exports=r.p+"chart-donut.png"},797:function(e,t,r){e.exports=r.p+"chart-area.png"},798:function(e,t,r){e.exports=r.p+"chart-pie.png"},799:function(e,t,r){e.exports=r.p+"chart-line.png"},8:function(e,r,o){"use strict";(function(e){o.d(r,"a",function(){return a});var a,n=o(14),s=o.n(n),i=o(3),l=o(2);(function(){var r=function(t){return e.ajax(Object(i.assign)({},{dataType:"json",method:"GET"},t))},o={a:"assets",c:"collections",p:"permissions"};e(document).ajaxError(function(e,r,o){403!==r.status&&401!==r.status&&404!==r.status||a.selfProfile().done(function(e){if("user is not logged in"===e.message){var o=t("Please try reloading the page. If you need to contact support, note the following message: <pre>##server_message##</pre>"),a=r.status.toString();r.responseJSON&&r.responseJSON.detail&&(a+=": "+r.responseJSON.detail),o=o.replace("##server_message##",a),s.a.alert(t("You are not logged in"),o)}})}),Object(i.assign)(this,{selfProfile:function(){return r({url:"".concat(l.ROOT_URL,"/me/")})},districts:function(e){return r({url:"".concat(l.ROOT_URL,"/core/province/").concat(e,"/")})},municipalities:function(e){return r({url:"".concat(l.ROOT_URL,"/core/district/").concat(e,"/")})},serverEnvironment:function(){return r({url:"".concat(l.ROOT_URL,"/environment/")})},apiToken:function(){return r({url:"".concat(l.ROOT_URL,"/token/?format=json")})},getUser:function(e){return r({url:e})},queryUserExistence:function(t){var o=new e.Deferred;return r({url:"".concat(l.ROOT_URL,"/api/v2/users/").concat(t,"/")}).done(function(){o.resolve(t,!0)}).fail(function(){o.reject(t,!1)}),o.promise()},logout:function(){var t=new e.Deferred;return r({url:"".concat(l.ROOT_URL,"/api-auth/logout/")}).done(t.resolve).fail(function(){a.selfProfile().done(function(e){"user is not logged in"===e.message?t.resolve(e):t.fail(e)}).fail(t.fail)}),t.promise()},patchProfile:function(e){return r({url:"".concat(l.ROOT_URL,"/me/"),method:"PATCH",data:e})},listTemplates:function(){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/?q=").concat(l.COMMON_QUERIES.t)})},getCollections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.COMMON_QUERIES.c;return e.owner&&(t+=" AND owner__username__exact:".concat(e.owner)),r({url:"".concat(l.ROOT_URL,"/api/v2/assets/"),dataType:"json",data:{q:t,limit:e.pageSize||100,page:e.page||0},method:"GET"})},createAssetSnapshot:function(e){return r({url:"".concat(l.ROOT_URL,"/api/v2/asset_snapshots/"),method:"POST",data:e})},createTemporaryAssetSnapshot:function(e){var t=e.source;return r({url:"".concat(l.ROOT_URL,"/api/v2/asset_snapshots/"),method:"POST",data:{source:t}})},getHooks:function(e){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/"),method:"GET"})},getHook:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(t,"/"),method:"GET"})},addExternalService:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/"),method:"POST",data:JSON.stringify(t),dataType:"json",contentType:"application/json"})},updateExternalService:function(e,t,o){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(t,"/"),method:"PATCH",data:JSON.stringify(o),dataType:"json",contentType:"application/json"})},deleteExternalService:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(t,"/"),method:"DELETE"})},getHookLogs:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(t,"/logs/"),method:"GET"})},getHookLog:function(e,t,o){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(t,"/logs/").concat(o,"/"),method:"GET"})},retryExternalServiceLogs:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(t,"/retry/"),method:"PATCH"})},retryExternalServiceLog:function(e,t,o){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(t,"/logs/").concat(o,"/retry/"),method:"PATCH"})},getReportData:function(e){var t;return e.identifiers&&(t="?names=".concat(e.identifiers.join(","))),""!=e.group_by&&(t+="&split_by=".concat(e.group_by)),r({url:"".concat(l.ROOT_URL,"/reports/").concat(e.uid,"/").concat(t)})},cloneAsset:function(e){var t=e.uid,o=e.name,a=e.version_id,n=e.new_asset_type,s=e.parent,i={clone_from:t};return o&&(i.name=o),a&&(i.clone_from_version_id=a),n&&(i.asset_type=n),s&&(i.parent=s),r({method:"POST",url:"".concat(l.ROOT_URL,"/api/v2/assets/"),data:i})},getPermissionsConfig:function(){return r({url:"".concat(l.ROOT_URL,"/api/v2/permissions/"),method:"GET"})},getAssetPermissions:function(e){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/permission-assignments/"),method:"GET"})},bulkSetAssetPermissions:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/permission-assignments/bulk/"),method:"POST",data:JSON.stringify(t),dataType:"json",contentType:"application/json"})},assignAssetPermission:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/permission-assignments/"),method:"POST",data:JSON.stringify(t),dataType:"json",contentType:"application/json"})},removePermission:function(e){return r({method:"DELETE",url:e})},copyPermissionsFrom:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(t,"/permission-assignments/clone/"),method:"PATCH",data:{clone_from:e}})},deleteAsset:function(e){var t=e.uid;return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(t,"/"),method:"DELETE"})},subscribeToCollection:function(e){return r({url:"".concat(l.ROOT_URL,"/api/v2/asset_subscriptions/"),data:{asset:e},method:"POST"})},unsubscribeFromCollection:function(e){return r({url:"".concat(l.ROOT_URL,"/api/v2/asset_subscriptions/"),data:{asset__uid:e},method:"GET"}).then(function(e){return r({url:e.results[0].url,method:"DELETE"})})},getAssetContent:function(t){var r=t.id;return e.getJSON("".concat(l.ROOT_URL,"/api/v2/assets/").concat(r,"/content/"))},getImportDetails:function(t){var r=t.uid;return e.getJSON("".concat(l.ROOT_URL,"/imports/").concat(r,"/"))},getAsset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.url?e.getJSON(t.url):e.getJSON("".concat(l.ROOT_URL,"/api/v2/assets/").concat(t.id,"/?limit=").concat(100))},createExport:function(e){return r({url:"".concat(l.ROOT_URL,"/exports/"),method:"POST",data:e})},getAssetExports:function(e){return r({url:"".concat(l.ROOT_URL,"/exports/"),data:{q:"source:".concat(e)}})},deleteAssetExport:function(e){return r({url:"".concat(l.ROOT_URL,"/exports/").concat(e,"/"),method:"DELETE"})},getAssetXformView:function(e){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/xform/"),dataType:"html"})},searchAssets:function(t){return t.limit=200,e.ajax({url:"".concat(l.ROOT_URL,"/api/v2/assets/"),dataType:"json",data:t,method:"GET"})},_searchAssetsWithPredefinedQuery:function(e,t){var o={q:t,limit:e.pageSize||100,offset:e.page*e.pageSize||0};return e.searchPhrase&&(o.q+=" AND (".concat(e.searchPhrase,")")),e.filterProperty&&e.filterValue&&(o.q+=" AND ".concat(e.filterProperty,":").concat(e.filterValue)),e.ordering&&(o.ordering=e.ordering),!0===e.metadata&&(o.metadata="on"),!0===e.collectionsFirst&&(o.collections_first="true"),e.status&&(o.status=e.status),r({url:"".concat(l.ROOT_URL,"/api/v2/assets/"),dataType:"json",data:o,method:"GET"})},_searchMetadataWithPredefinedQuery:function(e,t){var o={q:t,limit:e.pageSize||100,offset:e.page*e.pageSize||0};return e.searchPhrase&&(o.q+=" AND (".concat(e.searchPhrase,")")),e.filterProperty&&e.filterValue&&(o.q+=" AND ".concat(e.filterProperty,':"').concat(e.filterValue,'"')),e.ordering&&(o.ordering=e.ordering),e.status&&(o.status=e.status),r({url:"".concat(l.ROOT_URL,"/api/v2/assets/metadata/"),dataType:"json",data:o,method:"GET"})},searchMyCollectionAssets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._searchAssetsWithPredefinedQuery(e,"".concat(l.COMMON_QUERIES.qbtc," AND parent__uid:").concat(e.uid))},searchMyLibraryAssets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.COMMON_QUERIES.qbtc;return e.searchPhrase||(t+=" AND parent:null"),this._searchAssetsWithPredefinedQuery(e,t)},searchMyCollectionMetadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._searchMetadataWithPredefinedQuery(e,"".concat(l.COMMON_QUERIES.qbtc," AND parent__uid:").concat(e.uid))},searchMyLibraryMetadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.COMMON_QUERIES.qbtc;return e.searchPhrase||(t+=" AND parent:null"),this._searchMetadataWithPredefinedQuery(e,t)},searchPublicCollections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.status="public-discoverable",this._searchAssetsWithPredefinedQuery(e,l.COMMON_QUERIES.c)},searchPublicCollectionsMetadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.status="public-discoverable",this._searchMetadataWithPredefinedQuery(e,l.COMMON_QUERIES.c)},assetsHash:function(){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/hash/"),method:"GET"})},createResource:function(e){return r({method:"POST",url:"".concat(l.ROOT_URL,"/api/v2/assets/"),data:e})},patchAsset:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/"),method:"PATCH",data:t})},listTags:function(e){return r({url:"".concat(l.ROOT_URL,"/tags/"),method:"GET",data:Object(i.assign)({limit:9999},e)})},loadNextPageUrl:function(e){return r({url:e,method:"GET"})},deployAsset:function(e,t){var o={active:!0},a="POST";return t&&(a="PATCH",o.version_id=e.version_id),r({method:a,url:"".concat(e.url,"deployment/"),data:o})},setDeploymentActive:function(e){var t=e.asset,o=e.active;return r({method:"PATCH",url:"".concat(t.url,"deployment/"),data:{active:o}})},createImport:function(e){var t=new FormData;return Object.keys(e).forEach(function(r){t.append(r,e[r])}),r({method:"POST",url:"".concat(l.ROOT_URL,"/imports/"),data:t,processData:!1,contentType:!1})},getResource:function(t){var r=t.id,a=o[r[0]];return e.getJSON("".concat(l.ROOT_URL,"/").concat(a,"/").concat(r,"/"))},getSubmissions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i="limit=".concat(t,"&start=").concat(o),c='&sort={"_id":-1}',u="";return a.length&&(c=!0===a[0].desc?'&sort={"'.concat(a[0].id,'":-1}'):'&sort={"'.concat(a[0].id,'":1}')),n.length&&(u="&fields=".concat(JSON.stringify(n))),r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/?").concat(i).concat(c).concat(u).concat(s),method:"GET"})},getSubmission:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(t,"/"),method:"GET"})},duplicateSubmission:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(t,"/duplicate/"),method:"POST"})},bulkPatchSubmissionsValues:function(e,t,o){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/bulk/"),method:"PATCH",data:{payload:JSON.stringify({submission_ids:t,data:o})}})},bulkPatchSubmissionsValidationStatus:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/validation_statuses/"),method:"PATCH",data:{payload:JSON.stringify(t)}})},bulkRemoveSubmissionsValidationStatus:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/validation_statuses/"),method:"DELETE",data:{payload:JSON.stringify(t)}})},updateSubmissionValidationStatus:function(e,t,o){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(t,"/validation_status/"),method:"PATCH",data:o})},removeSubmissionValidationStatus:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(t,"/validation_status/"),method:"DELETE"})},getSubmissionsQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/?").concat(t),method:"GET"})},deleteSubmission:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(t,"/"),method:"DELETE"})},bulkDeleteSubmissions:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/bulk/"),method:"DELETE",data:{payload:JSON.stringify(t)}})},getEnketoEditLink:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(t,"/edit/?return_url=false"),method:"GET"})},uploadAssetFile:function(e,t){var o=new FormData;return Object.keys(t).forEach(function(e){o.append(e,t[e])}),r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/files/"),method:"POST",data:o,processData:!1,contentType:!1})},getAssetFiles:function(e){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/files/"),method:"GET"})},deleteAssetFile:function(e,t){return r({url:"".concat(l.ROOT_URL,"/api/v2/assets/").concat(e,"/files/").concat(t,"/"),method:"DELETE"})},getHelpInAppMessages:function(){return r({url:"".concat(l.ROOT_URL,"/help/in_app_messages/"),method:"GET"})},patchHelpInAppMessage:function(e,t){return r({url:"".concat(l.ROOT_URL,"/help/in_app_messages/").concat(e,"/"),method:"PATCH",data:JSON.stringify(t),dataType:"json",contentType:"application/json"})},setLanguage:function(e){return r({url:"".concat(l.ROOT_URL,"/i18n/setlang/"),method:"POST",data:e})},environment:function(){return r({url:"".concat(l.ROOT_URL,"/environment/"),method:"GET"})},login:function(e){return r({url:"".concat(l.ROOT_URL,"/api-auth/login/?next=/me/"),data:e,method:"POST"})}})}).call(a={}),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(100,"DEFAULT_PAGE_SIZE","/home/sujit/projects/ndrrma/survey/source/jsapp/js/dataInterface.es6"),__REACT_HOT_LOADER__.register(a,"dataInterface","/home/sujit/projects/ndrrma/survey/source/jsapp/js/dataInterface.es6"))}).call(this,o(19))},85:function(e,t,r){var o,a,n,s,i,l=function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},c={}.hasOwnProperty,u=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};s=r(15),n=r(25),a=r(24),o=r(50),(i={}).SkipLogicFactory=function(){function e(e){this.survey=e}return e.prototype.create_operator=function(e,t,r){var o;switch(e){case"text":o=new i.TextOperator(t);break;case"date":o=new i.DateOperator(t);break;case"basic":o=new i.SkipLogicOperator(t);break;case"existence":o=new i.ExistenceSkipLogicOperator(t);break;case"select_multiple":o=new i.SelectMultipleSkipLogicOperator(t);break;case"empty":return new i.EmptyOperator}return o.set("id",r),o},e.prototype.create_criterion_model=function(){return new i.SkipLogicCriterion(this,this.survey)},e.prototype.create_response_model=function(e){var t;switch(t=null,e){case"integer":t=new i.IntegerResponseModel;break;case"decimal":t=new i.DecimalResponseModel;break;default:t=new i.ResponseModel(e)}return t.set("type",e)},e}(),i.SkipLogicCriterion=function(e){function t(e,r){this.factory=e,this.survey=r,t.__super__.constructor.call(this)}return l(t,e),t.prototype.serialize=function(){var e;if(null!=(e=this.get("response_value"))&&null!=this.get("operator")&&null!=this.get("question_cid")&&!1!==e.isValid()&&null!=e.get("value")&&this._get_question()){this._get_question().finalize();var t=this._get_question().getValue("name");return this.get("operator").serialize(t,e.get("value"))}return""},t.prototype._get_question=function(){return this.survey.findRowByCid(this.get("question_cid"),{includeGroups:!0})},t.prototype.change_question=function(e){var t,r,o,a,n;if(t=(null!=(o=this._get_question())&&"function"==typeof o.get_type?o.get_type():void 0)||{name:null},this.set("question_cid",e),r=this._get_question().get_type(),a=this.get("operator").get_id(),u.call(r.operators,a)<0?this.change_operator(r.operators[0]):t.name!==r.name&&this.change_operator(this.get("operator").get_value()),null==this.get("operator").get_type().response_type&&this._get_question().response_type!==(null!=(n=this.get("response_value"))?n.get_type():void 0))return this.change_response(null!=(response_model=this.get("response_value"))?this._get_question()._isSelectQuestion()?response_model.get("cid"):response_model.get("value"):"")},t.prototype.change_operator=function(e){var t,r,a,n,s,i,l;if(t=!1,(e=+e)<0&&(t=!0,e*=-1),a=this._get_question().get_type(),u.call(a.operators,e)>=0)return i=(l=o.operator_types[e-1]).symbol[l.parser_name[+t]],r=this.factory.create_operator("equality"===l.type?a.equality_operator_type:l.type,i,e),this.set("operator",r),(l.response_type||a.response_type)!==(null!=(n=this.get("response_value"))?n.get("type"):void 0)?this.change_response((null!=(s=this.get("response_value"))?s.get(this._get_question()._isSelectQuestion()?"cid":"value"):void 0)||""):void 0},t.prototype.get_correct_type=function(){return this.get("operator").get_type().response_type||this._get_question().get_type().response_type},t.prototype.set_option_names=function(e){s.each(e,function(e){if(null==e.get("name"))return e.set("name",a.sluggify(e.get("label")))})},t.prototype.change_response=function(e){var t,r,o,a;if((a=this.get("response_value"))&&a.get("type")===this.get_correct_type()||(a=this.factory.create_response_model(this.get_correct_type()),this.set("response_value",a)),"dropdown"===this.get_correct_type()){o=a?a.get("cid"):null;var n=this._get_question().getList();return a.set("choicelist",n),r=n.options.models,this.set_option_names(r),t=s.map(r,function(e){return e.cid}),u.call(t,e)>=0?a.set_value(e):u.call(t,o)>=0?a.set_value(o):a.set_value(r[0].cid)}return a.set_value(e)},t}(n.Model),i.Operator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.serialize=function(e,t){throw new Error("Not Implemented")},t.prototype.get_value=function(){var e;return e="",this.get("is_negated")&&(e="-"),e+this.get("id")},t.prototype.get_type=function(){return o.operator_types[this.get("id")-1]},t.prototype.get_id=function(){return this.get("id")},t}(n.Model),i.EmptyOperator=function(e){function t(){t.__super__.constructor.call(this),this.set("id",0),this.set("is_negated",!1)}return l(t,e),t.prototype.serialize=function(){return""},t}(i.Operator),i.SkipLogicOperator=function(e){function t(e){t.__super__.constructor.call(this),this.set("symbol",e),this.set("is_negated",["!=","<","<="].indexOf(e)>-1)}return l(t,e),t.prototype.serialize=function(e,t){return"${"+e+"} "+this.get("symbol")+" "+t},t}(i.Operator),i.TextOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.serialize=function(e,r){return t.__super__.serialize.call(this,e,"'"+r.replace(/'/g,"\\'")+"'")},t}(i.SkipLogicOperator),i.DateOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.serialize=function(e,r){return-1==r.indexOf("date")&&(r="date('"+r+"')"),t.__super__.serialize.call(this,e,r)},t}(i.SkipLogicOperator),i.ExistenceSkipLogicOperator=function(e){function t(e){t.__super__.constructor.call(this,e),this.set("is_negated","="===e)}return l(t,e),t.prototype.serialize=function(e){return t.__super__.serialize.call(this,e,"''")},t}(i.SkipLogicOperator),i.SelectMultipleSkipLogicOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.serialize=function(e,t){var r;return r="selected(${"+e+"}, '"+t+"')",this.get("is_negated")?"not("+r+")":r},t}(i.SkipLogicOperator),i.ResponseModel=function(e){function t(e){t.__super__.constructor.call(this),"dropdown"===e&&(this._set_value=this.set_value,this.set_value=function(e){var t;(t=this.get("choicelist").options.get(e))&&(this._set_value(t.get("name")),this.set("cid",e))})}return l(t,e),t.prototype.get_type=function(){return this.get("type")},t.prototype.set_value=function(e){return this.set("value",e,{validate:!0})},t}(n.Model),i.IntegerResponseModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.validation={value:{pattern:/^-?\d+$/,msg:"Number must be integer"}},t.prototype.set_value=function(e){return""===e&&(e=void 0),this.set("value",e,{validate:!!e})},t}(i.ResponseModel),i.DecimalResponseModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.validation={value:{pattern:"number",msg:"Number must be decimal"}},t.prototype.set_value=function(e){function t(){return"number"!=typeof e}return void 0===e||""===e?e=null:(t()&&(e=+(e=e.replace(/\s/g,""))||e),t()&&(e=+e.replace(",",".")||e),t()&&(e=e.lastIndexOf(",")>e.lastIndexOf(".")?+e.replace(/\./g,"").replace(",","."):+e.replace(",",""))),this.set("value",e,{validate:!0})},t}(i.ResponseModel),i.DateResponseModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.validation={value:{pattern:/date\(\'\d{4}-\d{2}-\d{2}\'\)/}},t.prototype.set_value=function(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)&&(e="date('"+e+"')"),this.set("value",e,{validate:!0})},t}(i.ResponseModel),e.exports=i},86:function(e,r,o){(function(r){var a,n,s,i,l=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t){for(var r in t)u.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},u={}.hasOwnProperty,p=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};s=o(15),o(25),o(85),n=o(137),a=o(50),e.exports=((i={}).SkipLogicCriterionBuilderView=function(e){function o(){return this.addCriterion=l(this.addCriterion,this),o.__super__.constructor.apply(this,arguments)}return c(o,e),o.prototype.events={"click .skiplogic__deletecriterion":"deleteCriterion","click .skiplogic__addcriterion":"addCriterion","change .skiplogic__delimselect":"markChangedDelimSelector"},o.prototype.render=function(){return s.uniqueId("skiplogic_expr"),this.$el.html("<p>\n  "+t("This question will only be displayed if the following conditions apply")+'\n</p>\n<div class="skiplogic__criterialist"></div>\n<p class="skiplogic__addnew">\n  <button class="skiplogic__addcriterion kobo-button kobo-button--green">+ '+t("Add another condition")+'</button>\n</p>\n<select class="skiplogic__delimselect">\n  <option value="and">'+t("Question should match all of these criteria")+'</option>\n  <option value="or">'+t("Question should match any of these criteria")+"</option>\n</select>"),this.$(".skiplogic__delimselect").val(this.criterion_delimiter).children("[value="+this.criterion_delimiter+"]").attr("selected","selected"),this},o.prototype.addCriterion=function(e){return this.facade.view_factory.survey.trigger("change"),this.facade.add_empty()},o.prototype.deleteCriterion=function(e){var t,o;return this.facade.view_factory.survey.trigger("change"),o=(t=r(e.target)).data("criterionId"),this.facade.remove(o),t.parent().remove()},o.prototype.markChangedDelimSelector=function(e){return this.criterion_delimiter=e.target.value},o}(n.Base),i.SkipLogicCriterion=function(e){function t(e,r,o,a){this.question_picker_view=e,this.operator_picker_view=r,this.response_value_view=o,this.presenter=a,t.__super__.constructor.call(this)}return c(t,e),t.prototype.tagName="div",t.prototype.className="skiplogic__criterion",t.prototype.render=function(){return this.question_picker_view.render(),this.alreadyRendered||this.$el.append(r('<i class="skiplogic__deletecriterion fa fa-trash-o" data-criterion-id="'+this.model.cid+'"></i>')),this.change_operator(this.operator_picker_view),this.change_response(this.response_value_view),this.alreadyRendered=!0,this},t.prototype.mark_question_specified=function(e){return null==e&&(e=!1),this.$el.toggleClass("skiplogic__criterion--unspecified-question",!e)},t.prototype.bind_question_picker=function(){var e,t;e=this.$question_picker.val(),this.mark_question_specified("placeholderVal"!==e),"placeholderVal"!==e&&""!==e&&this.question_picker_view.disable_placeholder_option(),this.$question_picker.on("change",(t=this,function(e){"placeholderVal"===e.val&&console.error("Changing question to placeholderVal should not happen!"),t.model.survey.trigger("change"),t.mark_question_specified("placeholderVal"!==e.val),t.presenter.change_question(e.val)}))},t.prototype.bind_operator_picker=function(){return this.$operator_picker.on("change",(e=this,function(){return e.operator_picker_view.value=e.$operator_picker.select2("val"),e.presenter.change_operator(e.operator_picker_view.value),e.model.survey.trigger("change")}));var e},t.prototype.bind_response_value=function(){return this.response_value_view.bind_event((e=this,function(){return e.presenter.change_response(e.response_value_view.val()),e.model.survey.trigger("change")}));var e},t.prototype.response_value_handler=function(){return this.presenter.change_response(this.response_value_view.val())},t.prototype.change_operator=function(e){return this.operator_picker_view=e,this.operator_picker_view.render(),this.$operator_picker=this.operator_picker_view.$el},t.prototype.change_response=function(e){return this.response_value_view.detach(),this.response_value_view=e,this.response_value_view.render(),this.$response_value=this.response_value_view.$el},t.prototype.attach_operator=function(){return this.operator_picker_view.attach_to(this.$el),this.bind_operator_picker()},t.prototype.attach_response=function(){return this.$(".skiplogic__responseval-wrapper").length>0&&this.$(".skiplogic__responseval-wrapper").remove(),this.response_value_view.attach_to(this.$el),this.bind_response_value()},t.prototype.attach_to=function(e){return this.question_picker_view.attach_to(this.$el),this.$question_picker=this.question_picker_view.$el,this.bind_question_picker(),this.attach_operator(),this.attach_response(),t.__super__.attach_to.apply(this,arguments)},t}(n.Base),i.QuestionPicker=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.tagName="select",t.prototype.className="skiplogic__rowselect",t.prototype.render=function(){return t.__super__.render.call(this),"placeholderVal"!==this.$el.val()&&this.disable_placeholder_option(),this.$el.on("change",this.disable_placeholder_option.bind(this)),this},t.prototype.disable_placeholder_option=function(){var e;"placeholderVal"===(e=this.$el.children(":first")).val()&&e.prop("disabled",!0)},t.prototype.attach_to=function(e){return e.find(".skiplogic__rowselect").remove(),t.__super__.attach_to.call(this,e)},t}(n.DropDown),i.OperatorPicker=function(e){function t(e){this.operators=e,t.__super__.constructor.call(this)}return c(t,e),t.prototype.tagName="div",t.prototype.className="skiplogic__expressionselect",t.prototype.render=function(){return this},t.prototype.attach_to=function(e){var r;return e.find(".skiplogic__expressionselect").remove(),t.__super__.attach_to.call(this,e),this.$el.select2({minimumResultsForSearch:-1,data:(r=this,function(){var e;return e=[],s.each(r.operators,function(t){return e.push({id:t.id,text:t.label+(1!==t.id?" ("+t.symbol[t.parser_name[0]]+")":"")}),e.push({id:"-"+t.id,text:t.negated_label+(1!==t.id?" ("+t.symbol[t.parser_name[1]]+")":"")})}),e})()}),e.find(".skiplogic__expressionselect.select2-container").show(),this.value?this.val(this.value):this.value=this.$el.select2("val"),this.$el.on("select2-close",function(e){return function(){return e._set_style()}}(this))},t.prototype.val=function(e){return null!=e?(this.$el.select2("val",e),this._set_style(),this.value=e):this.$el.val()},t.prototype._set_style=function(){var e,t,r,o;r=Number(this.$el.val()),this.$el.toggleClass("skiplogic__expressionselect--no-response-value",-1===r||1===r),0!==(t=Math.abs(r))&&(o=s.find(this.operators,function(e){return e.id===t}),e=r<0?o.abbreviated_negated_label:o.abbreviated_label,this.$el.parents(".skiplogic__criterion").find(".select2-container.skiplogic__expressionselect .select2-chosen").text(e))},t}(n.Base),i.SkipLogicEmptyResponse=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.className="skiplogic__responseval",t.prototype.attach_to=function(e){return e.find(".skiplogic__responseval").remove(),t.__super__.attach_to.call(this,e)},t}(n.EmptyView),i.SkipLogicTextResponse=function(e){function r(e){r.__super__.constructor.call(this,e,"skiplogic__responseval",t("response value"))}return c(r,e),r.prototype.attach_to=function(e){return e.find(".skiplogic__responseval").remove(),r.__super__.attach_to.apply(this,arguments)},r.prototype.bind_event=function(e){return this.$el.on("blur",e)},r}(n.TextBox),i.SkipLogicValidatingTextResponseView=function(e){function t(){return this.val=l(this.val,this),this.clear_invalid_view=l(this.clear_invalid_view,this),this.show_invalid_view=l(this.show_invalid_view,this),t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.setElement('<div class="skiplogic__responseval-wrapper">'+this.$el+"<div></div></div>"),this.$error_message=this.$("div"),this.model.bind("validated:invalid",this.show_invalid_view),this.model.bind("validated:valid",this.clear_invalid_view),this.$input=this.$el.find("input"),this},t.prototype.show_invalid_view=function(e,t){if(this.$input.val())return this.$el.addClass("textbox--invalid"),this.$error_message.html(t.value),this.$input.focus()},t.prototype.clear_invalid_view=function(e,t){return this.$el.removeClass("textbox--invalid"),this.$error_message.html("")},t.prototype.bind_event=function(e){return this.$input.on("change",e)},t.prototype.val=function(e){return null!=e?this.$input.val(e):this.$input.val()},t}(i.SkipLogicTextResponse),i.SkipLogicDropDownResponse=function(e){function t(e,r){this.responses=e,this.model=r,t.__super__.constructor.call(this,s.map(this.responses.models,function(e){return{text:e.get("label"),value:e.cid}}))}return c(t,e),t.prototype.tagName="select",t.prototype.className="skiplogic__responseval",t.prototype.attach_to=function(e){return e.find(".skiplogic__responseval").remove(),t.__super__.attach_to.call(this,e),e.find(".skiplogic__responseval.select2-container").show()},t.prototype.bind_event=function(e){return t.__super__.bind_event.call(this,"change",e)},t.prototype.render=function(){var e,r;return t.__super__.render.apply(this,arguments),r=this,e=function(){return r.val(r.model.get("cid"))},this.model.off("change:cid",e),this.model.on("change:cid",e)},t}(n.DropDown),i.SkipLogicViewFactory=function(){function e(e){this.survey=e}return e.prototype.create_question_picker=function(e){var r,o;return r=new n.DropDownModel,(o=function(){var o;(o=s.map(e.selectableRows(),function(e){return{value:e.cid,text:e.getValue("label")}})).unshift({value:"placeholderVal",text:t("Select question from list")}),r.set("options",o)})(),this.survey.on("sortablestop",o),new i.QuestionPicker(r)},e.prototype.create_operator_picker=function(e){var t;return t=null!=e?s.filter(a.operator_types,function(t){var r;return r=t.id,p.call(e.operators,r)>=0}):[],new i.OperatorPicker(t)},e.prototype.create_response_value_view=function(e,t,r){switch(null==e?"empty":null!=r.response_type?r.response_type:t.response_type){case"empty":return new i.SkipLogicEmptyResponse;case"text":return new i.SkipLogicTextResponse;case"dropdown":return new i.SkipLogicDropDownResponse(e.getList().options);case"integer":case"decimal":return new i.SkipLogicTextResponse;default:return null}},e.prototype.create_criterion_view=function(e,t,r,o){return new i.SkipLogicCriterion(e,t,r,o)},e.prototype.create_criterion_builder_view=function(){return new i.SkipLogicCriterionBuilderView},e.prototype.create_textarea=function(e,t){return new n.TextArea(e,t)},e.prototype.create_button=function(e,t){return new n.Button(e,t)},e.prototype.create_textbox=function(e,t,r){return null==t&&(t=""),null==r&&(r=""),new n.TextBox(e,t,r)},e.prototype.create_label=function(e,t){return new n.Label(e,t)},e.prototype.create_empty=function(){return new n.EmptyView},e}(),i)}).call(this,o(19))},87:function(e,t,r){var o,a,n,s,i=function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=r(15),n=r(59),o=r(24),e.exports=((s={}).Option=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.initialize=function(){return this.unset("list name"),this.unset("list_name")},t.prototype.destroy=function(){var e,t,r;return t=(e=this.list()._parent).cid,r=e.collection._parent,this.collection.remove(this),r.trigger("remove-option",t,this.cid)},t.prototype.list=function(){return this.collection},t.prototype.getKeys=function(e){var t,r,o;for(t in r=[],o=this.attributes)o[t],e?this.get(t)&&r.push(t):r.push(t);return r},t.prototype.toJSON=function(){var e,t,r;for(t in e={},r=this.attributes)r[t],e[t]=this.get(t);return e},t}(n.BaseModel),s.Options=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.model=s.Option,t}(n.BaseCollection),s.ChoiceList=function(e){function t(e,r){var o;null==e&&(e={}),o=e.options||[],t.__super__.constructor.call(this,{name:e.name},r),this.options=new s.Options(o||[],{_parent:this})}return i(t,e),t.prototype.idAttribute="name",t.prototype.summaryObj=function(){return this.toJSON()},t.prototype.getSurvey=function(){return this.collection.getSurvey()},t.prototype.getList=function(){return this.__cascadedList?this.__cascadedList:null},t.prototype._get_previous_linked_choice_list=function(){return this.collection.find((e=this,function(t){return t.getList()===e}));var e},t.prototype._get_last_linked_choice_list=function(){var e,t;for(t=e=this;e=t._get_previous_linked_choice_list();)t=e;return t},t.prototype._get_first_linked_choice_list=function(){var e,t;for(t=e=this;e=t.getList();)t=e;return t},t.prototype._has_corresponding_row=function(){var e;return e=this.get("name"),!!this.getSurvey().rows.find(function(t){return t.get("type").get("listName")===e})},t.prototype._create_corresponding_row_data=function(e){var t,r,o,n,s,i;for(null==e&&(e={}),o=!!e._full_path_choice_filter,r=this._get_first_linked_choice_list(),s=[],(i=[]).push((t=function(e){var t;return{label:t=e.get("name"),type:"select_one "+t,choice_filter:(o?s:a.compact([a.last(s)])).map(function(e){var t;return(t=e.get("name"))+"=${"+t+"}"}).join(" and ")}})(r)),n=r,s.push(r);n=n._get_previous_linked_choice_list();)i.push(t(n)),s.push(n);return i},t.prototype.create_corresponding_rows=function(e){var t,r,o,a,n,s,i,l;for(null==e&&(e={}),i=this._create_corresponding_row_data(),l=this.getSurvey(),t=e.at||0,n=[],r=0,o=(a=i.reverse()).length;r<o;r++)s=a[r],n.push(l.addRowAtIndex(s,t));return n},t.prototype.getOptionKeys=function(e){var t,r,o,n,s,i,l,c;for(null==e&&(e=!0),i=[],t=0,o=(l=this.options.models).length;t<o;t++)for(r=0,n=(c=l[t].getKeys(e)).length;r<n;r++)s=c[r],i.push(s);return a.uniq(i)},t.prototype.finalize=function(){var e,t,r,a,n,s,i;for(n=[],e=0,r=(i=this.options.models).length;e<r;e++)t=(s=i[e]).get("label"),(a=s.get("name"))||(a=o.sluggify(t,{preventDuplicates:n,lowerCase:!0,lrstrip:!0,characterLimit:40,incrementorPadding:!1,validXmlTag:!1}),s.set("name",a)),n.push(a)},t.prototype.clone=function(){var e;return delete(e=this.toJSON()).name,a.assign(new s.ChoiceList(e),{collection:this.collection})},t.prototype.toJSON=function(){return this.finalize(),{name:this.get("name"),options:this.options.invoke("toJSON")}},t.prototype.getNames=function(){var e;return e=this.options.map(function(e){return e.get("name")}),a.compact(e)},t}(n.BaseModel),s.ChoiceLists=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.model=s.ChoiceList,t.prototype.create=function(){var e;return this.add(e=new s.ChoiceList({name:o.txtid()})),e},t.prototype.getListNames=function(){return this.invoke("get","name")},t.prototype.summaryObj=function(e){var t,r,o,a,n;for(null==e&&(e=!1),a={},t=0,r=(n=this.models).length;t<r;t++)a[(o=n[t]).get("name")]=e?o.summaryObj().options:o.summaryObj();return a},t}(n.BaseCollection),s)},93:function(e,t,r){(function(t){var o,a,n,s,i,l,c,u,p,d,m,_,f,h,b=function(e,t){for(var r in t)g.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},g={}.hasOwnProperty,v=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1},y=[].slice;d=r(15),o=r(59),a=r(87),c=r(24),n=r(37),p=r(326),u=r(99),s=r(138),i=r(139),l=r(328),m=r(94),e.exports=((f=function(e){function r(e,t){var o,s,l,c,p,d,m;if(null==e&&(e={}),r.__super__.constructor.call(this),e.error)throw new Error("instantiating survey with error parameter");if(this._initialParams=e,this.settings=new _(e.settings,{_parent:this}),e.settings||this.settings.enable_auto_name(),(d=this.settings.get("name")||e.name)&&this.set("name",d),this.newRowDetails=e.newRowDetails||n.newRowDetails,this.defaultsForType=e.defaultsForType||n.defaultsForType,this.surveyDetails=new u.SurveyDetails([],{_parent:this}).loadSchema(e.surveyDetailsSchema||n.surveyDetailSchema),this.choices=new a.ChoiceLists([],{_parent:this}),i.loadChoiceLists(e.choices||[],this.choices),e.survey)for(i.hasBeenParsed(e)||(e.survey=i.parseArr(e.survey)),o=0,s=(c=e.survey).length;o<s;o++){if(void 0!==(l=c[o]).id)throw new Error("Forbidden column `id` for row: "+JSON.stringify(l,null,2));p=l.type,v.call(n.surveyDetailSchema.typeList(),p)>=0?this.surveyDetails.importDetail(l):this.rows.add(l,{collection:this.rows,silent:!0,_parent:this.rows})}else this.surveyDetails.importDefaults();this.context={warnings:[],errors:[]},this.forEachRow((m=this,function(e){if("function"==typeof e.linkUp)return e.linkUp(m.context)})),this.linkUpChoiceLists()}return b(r,e),r.create=function(e,t){return null==e&&(e={}),new r(e,t)},r.prototype.linkUpChoiceLists=function(){var e,t,r,o,a,n;for(e=this.choices.getListNames(),r=0,o=(n=this.choices.models).length;r<o;r++){if(t=n[r],(a=d.intersection(e,t.getOptionKeys(!0))).length>1)throw new Error("cascading choices can only reference one choice list");1===a.length&&(t.__cascadedList=this.choices.get(a[0]))}},r.prototype.insert_row=function(e,t){var r,o,a,n;return e._isCloned?this.rows.add(e,{at:t}):this.rows.add(e.toJSON(),{at:t}),o=this.rows.at(t),n=this.getSurvey(),(a=e.getList())&&(n.choices.add({options:a.options.toJSON()}),o.get("type").set("list",a)),(r=o.get("name")).set("value",r.deduplicate(n))},r.prototype._ensure_row_list_is_copied=function(e){var t;if(!e.rows&&(t=e.getList()))return this.choices.add({name:t.get("name"),options:t.options.toJSON()})},r.prototype.insertSurvey=function(e,t,r){var o,a,n,s,i,l,c,u,p;for(null==t&&(t=-1),-1===t&&(t=this.rows.length),u=a=0,s=(l=e.rows.models).length;a<s;u=++a){if(c=l[u],p=this,r){if(!(o=this.findRowByCid(r,{includeGroups:!0})))throw new Error("Couldn't find group "+r+"!");p=o}n=t+u,c.rows?(c.forEachRow&&c.forEachRow(function(e){return function(t){return e._ensure_row_list_is_copied(t)}}(this),{includeGroups:!0}),this._insertRowInPlace(c,{index:n,parent:p,noDetach:!0}),this.trigger("change")):(this._ensure_row_list_is_copied(c),(i=c.get("name")).set("value",i.deduplicate(this)),p.rows.add(c.toJSON(),{at:n}))}},r.prototype.toFlatJSON=function(e,r){var o,a,n,s,i,l,c,u,p,m;if(null==e&&(e=!1),null==r&&(r=4),(c=this.toJSON()).survey=function(){var e,t,r,o;for(o=[],e=0,t=(r=c.survey).length;e<t;e++)p=r[e],d.isObject(p.type)&&(p.type=[d.keys(p.type)[0],d.values(p.type)[0]].join(" ")),o.push(p);return o}(),d.isObject(c.choices)){for(s in a=[],u=c.choices)if(g.call(u,s))for(n=0,i=(m=u[s]).length;n<i;n++)l=m[n],delete(o=t.extend({list_name:s},l)).setManually,a.push(o);c.choices=a}return c.settings=[this.settings.attributes],e?JSON.stringify(c,null,r):c},r.prototype.toJSON=function(e,t){var r,o,n,s,i;for(s in null==e&&(e=!1),null==t&&(t=4),o={},r={choices:new a.ChoiceLists},o.survey=(i=this,function(){var e,t,o,a,n,s;for(a=[],e=function(e){var t;return"getList"in e&&(t=e.getList())&&r.choices.add(t),"function"==typeof e.export_relevant_values?e.export_relevant_values(a,r):console.error("No r.export_relevant_values. Does this survey have non-standard columns?",e)},i.forEachRow(e,{includeGroupEnds:!0}),t=0,o=(n=i.surveyDetails.models).length;t<o;t++)(s=n[t]).get("value")&&a.push(s.toJSON());return a})(),r)(n=r[s]).length>0&&(o[s]=n.summaryObj(!0));return e?JSON.stringify(o,null,t):o},r.prototype.getSurvey=function(){return this},r.prototype.log=function(e){var t,r,o;null==e&&(e={}),t=e.log||function(){var e;return e=1<=arguments.length?y.call(arguments,0):[],console.log.apply(console,e)},o=["-"],r=function(e){return"forEachRow"in e?(t(o.join("").replace(/-/g,"="),e.get("label").get("value")),o.push("-"),e.forEachRow(r,{flat:!0,includeGroups:!0}),o.pop()):t(o.join(""),e.get("label").get("value"))},this.forEachRow(r,{flat:!0,includeGroups:!0})},r.prototype.summarize=function(){var e,t,r;return r=0,t=!1,e=function(e){return"geopoint"===e.get("type").get("value")&&(t=!0),r++},this.forEachRow(e,{includeGroups:!1}),{rowCount:r,hasGps:t}},r.prototype._insertRowInPlace=function(e,t){var r,o,a;null==t&&(t={}),e._parent&&!t.noDetach&&e.detach({silent:!0}),r=0,t.index&&(r=t.index),a=t.previous,o=t.parent,a&&(r=(o=a.parentRow()).rows.indexOf(a)+1),o||(o=this),o.rows.add(e,{at:r}),e._parent=o.rows,t.event&&o.rows.trigger(t.event)},r.prototype.prepCols=function(e,t){var r,o,a;if(null==t&&(t={}),o=t.exclude||[],r=t.add||[],d.isString(o)||d.isString(r))throw new Error("prepCols parameters should be arrays");return(a=d.filter(d.uniq(d.flatten(e)),function(e){return v.call(o,e)<0})).concat.apply(a,r)},r.prototype.toSsStructure=function(){var e,t,r,o;for(o in t={},r=this.toCsvJson())e=r[o],t[o]=e.rowObjects;return t},r.prototype.toCsvJson=function(){var e,t,r;return this.finalize(),(t={}).survey=(r=this,function(){var e,t,o,a,n,s,i;for(a=["name","type","label"],n=[],e=function(e){var t,r;for(r in t=e.toJSON())g.call(t,r)&&(t[r],v.call(a,r)<0&&a.push(r));return n.push(t)},r.forEachRow(e,{includeErrors:!0,includeGroupEnds:!0}),t=0,o=(s=r.surveyDetails.models).length;t<o;t++)(i=s[t]).get("value")&&e(i);return{columns:a,rowObjects:n}})(),(e=function(e){return function(){var t,r,o,n,s,i,l,u,p,m,_,f,h;for(p=new a.ChoiceLists,e.forEachRow(function(e){var t;return(t=function(e){var r;if("getList"in e&&(r=e.getList())&&!p.get(r.get("name")))return p.add(r),t(r)})(e)}),h=[],n=[],s=0,l=(_=p.models).length;s<l;s++)for((t=_[s]).get("name")||t.set("name",c.txtid(),{silent:!0}),t.finalize(),o=(r=t.toJSON()).name,i=0,u=(f=r.options).length;i<u;i++)m=f[i],n.push(d.keys(m)),h.push(d.extend({},m,{list_name:o}));return h.length>0&&{columns:e.prepCols(n,{exclude:["setManually"],add:["list_name"]}),rowObjects:h}}}(this)())&&(t.choices=e),t.settings=this.settings.toCsvJson(),t},r.prototype.toMarkdown=function(){return l.csvJsonToMarkdown(this.toCsvJson())},r.prototype.toCSV=function(){var e,t,r,o;for(o in r=m.sheeted(),t=this.toCsvJson())e=t[o],r.sheet(o,m(e));return r.toString()},r}(p.SurveyFragment)).load=function(e,t){var r,o;if(null==t&&(t=!1),d.isString(e)&&!h(e))throw Error("Invalid CSV passed to form builder");return r=s.deserialize(e),o=i.parse(r),new f(o)},f.load.csv=function(e){return f.load(e,!0)},f.load.md=function(e){var t;return t=l.mdSurveyStructureToObject(e),new f(t)},f.loadDict=function(e,t){var r;return r=i.parse(e,t),new f(r)},h=function(e){return v.call(e,"\n")>=0&&v.call(e,",")>=0},_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.validation={},t.prototype.toCsvJson=function(){return{columns:d.keys(this.attributes),rowObjects:[this.toJSON()]}},t.prototype.enable_auto_name=function(){var e;return this.auto_name=!0,this.on("change:form_id",(e=this,function(){return e.changing_form_title?e.changing_form_title=!1:e.auto_name=!1})),this.on("change:form_title",function(e){return function(t,r){if(e.auto_name)return e.changing_form_title=!0,e.set("form_id",c.sluggifyLabel(r))}}(this))},t}(o.BaseModel),{Survey:f,Settings:_})}).call(this,r(19))},94:function(e,t){var r,o,a,n,s,i,l,c,u,p,d,m,_=[].slice,f={}.hasOwnProperty,h=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};e.exports=(r=function(){function e(e,t){var r,o,s,i,l,u,d;if(null==t&&(t={}),n(e))this.string=e,u=p.toArray(this.string),this.rows=c(u),this.columns=u[0],this.rowArray=2<=u.length?_.call(u,1):[];else if(a(e))this.rows=e,this.columns=(d=this,function(){var e,t,r,o,a,n;for(e=[],t=0,o=(a=d.rows).length;t<o;t++)for(r in n=a[t])f.call(n,r)&&h.call(e,r)<0&&e.push(r);return e})(),this.buildRowArray(),this.obj=e;else if(e){if(this.columns=a(e.columns)?e.columns:[],e.rowObjects){if(0===this.columns.length)for(r=0,s=(i=e.rowObjects).length;r<s;r++)for(o in l=i[r])l[o],o in columns||this.columns.push(o);this.rowArray=function(t){return function(){var r,o,a,n,s;for(s=[],o=0,a=(n=e.rowObjects).length;o<a;o++)l=n[o],s.push(function(){var e,t,o,a;for(a=[],e=0,t=(o=this.columns).length;e<t;e++)r=o[e],a.push(l[r]);return a}.call(t));return s}}(this)()}else this.rowArray=a(e.rows)?e.rows:[];null!=e.kind&&(this.kind=e.kind),this.rows=function(e){return function(){var t,r,o,a,n,s,i,c,u;for(c=[],o=0,n=(i=e.rowArray).length;o<n;o++){for(u={},r=a=0,s=(l=i[o]).length;a<s;r=++a)t=l[r],null!=e.columns[r]&&(u[e.columns[r]]=t);c.push(u)}return c}}(this)()}else this.rows=[],this.columns=[],this.rowArray=[]}return e.prototype.buildRowArray=function(){return this.rowArray=(e=this,function(){var t,r,o,a,n,s;for(n=[],r=0,o=(a=e.rows).length;r<o;r++)s=a[r],n.push(function(){var e,r,o,a;for(a=[],e=0,r=(o=this.columns).length;e<r;e++)t=o[e],a.push(s[t]||"");return a}.call(e));return n})();var e},e.prototype.addRow=function(e){var t,r,o;for(o in t=!1,e)f.call(e,o)&&(e[o],h.call(this.columns,o)<0&&(t=!0,this.columns.push(o)));return this.rows.push(e),t?this.buildRowArray():this.rowArray.push(function(){var t,o,a,n;for(n=[],t=0,o=(a=this.columns).length;t<o;t++)r=a[t],n.push(e[r]);return n}.call(this)),e},e.prototype.toObjects=function(e){return null==e&&(e={}),this.string?p.toObjects(this.string,e):this.rows?this.rows:void 0},e.prototype.toObject=function(){var e;return e={columns:this.columns,rows:this.rowArray},this.kind&&(e.kind=this.kind),e},e.prototype.toArrays=function(){var e,t,r,o,a;for(r=[this.columns],e=0,t=(o=this.rowArray).length;e<t;e++)(a=o[e]).length>0&&r.push(a);return r},e.prototype.toString=function(){var e,t;return function(){var t,r,o,a;for(a=[],t=0,r=(o=this.columns).length;t<r;t++)e=o[t],a.push(u(e));return a}.call(this).join(p.settings.delimiter)+"\n"+function(){var r,o,a,n;for(n=[],r=0,o=(a=this.rowArray).length;r<o;r++)t=a[r],n.push(function(){var r,o,a;for(a=[],r=0,o=t.length;r<o;r++)e=t[r],a.push(u(e));return a}().join(p.settings.delimiter));return n}.call(this).join("\n")},e}(),i=function(e){return e.replace(/\\\\/g,"\\")},u=function(e){var t;return void 0===e?"":RegExp("\\W|\\w|"+p.settings.delimiter).test(e)?(t=JSON.stringify(""+e),i(t)):e},(p=function(e,t){return e instanceof r?e:new r(e,t)}).fromStringArray=function(e,t){var r,o;return null==t&&(t={}),function(){var t,a,n;for(n=[],t=0,a=e.length;t<a;t++)o=e[t],n.push(function(){var e,t,a;for(a=[],e=0,t=o.length;e<t;e++)r=o[e],a.push(u(r));return a}().join(p.settings.delimiter));return n}().join("\n")},p.fromArray=function(e,t){var r,o,a,n,s,i,l,c;for(null==t&&(t={}),c=!!t.sort,o=[],a=0,s=e.length;a<s;a++)for(n in l=e[a])f.call(l,n)&&-1===o.indexOf(n)&&o.push(n);return c&&o.sort(),(i=function(){var t,a,n;for(n=[],t=0,a=e.length;t<a;t++)l=e[t],n.push(function(){var e,t,a;for(a=[],e=0,t=o.length;e<t;e++)r=o[e],a.push(u(l[r]));return a}());return n}()).unshift(function(){var e,t,a;for(a=[],e=0,t=o.length;e<t;e++)r=o[e],a.push(u(r));return a}()),p.fromStringArray(i,t)},p.toObjects=function(e){return c(p.toArray(e))},c=function(e){var t,r,o,a,n,s,i,l,c,u;for(t=e[0],l=[],o=0,n=(u=2<=e.length?_.call(e,1):[]).length;o<n;o++)if(1!==(c=u[o]).length||""!==c[0]){for(i={},r=a=0,s=t.length;a<s;r=++a)i[t[r]]=c[r];l.push(i)}return l},p.toObject=function(e,t){return l(p.toArray(e),t)},l=function(e,t){var r,o,a,n,s,i,l,c,u,p,d,m,f,h,b;for(null==t&&(t={}),r=e[0],m=2<=e.length?_.call(e,1):[],h=t.sortByKey,a=t.includeSortByKey,h||(h=r[0]),b=r.indexOf(h),p={},n=0,l=m.length;n<l;n++)if(1!==(d=m[n]).length||""!==d[0]){for(u={},f=d[b],o=s=0,c=r.length;s<c;o=++s)i=r[o],o!==b&&(u[i]=d[o]);a&&(u[h]=f),p[f]=u}return p},m=function(e){return e.replace(/(\n+)$/g,"")},p._parse_string=function(e){return JSON.parse('"'+e.replace(/\\/g,"\\\\").replace(/\\\\"/g,'\\"')+'"')},p.toArray=function(e){var t,r,o,a,n,s,i;for(p.settings.removeTrailingNewlines&&(e=m(e)),n=p.settings.delimiter,a=[],o=[],p._objPattern=new RegExp('(\\,|\\r?\\n|\\r|^)(?:"((?:(?:[^\\\\]|\\\\\\\\|[\\\\(?=")]"|[\\\\(?!")])*?))"|([^"\\,\\r\\n]*))',"gi");t=p._objPattern.exec(e);)(s=t[1]).length&&s!==n&&(a.push(o),o=[]),i=t[2]?p._parse_string(t[2]):t[3],p.settings.parseFloat&&!isNaN(r=parseFloat(i))&&(i=r),o.push(i);return a.push(o),a},o=function(){function e(e,t){var r;this._sheetIds=[],this._sheets={},n(e)&&d(e,(r=this,function(e,t){var o,a,n,s,i,l,c;for(l=[],n=0,s=e.length;n<s;n++)o=(i=t[a=e[n]])[0],c=2<=i.length?_.call(i,1):[],l.push(r.sheet(a,p({columns:o,rows:c})));return l}))}return e.prototype.sheet=function(e,t){return null==t&&(t=!1),t?(h.call(this._sheetIds,e)<0&&this._sheetIds.push(e),this._sheets[e]=t):this._sheets[e]},e.prototype.toString=function(){var e,t,r,o,a,n,s,i,l,c,d,m,_,f,h,b,g;for(d=[],o=p.settings.delimiter,n=0,l=(m=this._sheetIds).length;n<l;n++){for(g=m[n],b=this._sheets[g],r=b.columns,h=b.rowArray,a=u(g),s=0,_=r.length;0<=_?s<_:s>_;0<=_?++s:--s)a+=o;for(d.push(a),d.push(o+function(){var e,o,a;for(a=[],e=0,o=r.length;e<o;e++)t=r[e],a.push(u(t));return a}().join(o)),i=0,c=h.length;i<c;i++)f=h[i],d.push(o+function(){var t,r,o;for(o=[],r=0,t=f.length;r<t;r++)e=f[r],o.push(u(e));return o}().join(o))}return d.join("\n")},e}(),p.sheeted=function(e,t){return e instanceof o?e:new o(e,t)},d=function(e,t){var r,o,a,n,s,i,l,c,u;for(null==t&&(t=!1),u={},s=[],a=0,n=(i=p.toArray(e)).length;a<n;a++){if(r=(l=i[a])[0],c=2<=l.length?_.call(l,1):[],r&&(o=r),!o)throw new Error("Sheet id must be defined in the first column and cannot be falsey");h.call(s,o)<0&&s.push(o),u[o]||(u[o]=[]),function(){var e,t;for(e=0,t=c.length;e<t;e++)if(c[e])return!0}()&&u[o].push(c)}return t?t.apply(this,[s,u]):[s,u]},p.sheeted.toObjects=function(e){return d(e,function(e,t){var r,o,a,n;for(a={},r=0,o=e.length;r<o;r++)a[n=e[r]]=c(t[n]);return a})},p.sheeted.toArray=function(e){return d(e,function(e,t){var r,o,a,n;for(a=[],r=0,o=e.length;r<o;r++)n=e[r],a.push({id:n,sheet:c(t[n])});return a})},n=function(e){return!!(""===e||e&&e.charCodeAt&&e.substr)},s=Array.isArray,a=s||function(e){return!(!(e&&e.concat&&e.unshift)||e.callee)},Object.keys,p.settings={delimiter:",",parseFloat:!1,removeTrailingNewlines:!0},p)},98:function(e,r,o){var a,n,s,i,l,c,u,p,d,m,_,f,h,b,g,v,y,w,k,E,x=function(e,t){for(var r in t)S.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},S={}.hasOwnProperty,T=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1},O=[].slice;u=o(15),c=o(25),p=o(14),d=o(59),n=o(37),l=o(24),o(99),o(71),s=o(327),a=o(87),i=o(50),m=o(3).readParameters,_=o(3).writeParameters,e.exports=((E={}).BaseRow=function(e){function t(e,r){var o;for(o in null==e&&(e={}),null==r&&(r={}),e)e[o],""===o&&delete e[o];t.__super__.constructor.call(this,e,r)}return x(t,e),t.kls="BaseRow",t.prototype.ensureKuid=function(){if(!("$kuid"in this.attributes))return this.set("$kuid",l.txtid())},t.prototype.initialize=function(){return this.ensureKuid(),this.convertAttributesToRowDetails()},t.prototype.isError=function(){return!1},t.prototype.convertAttributesToRowDetails=function(){var e,t,r,o;for(e in r=[],t=this.attributes)(o=t[e])instanceof s.RowDetail?r.push(void 0):r.push(this.set(e,new s.RowDetail({key:e,value:o},{_parent:this}),{silent:!0}));return r},t.prototype.attributesArray=function(){var e,t,r;return(e=function(){var e,o;for(t in o=[],e=this.attributes)r=e[t],o.push([t,r]);return o}.call(this)).sort(function(e,t){return e[1]._order<t[1]._order?-1:1}),e},t.prototype.isGroup=function(){return"Group"===this.constructor.kls},t.prototype.isInGroup=function(){var e,t;return"Group"===(null!=(e=this._parent)&&null!=(t=e._parent)?t.constructor.kls:void 0)},t.prototype.detach=function(e){this._parent&&(this._parent.remove(this,e),this._parent=null)},t.prototype.selectableRows=function(){var e,t,r,o,a;return r=[],e=!1,t=["datetime","time","note","calculate","group","kobomatrix","repeat","rank","score"],null===(o=this.getSurvey())?null:(o.forEachRow((a=this,function(o){var n;if(!(e=e||o===a)&&(n=o.getValue("type"),T.call(t,n)<0))return r.push(o)}),{includeGroups:!0}),r)},t.prototype.export_relevant_values=function(e,t){return e.push(this.toJSON2())},t.prototype.toJSON2=function(){var e,t,r,o,a,s,i,l,c;for(o={},e=0,r=(a=this.attributesArray()).length;e<r;e++)t=(s=a[e])[0],c=s[1],"type"!==t||"select_one"!==(i=c.get("typeId"))&&"select_multiple"!==i?(l=this.getValue(t),this.hidden||(u.isBoolean(l)?o[t]=n.boolOutputs[l?"true":"false"]:""!==l&&(o[t]=l))):(o.type=c.get("typeId"),o.select_from_list_name=c.get("listName"));return o},t.prototype.toJSON=function(){var e,t,r,o,a,s,i;for(o={},e=0,r=(a=this.attributesArray()).length;e<r;e++)t=(s=a[e])[0],s[1],i=this.getValue(t),this.hidden||(u.isBoolean(i)?o[t]=n.boolOutputs[i?"true":"false"]:o[t]=i);return o},t}(d.BaseModel),k=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,e),t.prototype.finalize=function(){},t.prototype.simpleEnsureKuid=function(){if(!("$kuid"in this.attributes))return this.set("$kuid",l.txtid())},t.prototype.getTypeId=function(){return this.get("type")},t.prototype.linkUp=function(){},t.prototype._isSelectQuestion=function(){return!1},t.prototype.get_type=function(){return i.question_types[this.getTypeId()]||i.question_types.default},t.prototype.getValue=function(e){return this.get(e)},t}(c.Model),h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,k),t.prototype.initialize=function(){return this.simpleEnsureKuid(),this.set("type","rank__level")},t.prototype.export_relevant_values=function(e,t){return e.push(this.attributes)},t}(),v=function(){function e(){}return e.prototype._extendAll=function(e){var t,r,o,a,n,s,i,c;if(a=function(t,r){return u.isFunction(t)?e[r]=function(){var r;return r=1<=arguments.length?O.call(arguments,0):[],t.apply(e,r)}:e[r]=t},u.each(this,a),a(this.forEachRow,"forEachRow"),t=e.getValue("$kuid",!1),r=this.end_json({$kuid:"/"+t}),e._afterIterator=function(e,t){var o;if(o={export_relevant_values:function(e,t){return e.push(u.extend({},r))},toJSON:function(){return u.extend({},r)}},t.includeGroupEnds)return e(o)},o=e.toJSON,e.clone=function(){var t,r,o,a,n,s,i,c,u,p,d,m,_,f,h,b,g,v;if(t=e.toJSON2(),d={_parent:e._parent,add:!1,merge:!1,remove:!1,silent:!0},(m=new E.Row(t,d))._isCloned=!0,e._rankRows){for(r=0,s=(f=e._rankRows.models).length;r<s;r++)_=f[r],m._rankRows.add(_.toJSON());for(m._rankLevels=e.getSurvey().choices.add({name:l.txtid()}),a=0,i=(h=e.getList().options.models).length;a<i;a++)o=h[a],m._rankLevels.options.add(o.toJSON());m.set("kobo--rank-items",m._rankLevels.get("name")),this.convertAttributesToRowDetails(),m.get("type").set("list",m._rankLevels)}else{for(n=0,c=(b=e._scoreRows.models).length;n<c;n++)v=b[n],m._scoreRows.add(v.toJSON());for(m._scoreChoices=e.getSurvey().choices.add({name:l.txtid()}),p=0,u=(g=e.getList().options.models).length;p<u;p++)o=g[p],m._scoreChoices.options.add(o.toJSON());m.set("kobo--score-choices",m._scoreChoices.get("name")),this.convertAttributesToRowDetails(),m.get("type").set("list",m._scoreChoices)}return m},e.toJSON=function(){return u.extend(o.call(e),{type:"begin_"+e._beginEndKey()},"function"==typeof this._additionalJson?this._additionalJson():void 0)},u.each(this.constructor.prototype,a),e.attributes.__rows){for(n=0,s=(i=e.attributes.__rows).length;n<s;n++)c=i[n],this[this._rowAttributeName].add(c);return delete e.attributes.__rows}},e.prototype.getValue=function(e){return this.get(e)},e.prototype.end_json=function(e){return null==e&&(e={}),u.extend({type:"end_"+this._beginEndKey()},e)},e.prototype.forEachRow=function(e,t){if(e(this),this[this._rowAttributeName].each(function(t){return e(t)}),"_afterIterator"in this)return this._afterIterator(e,t)},e}(),b=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,e),t.prototype.model=h,t}(c.Collection),f=function(e){function r(e){this._rankRows=new b,this._rowAttributeName="_rankRows",this._extendAll(e),e.get("kobo--rank-constraint-message")||e.set("kobo--rank-constraint-message",t("Items cannot be selected more than once"))}return x(r,v),r.prototype._beginEndKey=function(){return"rank"},r.prototype.linkUp=function(e){var t,r,o;return t=null!=(r=this.get("kobo--rank-items"))?r.get("value"):void 0,this._rankLevels=t?this.getSurvey().choices.get(t):this.getSurvey().choices.create(),this._additionalJson=(o=this,function(){return{"kobo--rank-items":o.getList().get("name")}}),this.getList=function(e){return function(){return e._rankLevels}}(this)},r.prototype.export_relevant_values=function(e,t){var r;this._rankLevels&&t.choices.add(this._rankLevels),(r=u.clone(this.toJSON2())).type="begin_rank",r["kobo--rank-items"]=this.getList().get("name"),e.push(r)},r}(),function(e){x(function e(){return e.__super__.constructor.apply(this,arguments)},Array)}(),y=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,k),t.prototype.initialize=function(){return this.set("type","score__row"),this.simpleEnsureKuid()},t.prototype.export_relevant_values=function(e,t){return e.push(this.attributes)},t}(),w=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,e),t.prototype.model=y,t}(c.Collection),g=function(e){function t(e){this._scoreRows=new w,this._rowAttributeName="_scoreRows",this._extendAll(e)}return x(t,v),t.prototype._beginEndKey=function(){return"score"},t.prototype.linkUp=function(e){var t,r,o;this.getList=(o=this,function(){return o._scoreChoices}),this._additionalJson=function(e){return function(){return{"kobo--score-choices":e.getList().get("name")}}}(this),(r=this.get("kobo--score-choices"))?(t=r.get("value"))?this._scoreChoices=this.getSurvey().choices.get(t):(e.warnings.push("Score choices list not found"),this._scoreChoices=this.getSurvey().choices.add({})):(e.warnings.push("Score choices list not set"),this._scoreChoices=this.getSurvey().choices.add({name:l.txtid()}))},t.prototype.export_relevant_values=function(e,t){var r,o;(o=this._scoreChoices)&&t.choices.add(o),(r=u.clone(this.toJSON2())).type="begin_score",r["kobo--score-choices"]=this.getList().get("name"),e.push(r)},t}(),E.Row=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,e),t.kls="Row",t.prototype.initialize=function(){var e,t,r,o,a,s,i,c,p,d,m,_,h,b,v;for(s in this._parent?(a=this._parent.newRowDetails||n.newRowDetails,o=this._parent.defaultsForType||n.defaultsForType):("undefined"!=typeof console&&null!==console&&console.error("Row not linked to parent survey."),a=n.newRowDetails,o=n.defaultsForType),t=this.attributes.type&&this.attributes.type in o?o[this.attributes.type]:{},r=u.extend({},a,t))if(_=r[s],!(s in this.attributes)){for(h in i={},_)b=_[h],i[h]="function"==typeof b?b():b;this.set(s,i)}return"$kuid"in this.attributes||this.set("$kuid",l.txtid()),"score"===(e=this.getValue("type"))?new g(this):"rank"===e&&new f(this),this.convertAttributesToRowDetails(),d=(m=this.get("type")).get("value"),(p=this.get("select_from_list_name"))&&d&&(d=d+" "+p.get("value"),m.set("value",d,{silent:!0})),v=this,(c=function(e,t,r){var o,a,s,i,l,c;if(u.isObject(t)?(c=u.keys(t)[0],a=u.values(t)[0]):(c=(i=t.split(" "))[0],a=i[1],s=i[2]),m.set("typeId",c,{silent:!0}),a&&(m.set("listName",a,{silent:!0}),(o=v.getSurvey().choices.get(a))&&m.set("list",o)),"or_other"!==s&&"select_one_or_other"!==c&&"select_multiple_or_other"!==c||m.set("orOther",s,{silent:!0}),l=n.lookupRowType(c))return m.set("rowType",l,{silent:!0});throw new Error("type `"+c+"` not found")})(m,d,{}),m.on("change:value",c),m.on("change:listName",function(e,t,r){var o,a;return o=m.get("rowType"),a=""+m.get("typeId"),o.specifyChoice&&t&&(a+=" "+t),o.orOtherOption&&m.get("orOther")&&(a+=" or_other"),m.set({value:a},{silent:!0})}),m.on("change:list",function(e,t,r){var o;if(m.get("rowType").specifyChoice)return(o=t.get("name"))||(o=l.txtid(),t.set("name",o,{silent:!0})),this.set("value",this.get("typeId")+" "+o)})},t.prototype.getTypeId=function(){return this.get("type").get("typeId")},t.prototype.clone=function(){var e,t,r,o,a,n;return e={},o={_parent:this._parent,add:!1,merge:!1,remove:!1,silent:!0},u.each(this.attributes,(n=this,function(t,r){return e[r]=n.getValue(r)})),"select_one"!==(a=(r=(t=new E.Row(e,o)).get("type")).get("typeId"))&&"select_multiple"!==a||(r.set("list",this.getList().clone()),r.set("listName",r.get("list").get("name"))),this.getSurvey().trigger("change"),t},t.prototype.finalize=function(){var e,t;return this.getValue("name")||(t=[],this.getSurvey().forEachRow(function(e){var r;if(r=e.getValue("name"))return t.push(r)}),e=this.getValue("label"),this.get("name").set("value",l.sluggifyLabel(e,t))),this},t.prototype.get_type=function(){return i.question_types[this.getTypeId()]||i.question_types.default},t.prototype._isSelectQuestion=function(){var e;return"select_one"===(e=this.get("type").get("typeId"))||"select_multiple"===e},t.prototype.getAcceptedFiles=function(){var e,t;return null!=(e=this.attributes["body::accept"])&&null!=(t=e.attributes)?t.value:void 0},t.prototype.setAcceptedFiles=function(e){this.setDetail("body::accept",e)},t.prototype.getParameters=function(){var e,t;return m(null!=(e=this.attributes.parameters)&&null!=(t=e.attributes)?t.value:void 0)},t.prototype.setParameters=function(e){var t;t=_(e),this.setDetail("parameters",t)},t.prototype.getList=function(){var e,t;return!(e=null!=(t=this.get("type"))?t.get("list"):void 0)&&this._isSelectQuestion()&&(e=new a.ChoiceList({name:l.txtid()}),this.setList(e)),e},t.prototype.setList=function(e){var t;if((t=this.getSurvey().choices.get(e))||(this.getSurvey().choices.add(e),t=this.getSurvey().choices.get(e)),!t)throw new Error("List not found: "+e);return this.get("type").set("list",t)},t.prototype.parse=function(){var e,t,r,o;for(e in r=[],t=this.attributes)o=t[e],r.push(o.parse());return r},t.prototype.linkUp=function(e){var t,r,o,a;for(t in o=[],r=this.attributes)a=r[t],o.push(a.linkUp(e));return o},t}(E.BaseRow),E.RowError=function(e){function t(e,r){this._error=r.error,window.xlfHideWarnings||("undefined"!=typeof console&&null!==console&&console.error("Error creating row: ["+r.error+"]",e),p.error("Error creating row: ["+r.error+"]")),t.__super__.constructor.call(this,e,r)}return x(t,e),t.prototype.isError=function(){return!0},t.prototype.getValue=function(e){return e in this.attributes?this.attributes[e].get("value"):"[error]"},t}(E.BaseRow),E)},99:function(e,t,r){var o,a,n=function(e,t){for(var r in t)s.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},s={}.hasOwnProperty;o=r(59),e.exports=(a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.idAttribute="name",t.prototype.toJSON=function(){var e,t;return!!this.get("value")&&((e={}).name=this.get("name"),e.type=e.name,(t=this.get("parameters"))&&(e.parameters=t),e)},t}(o.BaseModel),{SurveyDetails:function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.model=a,t.prototype.loadSchema=function(e){var t,r,o,n;for(t=0,o=(n=e.models).length;t<o;t++)r=n[t],this.add(new a(r._forSurvey()));return this._schema=e,this.add=this.loadSchema=function(){throw new Error("New survey details must be added to the schema")},this},t.prototype.importDefaults=function(){var e,t,r,o;for(e=0,r=(o=this._schema.models).length;e<r;e++)t=o[e],this.get(t.get("name")).set("value",t.get("default"))},t.prototype.importDetail=function(e){var t;if(!(t=this.get(e.type)))throw new Error("SurveyDetail `"+key+"` not loaded from schema. [Aliases have not been implemented]");e.parameters&&t.set("parameters",e.parameters),t.set("value",!0)},t}(o.BaseCollection),SurveyDetail:a})}});